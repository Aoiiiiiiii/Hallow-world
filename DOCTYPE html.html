<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"ＭＳ ゴシック";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:游明朝;
	panose-1:2 2 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@ＭＳ ゴシック";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:"\@游明朝";}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0mm;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"游明朝",serif;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:99.25pt 30.0mm 30.0mm 30.0mm;
	layout-grid:18.0pt;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=JA style='word-wrap:break-word;text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:18.0pt'>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;!DOCTYPE
html&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;html&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;head&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;meta
charset=&quot;utf-8&quot;&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;meta
content=&quot;width=device-width, initial-scale=1&quot;
name=&quot;viewport&quot;&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;title&gt;Animal
friends&lt;/title&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;style
title=&quot;Twine CSS&quot;&gt;@keyframes
appear{0%{opacity:0}to{opacity:1}}@keyframes
fade-in-out{0%,to{opacity:0}50%{opacity:1}}@keyframes rumble{25%{top:-0.1em}75%{top:0.1em}0%,to{top:0px}}@keyframes
shudder{25%{left:0.1em}75%{left:-0.1em}0%,to{left:0px}}@keyframes
buoy{25%{top:0.25em}75%{top:-0.25em}0%,to{top:0px}}@keyframes
sway{25%{left:0.25em}75%{left:-0.25em}0%,to{left:0px}}@keyframes pulse{0%{transform:scale(0,
0)}20%{transform:scale(1.2, 1.2)}40%{transform:scale(0.9,
0.9)}60%{transform:scale(1.05, 1.05)}80%{transform:scale(0.925,
0.925)}to{transform:scale(1, 1)}}@keyframes zoom-in{0%{transform:scale(0,
0)}to{transform:scale(1, 1)}}@keyframes shudder-in{0%,
to{transform:translateX(0em)}5%, 25%, 45%{transform:translateX(-1em)}15%, 35%,
55%{transform:translateX(1em)}65%{transform:translateX(-0.6em)}75%{transform:translateX(0.6em)}85%{transform:translateX(-0.2em)}95%{transform:translateX(0.2em)}}@keyframes
rumble-in{0%, to{transform:translateY(0em)}5%, 25%,
45%{transform:translateY(-1em)}15%, 35%,
55%{transform:translateY(1em)}65%{transform:translateY(-0.6em)}75%{transform:translateY(0.6em)}85%{transform:translateY(-0.2em)}95%{transform:translateY(0.2em)}}@keyframes
fidget{0%, 8.1%, 82.1%, 31.1%, 38.1%, 44.1%, 40.1%, 47.1%, 74.1%, 16.1%, 27.1%,
72.1%, 24.1%, 95.1%, 6.1%, 36.1%, 20.1%, 4.1%, 91.1%, 14.1%, 87.1%,
to{left:0px;top:0px}8%, 82%, 31%, 38%, 44%{left:-1px}40%, 47%, 74%, 16%,
27%{left:1px}72%, 24%, 95%, 6%, 36%{top:-1px}20%, 4%, 91%, 14%,
87%{top:1px}}@keyframes slide-right{0%{transform:translateX(-100vw)}}@keyframes
slide-left{0%{transform:translateX(100vw)}}@keyframes
slide-up{0%{transform:translateY(100vh)}}@keyframes slide-down{0%{transform:translateY(-100vh)}}@keyframes
fade-right{0%{opacity:0;transform:translateX(-1em)}to{opacity:1}}@keyframes
fade-left{0%{opacity:0;transform:translateX(1em)}to{opacity:1}}@keyframes
fade-up{0%{opacity:0;transform:translateY(1em)}to{opacity:1}}@keyframes
fade-down{0%{opacity:0;transform:translateY(-1em)}to{opacity:1}}@keyframes
flicker{0%,29%,31%,63%,65%,77%,79%,86%,88%,91%,93%{opacity:0}30%{opacity:0.2}64%{opacity:0.4}78%{opacity:0.6}87%{opacity:0.8}92%,
to{opacity:1}}@keyframes blur{0%{filter:blur(2rem);opacity:0}25%{opacity:1}to{filter:blur(0rem);opacity:1}}.dom-debug-mode
tw-story,.dom-debug-mode tw-passage,.dom-debug-mode tw-sidebar,.dom-debug-mode
tw-include,.dom-debug-mode tw-hook,.dom-debug-mode
tw-expression,.dom-debug-mode tw-link,.dom-debug-mode tw-dialog,.dom-debug-mode
tw-columns,.dom-debug-mode tw-column,.dom-debug-mode tw-align{outline:1px solid
#f5a3da;min-height:32px;display:block !important}.dom-debug-mode
tw-story::before,.dom-debug-mode tw-passage::before,.dom-debug-mode tw-sidebar::before,.dom-debug-mode
tw-include::before,.dom-debug-mode tw-hook::before,.dom-debug-mode
tw-expression::before,.dom-debug-mode tw-link::before,.dom-debug-mode
tw-dialog::before,.dom-debug-mode tw-columns::before,.dom-debug-mode
tw-column::before,.dom-debug-mode
tw-align::before{position:absolute;top:0;left:0;height:16px;background-color:#f5a3da;color:black;font-size:16px;font-weight:normal;font-style:normal;font-family:monospace;display:inline-block;line-height:100%;white-space:pre;z-index:999997}.dom-debug-mode
tw-story:hover,.dom-debug-mode tw-passage:hover,.dom-debug-mode
tw-sidebar:hover,.dom-debug-mode tw-include:hover,.dom-debug-mode
tw-hook:hover,.dom-debug-mode tw-expression:hover,.dom-debug-mode
tw-link:hover,.dom-debug-mode tw-dialog:hover,.dom-debug-mode
tw-columns:hover,.dom-debug-mode tw-column:hover,.dom-debug-mode
tw-align:hover{outline:1px solid #fc9}.dom-debug-mode
tw-story:hover::before,.dom-debug-mode tw-passage:hover::before,.dom-debug-mode
tw-sidebar:hover::before,.dom-debug-mode tw-include:hover::before,.dom-debug-mode
tw-hook:hover::before,.dom-debug-mode
tw-expression:hover::before,.dom-debug-mode
tw-link:hover::before,.dom-debug-mode tw-dialog:hover::before,.dom-debug-mode
tw-columns:hover::before,.dom-debug-mode tw-column:hover::before,.dom-debug-mode
tw-align:hover::before{background-color:#fc9;transition:background-color
1s}.dom-debug-mode tw-passage,.dom-debug-mode tw-include,.dom-debug-mode
tw-hook,.dom-debug-mode tw-expression,.dom-debug-mode tw-link,.dom-debug-mode
tw-dialog,.dom-debug-mode tw-columns,.dom-debug-mode tw-column,.dom-debug-mode
tw-align{padding:1em;margin:0}.dom-debug-mode
tw-story::before{content:'&lt;tw-story tags=&quot;' attr(tags)
'&quot;&gt;'}.dom-debug-mode tw-passage::before{top:-16px;content:'&lt;tw-passage
tags=&quot;' attr(tags) '&quot;&gt;'}.dom-debug-mode
tw-sidebar::before{top:-16px;content:&quot;&lt;tw-sidebar&gt;&quot;}.dom-debug-mode
tw-hook::before{content:'&lt;tw-hook name=&quot;' attr(name)
'&quot;&gt;'}.dom-debug-mode tw-expression::before{content:'&lt;tw-expression name=&quot;'
attr(name) '&quot;&gt;'}.dom-debug-mode tw-link::before{content:'&lt;tw-link
name=&quot;' attr(name) '&quot;&gt;'}.dom-debug-mode
tw-dialog::before{content:&quot;&lt;tw-dialog&gt;&quot;}.dom-debug-mode
tw-columns::before{content:&quot;&lt;tw-columns&gt;&quot;}.dom-debug-mode
tw-column::before{content:&quot;&lt;tw-column&gt;&quot;}.dom-debug-mode
tw-align::before{content:&quot;&lt;tw-align&gt;&quot;}.dom-debug-mode
tw-include::before{content:'&lt;tw-include type=&quot;' attr(type) '&quot;
title=&quot;' attr(title) '&quot;&gt;'}.debug-mode
tw-expression{display:inline-block !important}.debug-mode tw-expression[type=variable]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;$&quot;
attr(name)}.debug-mode
tw-expression[type=tempVariable]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;_&quot;
attr(name)}.debug-mode tw-expression[return=boolean]{background-color:rgba(179,179,179,0.2)}.debug-mode
tw-expression[return=array]{background-color:rgba(255,102,102,0.2)}.debug-mode
tw-expression[return=dataset]{background-color:rgba(255,128,0,0.2)}.debug-mode
tw-expression[return=number]{background-color:rgba(255,179,102,0.2)}.debug-mode
tw-expression[return=datamap]{background-color:rgba(255,255,102,0.2)}.debug-mode
tw-expression[return=changer]{background-color:rgba(179,255,102,0.2)}.debug-mode
tw-expression[return=lambda]{background-color:rgba(102,255,102,0.2)}.debug-mode
tw-expression[return=hookname]{background-color:rgba(102,255,204,0.2)}.debug-mode
tw-expression[return=string]{background-color:rgba(102,255,255,0.2)}.debug-mode
tw-expression[return=datatype]{background-color:rgba(102,153,255,0.2)}.debug-mode
tw-expression[return=gradient],.debug-mode
tw-expression[return=colour]{background-color:rgba(204,102,255,0.2)}.debug-mode
tw-expression[return=instant],.debug-mode
tw-expression[return=macro]{background-color:rgba(240,117,199,0.2)}.debug-mode
tw-expression[return=command]{background-color:rgba(153,153,255,0.2)}.debug-mode
tw-expression.false{background-color:rgba(255,0,0,0.2) !important}.debug-mode
tw-expression[type=macro]::before{content:&quot;(&quot; attr(name)
&quot;:)&quot;;padding:0 0.5rem;font-size:1rem;vertical-align:middle;line-height:normal;background-color:inherit;border:1px
solid rgba(255,255,255,0.5)}.debug-mode
tw-hook{background-color:rgba(0,85,255,0.1) !important}.debug-mode
tw-hook::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;[&quot;}.debug-mode
tw-hook::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;]&quot;}.debug-mode
tw-hook[name]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;]&lt;&quot;
attr(name) &quot;|&quot;}.debug-mode
tw-pseudo-hook{background-color:rgba(255,170,0,0.1) !important}.debug-mode
tw-collapsed::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;{&quot;}.debug-mode
tw-collapsed::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;}&quot;}.debug-mode
tw-verbatim::before,.debug-mode
tw-verbatim::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;`&quot;}.debug-mode
tw-align[style*=&quot;text-align: center&quot;]{background:linear-gradient(to
right, rgba(255,204,189,0) 0%, rgba(255,204,189,0.25) 50%, rgba(255,204,189,0)
100%)}.debug-mode tw-align[style*=&quot;text-align:
left&quot;]{background:linear-gradient(to right, rgba(255,204,189,0.25) 0%,
rgba(255,204,189,0) 100%)}.debug-mode tw-align[style*=&quot;text-align:
right&quot;]{background:linear-gradient(to right, rgba(255,204,189,0) 0%,
rgba(255,204,189,0.25) 100%)}.debug-mode
tw-column{background-color:rgba(189,228,255,0.2)}.debug-mode tw-enchantment{animation:enchantment
0.5s infinite;border:1px solid}.debug-mode tw-link::after,.debug-mode
tw-broken-link::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(passage-name)}.debug-mode
tw-include{background-color:rgba(204,128,51,0.1)}.debug-mode
tw-include::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(type)
' &quot;' attr(title) '&quot;'}@keyframes
enchantment{0%,to{border-color:#ffb366}50%{border-color:#6fc}}tw-debugger{position:fixed;box-sizing:border-box;bottom:0;right:0;z-index:999999;min-width:10em;min-height:1em;padding:0em
0.5em 0.5em
1em;font-size:1.25em;font-family:sans-serif;color:#000;border-left:solid #000
2px;border-top:solid #000 2px;border-top-left-radius:.5em;background:#fff;opacity:1}tw-debugger
select{margin-right:1em;width:12em}tw-debugger
button{border-radius:3px;border:solid #999 1px;margin:auto
4px;background-color:#fff;font-size:inherit;color:#000}tw-debugger
button.enabled{background-color:#eee;box-shadow:inset #ddd 3px 5px
0.5em}tw-debugger
.panel{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:absolute;bottom:100%;left:-2px;right:0;padding:1em;max-height:40vh;overflow-y:scroll;overflow-x:hidden;z-index:999998;background:#fff;border:inherit;border-bottom:solid
#999
2px;border-top-left-radius:.5em;border-bottom-left-radius:.5em;font-size:0.8em}tw-debugger
.panel:empty,tw-debugger .panel[hidden]{display:none}tw-debugger
.panel-source,tw-debugger .panel-row-source{font-family:monospace;overflow-x:scroll;white-space:pre;-ms-flex-preferred-size:100%;flex-basis:100%}tw-debugger
.panel-row-source{margin:5px 0}tw-debugger
.panel-rows{width:100%;overflow-x:scroll}tw-debugger
.panel-rows&gt;*{display:table-row}tw-debugger
.panel-rows&gt;div:nth-of-type(2n){background:#EEE}tw-debugger
.panel-row-buttons{text-align:right}tw-debugger .panel-variables
.panel-rows:empty::before{content:&quot;~ No variables
~&quot;;font-style:italic;color:#888;text-align:center}tw-debugger .panel-enchantments
.panel-rows:empty::before{content:&quot;~ No enchantments
~&quot;;font-style:italic;color:#888;text-align:center}tw-debugger
.panel-errors .panel-rows:empty::before{content:&quot;~ No errors... for now.
~&quot;;font-style:italic;color:#888;text-align:center}tw-debugger
.panel-rows:empty+.panel-variables-bottom{display:none}tw-debugger
.panel-storylets:not(.panel-exclusive) .storylet-exclusive,tw-debugger
.panel-storylets:not(.panel-urgent) .storylet-urgent{display:none}tw-debugger
.panel-variables-bottom{padding-top:5px}tw-debugger
.enchantment-row{min-height:1.5em}tw-debugger
.variable-path{opacity:0.4}tw-debugger .temporary-variable-scope,tw-debugger
.enchantment-local{font-family:sans-serif;font-weight:normal;opacity:0.8;font-size:0.75em}tw-debugger
.temporary-variable-scope:not(:empty)::before,tw-debugger
.enchantment-local:not(:empty)::before{content:&quot; in &quot;}tw-debugger
.variable-name,tw-debugger
.enchantment-name{font-family:monospace;font-weight:bold}tw-debugger
.variable-type{color:#444;font-weight:normal;text-overflow:ellipsis;overflow:hidden;max-width:10em}tw-debugger
.error-row{display:table-row;background-color:rgba(230,101,204,0.3)}tw-debugger
.error-row:nth-of-type(2n){background-color:rgba(237,145,219,0.3)}tw-debugger
.error-row&gt;*{display:table-cell;padding:0.25em 0.5em}tw-debugger .error-row
.error-message{cursor:help}tw-debugger .error-row
.error-passage{color:#444}tw-debugger
.storylet-row{background-color:rgba(201,233,222,0.3)}tw-debugger
.storylet-row:nth-child(2n){background-color:rgba(128,203,178,0.3)}tw-debugger
.storylet-row.storylet-closed{font-style:italic;opacity:0.4;background-color:rgba(217,217,217,0.3)}tw-debugger
.storylet-row.storylet-closed:nth-child(2n){background-color:rgba(166,166,166,0.3)}.storylet-error
tw-debugger .storylet-row{background-color:rgba(230,101,204,0.3)}.storylet-error
tw-debugger
.storylet-row:nth-child(2n){background-color:rgba(237,145,219,0.3)}tw-debugger
.storylet-row .storylet-name,tw-debugger .storylet-row
.storylet-value{display:inline-block;width:50%}tw-debugger .tabs{padding-bottom:0.5em}tw-debugger
.tab{border-radius:0px 0px 0.5em 0.5em;border-top:none}tw-debugger
.resizer{position:absolute;height:3em;border-left:2px solid
#ccc;border-right:2px solid
#ccc;top:10px;left:4px;width:8px;cursor:ew-resize}tw-dialog{z-index:999997;border:#fff
solid 2px;padding:2em;color:#fff;background-color:#000;display:block}@media
(min-width: 576px){tw-dialog{max-width:50vw}}tw-dialog
input[type=text]{font-size:inherit;width:100%}tw-dialog-links{text-align:right;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end}tw-backdrop{z-index:999996;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.8);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}tw-backdrop
~
tw-backdrop{display:none}tw-link,.link,tw-icon,.enchantment-clickblock{cursor:pointer}tw-link,.enchantment-link{color:#4169E1;font-weight:bold;text-decoration:none;transition:color
0.2s ease-in-out}tw-passage [style^=&quot;color&quot;]
tw-link:not(:hover),tw-passage [style*=&quot; color&quot;]
tw-link:not(:hover),tw-passage
[style^=&quot;color&quot;][hover=&quot;true&quot;] tw-link:hover,tw-passage
[style*=&quot; color&quot;][hover=&quot;true&quot;] tw-link:hover,tw-passage [style^=&quot;color&quot;]
.enchantment-link:not(:hover),tw-passage [style*=&quot; color&quot;]
.enchantment-link:not(:hover),tw-passage
[style^=&quot;color&quot;][hover=&quot;true&quot;]
.enchantment-link:hover,tw-passage [style*=&quot;
color&quot;][hover=&quot;true&quot;]
.enchantment-link:hover{color:inherit}tw-link:hover,.enchantment-link:hover{color:#00bfff}tw-link:active,.enchantment-link:active{color:#DD4B39}.visited{color:#6941e1}tw-passage
[style^=&quot;color&quot;] .visited:not(:hover),tw-passage [style*=&quot;
color&quot;] .visited:not(:hover),tw-passage
[style^=&quot;color&quot;][hover=&quot;true&quot;] .visited:hover,tw-passage
[style*=&quot; color&quot;][hover=&quot;true&quot;]
.visited:hover{color:inherit}.visited:hover{color:#E3E}tw-broken-link{color:#993333;border-bottom:2px
solid #993333;cursor:not-allowed}tw-passage [style^=&quot;color&quot;]
tw-broken-link:not(:hover),tw-passage [style*=&quot; color&quot;]
tw-broken-link:not(:hover),tw-passage
[style^=&quot;color&quot;][hover=&quot;true&quot;]
tw-broken-link:hover,tw-passage [style*=&quot;
color&quot;][hover=&quot;true&quot;]
tw-broken-link:hover{color:inherit}.enchantment-mouseover{border-bottom:2px
dashed #999}.enchantment-mouseout{border:rgba(64,149,191,0.6) 1px solid}.enchantment-mouseout:hover{background-color:rgba(175,197,207,0.75);border:transparent
1px
solid;border-radius:0.2em}.enchantment-clickblock{width:100%;height:100%;display:block}.enchantment-clickblock&gt;:not(tw-enchantment)::after{content:&quot;&quot;;width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;color:rgba(65,105,225,0.5);transition:color
0.2s
ease-in-out}.enchantment-clickblock&gt;:not(tw-enchantment):hover::after{color:rgba(0,191,255,0.5)}.enchantment-clickblock&gt;:not(tw-enchantment):active::after{color:rgba(222,78,59,0.5)}.enchantment-clickblock&gt;:not(tw-enchantment)::after{box-shadow:inset
0 0 0
0.5vmax}.enchantment-clickblock&gt;tw-passage::after,.enchantment-clickblock&gt;tw-sidebar::after{box-shadow:0
0 0 0.5vmax}.enchantment-mouseoverblock&gt;:not(tw-enchantment)::after{content:&quot;&quot;;width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;border:2px
dashed #999}.enchantment-mouseoutblock&gt;:not(tw-enchantment)::after{content:&quot;&quot;;width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;border:rgba(64,149,191,0.6)
2px
solid}.enchantment-mouseoutblock:hover&gt;:not(tw-enchantment)::after{content:&quot;&quot;;width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;background-color:rgba(175,197,207,0.75);border:transparent
2px
solid;border-radius:0.2em}tw-link.enchantment-button,.enchantment-link.enchantment-button,.enchantment-button:not(.enchantment-link)
tw-link,.enchantment-button:not(.enchantment-link)
.enchantment-link{border-radius:16px;border-style:solid;border-width:2px;text-align:center;padding:0px
8px;display:block}tw-dialog-links{padding-top:1.5em}tw-dialog-links tw-link{border-radius:16px;border-style:solid;border-width:2px;text-align:center;padding:0px
8px;display:block;display:inline-block}html{margin:0;height:100%;overflow-x:hidden}*,:before,:after{position:relative;box-sizing:inherit}body{margin:0;height:100%}tw-storydata{display:none}tw-story{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;font:100%
Georgia,
serif;box-sizing:border-box;width:100%;min-height:100%;font-size:1.5em;line-height:1.5em;padding:5%
5%;overflow:hidden;background-color:#000;color:#fff}tw-story
[style*=content-box] *{box-sizing:border-box}@media (min-width:
576px){tw-story{padding:5% 20%}}tw-story
tw-consecutive-br{display:block;height:1.6ex;visibility:hidden}tw-story
select{background-color:transparent;font:inherit;border-style:solid;padding:2px}tw-story
select:not([disabled]){color:inherit}tw-story
textarea{resize:none;background-color:transparent;font:inherit;color:inherit;border-style:none;padding:2px}tw-story
input[type=checkbox]{transform:scale(1.5);margin:0 0.5em}tw-story
tw-noscript{animation:appear
0.8s}tw-passage{display:block}tw-sidebar{text-align:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}@media
(min-width: 576px){tw-sidebar{left:-5em;width:3em;position:absolute;-ms-flex-direction:column;flex-direction:column}}tw-icon{display:inline-block;margin:0.5em
0;font-size:66px;font-family:&quot;Verdana&quot;,sans-serif}tw-icon[alt]{opacity:0.2}tw-icon[alt]:hover{opacity:0.4}tw-icon[data-label]::after{font-weight:bold;content:attr(data-label);font-size:20px;bottom:-20px;left:-50%;white-space:nowrap}tw-meter{display:block}tw-hook:empty,tw-expression:empty{display:none}tw-error{display:inline-block;border-radius:0.2em;padding:0.2em;font-size:1rem;cursor:help;white-space:pre-wrap}tw-error.error{background-color:rgba(223,58,190,0.6);color:#fff}tw-error.warning{background-color:rgba(223,140,58,0.6);color:#fff;display:none}.debug-mode
tw-error.warning{display:inline}tw-error-explanation{display:block;font-size:0.8rem;line-height:1rem}tw-open-button,tw-folddown{cursor:pointer;line-height:0em;border-radius:1px;border:1px
solid black;font-size:0.8rem;margin:0
0.4rem;padding:2px;white-space:pre}tw-folddown::after{content:&quot;\25b6&quot;}tw-folddown.open::after{content:&quot;\25bc&quot;}tw-open-button::after{content:&quot;Open&quot;}tw-notifier{border-radius:0.2em;padding:0.2em;font-size:1rem;background-color:rgba(223,182,58,0.4);display:none}.debug-mode
tw-notifier{display:inline}tw-notifier::before{content:attr(message)}tw-colour{border:1px
solid black;display:inline-block;width:1em;height:1em}h1{font-size:3em}h2{font-size:2.25em}h3{font-size:1.75em}h1,h2,h3,h4,h5,h6{line-height:1em;margin:0.3em
0 0.6em
0}pre{font-size:1rem;line-height:initial}small{font-size:70%}big{font-size:120%}mark{color:rgba(0,0,0,0.6);background-color:#ff9}ins{color:rgba(0,0,0,0.6);background-color:rgba(255,242,204,0.5);border-radius:0.5em;box-shadow:0em
0em 0.2em #ffe699;text-decoration:none}center{text-align:center;margin:0
auto;width:60%}blink{text-decoration:none;animation:fade-in-out 1s steps(1,
end) infinite
alternate}tw-align{display:block}tw-columns{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between}.transition-in{animation:appear
0ms step-start}.transition-out{animation:appear 0ms
step-end}[data-t8n^=dissolve].transition-in,[data-t8n=fade].transition-in{animation:appear
.8s}[data-t8n^=dissolve].transition-out,[data-t8n=fade].transition-out{animation:appear
.8s reverse}[data-t8n^=shudder].transition-in{display:inline-block
!important;animation:shudder-in
.8s}[data-t8n^=shudder].transition-out{display:inline-block
!important;animation:shudder-in .8s
reverse}[data-t8n^=rumble].transition-in{display:inline-block
!important;animation:rumble-in .8s}[data-t8n^=rumble].transition-out{display:inline-block
!important;animation:rumble-in .8s
reverse}[data-t8n^=pulse].transition-in{animation:pulse
.8s;display:inline-block
!important}[data-t8n^=pulse].transition-out{animation:pulse .8s
reverse;display:inline-block !important}[data-t8n^=zoom].transition-in{animation:zoom-in
.8s;display:inline-block
!important}[data-t8n^=zoom].transition-out{animation:zoom-in .8s
reverse;display:inline-block
!important}[data-t8n^=blur].transition-in{animation:blur
.8s;display:inline-block !important}[data-t8n^=blur].transition-out{animation:blur
.8s reverse;display:inline-block
!important}[data-t8n^=slideleft].transition-in{animation:slide-left
.8s;display:inline-block
!important}[data-t8n^=slideleft].transition-out{animation:slide-right .8s reverse;display:inline-block
!important}[data-t8n^=slideright].transition-in{animation:slide-right
.8s;display:inline-block
!important}[data-t8n^=slideright].transition-out{animation:slide-left .8s
reverse;display:inline-block !important}[data-t8n^=slideup].transition-in{animation:slide-up
.8s;display:inline-block
!important}[data-t8n^=slideup].transition-out{animation:slide-down .8s
reverse;display:inline-block
!important}[data-t8n^=slidedown].transition-in{animation:slide-down
.8s;display:inline-block !important}[data-t8n^=slidedown].transition-out{animation:slide-up
.8s reverse;display:inline-block
!important}[data-t8n^=fadeleft].transition-in{animation:fade-left
.8s;display:inline-block
!important}[data-t8n^=fadeleft].transition-out{animation:fade-right .8s reverse;display:inline-block
!important}[data-t8n^=faderight].transition-in{animation:fade-right
.8s;display:inline-block
!important}[data-t8n^=faderight].transition-out{animation:fade-left .8s
reverse;display:inline-block !important}[data-t8n^=fadeup].transition-in{animation:fade-up
.8s;display:inline-block
!important}[data-t8n^=fadeup].transition-out{animation:fade-down .8s
reverse;display:inline-block
!important}[data-t8n^=fadedown].transition-in{animation:fade-down
.8s;display:inline-block !important}[data-t8n^=fadedown].transition-out{animation:fade-up
.8s reverse;display:inline-block
!important}[data-t8n^=flicker].transition-in{animation:flicker
.8s}[data-t8n^=flicker].transition-out{animation:flicker .8s reverse}</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;/style&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;/head&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;body&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;tw-story&gt;&lt;noscript&gt;&lt;tw-noscript&gt;JavaScript
needs to be enabled to play Animal
friends.&lt;/tw-noscript&gt;&lt;/noscript&gt;&lt;/tw-story&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;tw-storydata
name=&quot;Animal friends&quot; startnode=&quot;1&quot;
creator=&quot;Twine&quot; creator-version=&quot;2.3.13&quot;
ifid=&quot;ED8ACF23-9CA3-46DD-8567-1C65FF08B7A3&quot; zoom=&quot;1&quot; format=&quot;Harlowe&quot;
format-version=&quot;3.2.1&quot; options=&quot;&quot; hidden&gt;&lt;style
role=&quot;stylesheet&quot; id=&quot;twine-user-stylesheet&quot;
type=&quot;text/twine-css&quot;&gt;&lt;/style&gt;&lt;script
role=&quot;script&quot; id=&quot;twine-user-script&quot;
type=&quot;text/twine-javascript&quot;&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;/script&gt;&lt;tw-passagedata
pid=&quot;1&quot; name=&quot;Q1&quot; tags=&quot;&quot;
position=&quot;577.5,257&quot; size=&quot;100,100&quot;&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>You are a little
bubble of water that has just been born and going on an adventure through the
world of the sea.</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>Which one would you
choose as your guide?</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Sea
turtle-&amp;gt;Q2]]</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&amp;lt;img src=</span><span
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>窶拮<span lang=EN-US>ttps://www.google.co.jp/url?sa=i&amp;amp;url=https%3A%2F%2Fwww.gettyimages.co.jp%2F%25E5%2586%2599%25E7%259C%259F%2F%25E3%2582%25A6%25E3%2583%259F%25E3%2582%25AC%25E3%2583%25A1&amp;amp;psig=AOvVaw01xPAobMHCT4WdxajFLtGv&amp;amp;ust=1620346622618000&amp;amp;source=images&amp;amp;cd=vfe&amp;amp;ved=0CAIQjRxqFwoTCKCnytjjs_ACFQAAAAAdAAAAABAD</span>窶<span
lang=EN-US>&amp;gt;</span></span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Seabirds-&amp;gt;Q3]]</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&amp;lt;img src=</span><span
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>窶拮<span lang=EN-US>ttps://www.google.co.jp/imgres?imgurl=https%3A%2F%2Flessplasticlife.com%2Fwp-content%2Fuploads%2F2018%2F07%2F531-min-e1539436735972.jpg&amp;amp;imgrefurl=https%3A%2F%2Flessplasticlife.com%2Fmarineplastic%2Fimpact%2Fbirds_entanglement%2F&amp;amp;tbnid=JVaf9ueMHnBCXM&amp;amp;vet=12ahUKEwj-sLHo47PwAhUTNqYKHbnnDXYQMygSegUIARDdAQ..i&amp;amp;docid=3SfDJsfqAo3aZM&amp;amp;w=800&amp;amp;h=500&amp;amp;q=</span>豬ｷ魑･<span
lang=EN-US>%E3%80%80</span>逕ｻ蜒<span lang=EN-US>&amp;amp;client=safari&amp;amp;ved=2ahUKEwj-sLHo47PwAhUTNqYKHbnnDXYQMygSegUIARDdAQ</span>窶<span
lang=EN-US>&amp;gt;</span></span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;/tw-passagedata&gt;&lt;tw-passagedata
pid=&quot;2&quot; name=&quot;Q2&quot; tags=&quot;&quot;
position=&quot;504.5,407&quot; size=&quot;100,100&quot;&gt;A long-lived sea
turtle  has told you a lot of history.Which world do you want to go to more
after listening to his story? </span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Along the
coast-&amp;gt;Q4]]</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[In the
sea-&amp;gt;Q5]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;3&quot;
name=&quot;Q3&quot; tags=&quot;&quot; position=&quot;654.5,407&quot;
size=&quot;100,100&quot;&gt;The seabird took you to the harbour. There, people
are overfishing, catching as many fish as they can. You are getting into
trouble and you are almost caught by the humans.</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&amp;lt;img
src=&amp;quot;https://www.google.co.jp/url?sa=i&amp;amp;url=https%3A%2F%2Fwww.town.urakawa.hokkaido.jp%2Fbusiness%2Fsuisangyou%2Fshinkishugyou-1.html&amp;amp;psig=AOvVaw2AScaKmU5GW1iwUzuvL0LD&amp;amp;ust=1620346758704000&amp;amp;source=images&amp;amp;cd=vfe&amp;amp;ved=0CAIQjRxqFwoTCNjJmJ_ks_ACFQAAAAAdAAAAABAD&amp;quot;&amp;gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Try to talk to the
humans to see if you can get used to being friends with them-&amp;gt;Q6]]</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Run away
desperately for now-&amp;gt;Q7]]</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;/tw-passagedata&gt;&lt;tw-passagedata
pid=&quot;4&quot; name=&quot;Q4&quot; tags=&quot;&quot;
position=&quot;430.5,557&quot; size=&quot;100,100&quot;&gt;The view you saw
along the beach was not of a beautiful beach and sea, but of a dirty beach full
of rubbish. You  wanted to do something about the problem of rubbish, so which
of the following actions would you take?</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&amp;lt;img src=</span><span
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>窶拮<span lang=EN-US>ttps://www.google.co.jp/imgres?imgurl=https%3A%2F%2Foceana.ne.jp%2Fwordpress%2Fwp-content%2Fuploads%2F2019%2F07%2Fth_AdobeStock_210419073.jpg&amp;amp;imgrefurl=https%3A%2F%2Foceana.ne.jp%2Fenquete%2F94762&amp;amp;tbnid=3cI6B_dJzlTf2M&amp;amp;vet=12ahUKEwiJk5_c5LPwAhU0NqYKHQ_qBbUQMygBegUIARC4AQ..i&amp;amp;docid=_5ITD1IYY4fcAM&amp;amp;w=2000&amp;amp;h=1333&amp;amp;q=</span>豬ｷ<span
lang=EN-US>%E3%80%80</span>繧ｴ繝<span lang=EN-US>%20</span>逕ｻ蜒<span lang=EN-US>&amp;amp;client=safari&amp;amp;ved=2ahUKEwiJk5_c5LPwAhU0NqYKHQ_qBbUQMygBegUIARC4AQ</span>窶<span
lang=EN-US>&amp;gt;</span></span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Make a signboard
to attract attentions to remove the rubbish-&amp;gt;Q8]]</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Start to pick up
the rubbish by yourself-&amp;gt;Q9]]&lt;/tw-passagedata&gt;&lt;tw-passagedata
pid=&quot;5&quot; name=&quot;Q5&quot; tags=&quot;&quot;
position=&quot;571.5,551&quot; size=&quot;100,100&quot;&gt;While we were being
guided through the sea, a shark suddenly attacked us.</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&amp;lt;img
src=&amp;quot;https://www.google.co.jp/imgres?imgurl=https%3A%2F%2Fwww.crank-in.net%2Fimg%2Fdb%2F1406389_650.jpg&amp;amp;imgrefurl=https%3A%2F%2Fwww.crank-in.net%2Fcolumn%2F78975%2F1&amp;amp;tbnid=NJf0eKnzOV9RQM&amp;amp;vet=12ahUKEwj-wu2-5LPwAhVREKYKHWM4Bu4QMygBegUIARC7AQ..i&amp;amp;docid=OQw7-INehdQFfM&amp;amp;w=650&amp;amp;h=518&amp;amp;q=</span><span
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>繧ｵ繝｡<span
lang=EN-US>%20</span>逕ｻ蜒<span lang=EN-US>&amp;amp;client=safari&amp;amp;ved=2ahUKEwj-wu2-5LPwAhVREKYKHWM4Bu4QMygBegUIARC7AQ&amp;quot;&amp;gt;</span></span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Clung to the sea
turtle and ran for my life-&amp;gt;Q7]]</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Find  a small
hiding place and get out of trouble-&amp;gt;Q10]]&lt;/tw-passagedata&gt;&lt;tw-passagedata
pid=&quot;6&quot; name=&quot;Q6&quot; tags=&quot;&quot;
position=&quot;699.5,557&quot; size=&quot;100,100&quot;&gt;Thanks to your
strange apperance and communication skills, you have managed to make friends
with humans. They have asked you to take them to another fishing port, but then
you have to say goodbye to the seabirds.</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Remain in this sea
with the seabirds-&amp;gt;E1]]</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Follow the
humans-&amp;gt;E2]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;7&quot;
name=&quot;Q7&quot; tags=&quot;&quot; position=&quot;916.5,550&quot;
size=&quot;100,100&quot;&gt;You have managed to escape with your life, but you
find yourself on an unknown shore. What do you see right away?</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Flower-&amp;gt;E3]]</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[A
butterfly-&amp;gt;E4]]&lt;/tw-passagedata&gt;&lt;tw-passagedata
pid=&quot;8&quot; name=&quot;Q8&quot; tags=&quot;&quot;
position=&quot;221.5,704&quot; size=&quot;100,100&quot;&gt;While you were
making a signboard,crows came to disturb you.</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Got angry, I did
it back-&amp;gt;E5]]</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Make friends with
the crows and try to pursuade
them-&amp;gt;E6]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;9&quot;
name=&quot;Q9&quot; tags=&quot;&quot; position=&quot;414.5,707&quot;
size=&quot;100,100&quot;&gt;After picking up rubbish for a while, you found
helpers. They invited you to continue to visit different areas and help clean
up the world&amp;#39;s beaches!</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Stay here to
protect your community for a long time-&amp;gt;E7]]</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Go to help other
communities to pick up rubbish-&amp;gt;E8]]&lt;/tw-passagedata&gt;&lt;tw-passagedata
pid=&quot;10&quot; name=&quot;Q10&quot; tags=&quot;&quot;
position=&quot;534.5,708&quot; size=&quot;100,100&quot;&gt;You and the turtle
have survived a crisis and become friends, and he asks you to go on a trip with
him.</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[Travel and live in
the sea together-&amp;gt;E9]]</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>[[I&amp;#39;m also
interested in the world in the sky, so I&amp;#39;m looking for a new
partner-&amp;gt;Q1]]&lt;/tw-passagedata&gt;&lt;tw-passagedata
pid=&quot;11&quot; name=&quot;E1&quot; tags=&quot;&quot;
position=&quot;668.5,703&quot; size=&quot;100,100&quot;&gt;No more unnecessary
attacks on fish happened in this sea and the the harbour is at peace. end.&lt;/tw-passagedata&gt;&lt;tw-passagedata
pid=&quot;12&quot; name=&quot;E2&quot; tags=&quot;&quot;
position=&quot;774.5,707&quot; size=&quot;100,100&quot;&gt; You will work as a
mediator between the sea and the human world, which contributes to the everyone&amp;#39;s
happiness! end.&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;13&quot;
name=&quot;E3&quot; tags=&quot;&quot; position=&quot;898.5,718&quot;
size=&quot;100,100&quot;&gt;You are reborn as a bee and continue to go on a
travel... end.&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;14&quot;
name=&quot;E4&quot; tags=&quot;&quot; position=&quot;1037.5,700&quot;
size=&quot;100,100&quot;&gt;You are reincarnated as a human beings and continue
to go on a travel... end.&lt;/tw-passagedata&gt;&lt;tw-passagedata
pid=&quot;15&quot; name=&quot;E5&quot; tags=&quot;&quot;
position=&quot;113.5,852&quot; size=&quot;100,100&quot;&gt;The problem between
them escalated into war and the coast is in chaos. Everyone had moved to
another island and there was silence in the air.
end.&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;16&quot;
name=&quot;E6&quot; tags=&quot;&quot; position=&quot;247.5,854&quot;
size=&quot;100,100&quot;&gt;Crows and you become friends and they took you to
the outside world. You learn the joy of visiting different places and follow
them for the rest of your life. end.&lt;/tw-passagedata&gt;&lt;tw-passagedata
pid=&quot;17&quot; name=&quot;E7&quot; tags=&quot;&quot;
position=&quot;357.5,857&quot; size=&quot;100,100&quot;&gt;Thanks to your
activities, the city is being kept clean and you live happily with everyone in
the city. end.&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;18&quot;
name=&quot;E8&quot; tags=&quot;&quot; position=&quot;487.5,857&quot;
size=&quot;100,100&quot;&gt;Your activities are recognized and Finally you live
as a Minister of Environment!! end.&lt;/tw-passagedata&gt;&lt;tw-passagedata
pid=&quot;19&quot; name=&quot;E9&quot; tags=&quot;&quot;
position=&quot;616.5,858&quot; size=&quot;100,100&quot;&gt;Through the trip
with the turtle, you learnt more about the sea, went to different places and
finally, live happily. end.&lt;/tw-passagedata&gt;&lt;tw-passagedata
pid=&quot;20&quot; name=&quot;Untitled Passage&quot; tags=&quot;&quot;
position=&quot;694.5,259&quot; size=&quot;100,100&quot;&gt;Double-click this
passage to edit it.&lt;/tw-passagedata&gt;&lt;/tw-storydata&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;script
title=&quot;Twine engine code&quot; data-main=&quot;harlowe&quot;&gt;&quot;use
strict&quot;;var _slicedToArray=function(){return
function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in
Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var
o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&amp;&amp;(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&amp;&amp;s.return&amp;&amp;s.return()}finally{if(i)throw
a}}return n}(e,t);throw new TypeError(&quot;Invalid attempt to destructure
non-iterable instance&quot;)}}(),_typeof=&quot;function&quot;==typeof
Symbol&amp;&amp;&quot;symbol&quot;==typeof Symbol.iterator?function(e){return
typeof e}:function(e){return e&amp;&amp;&quot;function&quot;==typeof
Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?&quot;symbol&quot;:typeof
e};function _defineProperty(e,t,n){return t in
e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function
_toConsumableArray(e){if(Array.isArray(e)){for(var
t=0,n=Array(e.length);t&lt;e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(){</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>/**</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'> * @license almond
0.3.3 Copyright jQuery Foundation and other contributors.</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'> * Released under
MIT license, http://github.com/requirejs/almond/LICENSE</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'> */var
requirejs,require,define,root,factory;!function(e){var
t,n,r,i,a={},o={},s={},c={},u=Object.prototype.hasOwnProperty,l=[].slice,p=/\.js$/;function
f(e,t){return u.call(e,t)}function d(e,t){var
n,r,i,a,o,c,u,l,f,d,h,y=t&amp;&amp;t.split(&quot;/&quot;),m=s.map,g=m&amp;&amp;m[&quot;*&quot;]||{};if(e){for(o=(e=e.split(&quot;/&quot;)).length-1,s.nodeIdCompat&amp;&amp;p.test(e[o])&amp;&amp;(e[o]=e[o].replace(p,&quot;&quot;)),&quot;.&quot;===e[0].charAt(0)&amp;&amp;y&amp;&amp;(e=y.slice(0,y.length-1).concat(e)),f=0;f&lt;e.length;f++)if(&quot;.&quot;===(h=e[f]))e.splice(f,1),f-=1;else
if(&quot;..&quot;===h){if(0===f||1===f&amp;&amp;&quot;..&quot;===e[2]||&quot;..&quot;===e[f-1])continue;f&gt;0&amp;&amp;(e.splice(f-1,2),f-=2)}e=e.join(&quot;/&quot;)}if((y||g)&amp;&amp;m){for(f=(n=e.split(&quot;/&quot;)).length;f&gt;0;f-=1){if(r=n.slice(0,f).join(&quot;/&quot;),y)for(d=y.length;d&gt;0;d-=1)if((i=m[y.slice(0,d).join(&quot;/&quot;)])&amp;&amp;(i=i[r])){a=i,c=f;break}if(a)break;!u&amp;&amp;g&amp;&amp;g[r]&amp;&amp;(u=g[r],l=f)}!a&amp;&amp;u&amp;&amp;(a=u,c=l),a&amp;&amp;(n.splice(0,c,a),e=n.join(&quot;/&quot;))}return
e}function h(t,r){return function(){var
i=l.call(arguments,0);return&quot;string&quot;!=typeof
i[0]&amp;&amp;1===i.length&amp;&amp;i.push(null),n.apply(e,i.concat([t,r]))}}function
y(e){return function(t){a[e]=t}}function m(n){if(f(o,n)){var r=o[n];delete o[n],c[n]=!0,t.apply(e,r)}if(!f(a,n)&amp;&amp;!f(c,n))throw
new Error(&quot;No &quot;+n);return a[n]}function g(e){var
t,n=e?e.indexOf(&quot;!&quot;):-1;return
n&gt;-1&amp;&amp;(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function
v(e){return e?g(e):[]}r=function(e,t){var n,r,i=g(e),a=i[0],o=t[1];return
e=i[1],a&amp;&amp;(n=m(a=d(a,o))),a?e=n&amp;&amp;n.normalize?n.normalize(e,(r=o,function(e){return
d(e,r)})):d(e,o):(a=(i=g(e=d(e,o)))[0],e=i[1],a&amp;&amp;(n=m(a))),{f:a?a+&quot;!&quot;+e:e,n:e,pr:a,p:n}},i={require:function(e){return
h(e)},exports:function(e){var t=a[e];return void 0!==t?t:a[e]={}},module:function(e){return{id:e,uri:&quot;&quot;,exports:a[e],config:function(e){return
function(){return
s&amp;&amp;s.config&amp;&amp;s.config[e]||{}}}(e)}}},t=function(t,n,s,u){var
l,p,d,g,b,w,T,S=[],x=void 0===s?&quot;undefined&quot;:_typeof(s);if(w=v(u=u||t),&quot;undefined&quot;===x||&quot;function&quot;===x){for(n=!n.length&amp;&amp;s.length?[&quot;require&quot;,&quot;exports&quot;,&quot;module&quot;]:n,b=0;b&lt;n.length;b+=1)if(&quot;require&quot;===(p=(g=r(n[b],w)).f))S[b]=i.require(t);else
if(&quot;exports&quot;===p)S[b]=i.exports(t),T=!0;else if(&quot;module&quot;===p)l=S[b]=i.module(t);else
if(f(a,p)||f(o,p)||f(c,p))S[b]=m(p);else{if(!g.p)throw new Error(t+&quot;
missing
&quot;+p);g.p.load(g.n,h(u,!0),y(p),{}),S[b]=a[p]}d=s?s.apply(a[t],S):void
0,t&amp;&amp;(l&amp;&amp;l.exports!==e&amp;&amp;l.exports!==a[t]?a[t]=l.exports:d===e&amp;&amp;T||(a[t]=d))}else
t&amp;&amp;(a[t]=s)},requirejs=require=n=function(a,o,c,u,l){if(&quot;string&quot;==typeof
a)return
i[a]?i[a](o):m(r(a,v(o)).f);if(!a.splice){if((s=a).deps&amp;&amp;n(s.deps,s.callback),!o)return;o.splice?(a=o,o=c,c=null):a=e}return
o=o||function(){},&quot;function&quot;==typeof
c&amp;&amp;(c=u,u=l),u?t(e,a,o,c):setTimeout(function(){t(e,a,o,c)},4),n},n.config=function(e){return
n(e)},requirejs._defined=a,(define=function(e,t,n){if(&quot;string&quot;!=typeof
e)throw new Error(&quot;See almond README: incorrect module build, no module
name&quot;);t.splice||(n=t,t=[]),f(a,e)||f(o,e)||(o[e]=[e,t,n])}).amd={jQuery:!0}}(),define(&quot;almond&quot;,function(){}),</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>/*!</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'> *
https://github.com/paulmillr/es6-shim</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'> * @license es6-shim
Copyright 2013-2016 by Paul Miller (http://paulmillr.com)</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'> *   and
contributors,  MIT License</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'> * es6-shim: v0.35.4</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'> * see
https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'> * Details and
documentation:</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'> *
https://github.com/paulmillr/es6-shim/</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'> */</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>root=this,factory=function(){var
e,t,n=Function.call.bind(Function.apply),r=Function.call.bind(Function.call),i=Array.isArray,a=Object.keys,o=function(e){try{return
e(),!1}catch(e){return!0}},s=function(e){try{return
e()}catch(e){return!1}},c=(e=o,function(){return!n(e,this,arguments)}),u=!!Object.defineProperty&amp;&amp;!o(function(){return
Object.defineProperty({},&quot;x&quot;,{get:function(){}})}),l=&quot;foo&quot;===function(){}.name,p=Function.call.bind(Array.prototype.forEach),f=Function.call.bind(Array.prototype.reduce),d=Function.call.bind(Array.prototype.filter),h=Function.call.bind(Array.prototype.some),y=function(e,t,n,r){!r&amp;&amp;t
in
e||(u?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}):e[t]=n)},m=function(e,t,n){p(a(t),function(r){var
i=t[r];y(e,r,i,!!n)})},g=Function.call.bind(Object.prototype.toString),v=&quot;function&quot;==typeof/abc/?function(e){return&quot;function&quot;==typeof
e&amp;&amp;&quot;[object
Function]&quot;===g(e)}:function(e){return&quot;function&quot;==typeof
e},b=function(e,t,n){if(!u)throw new TypeError(&quot;getters require true ES5
support&quot;);Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:n})},w=function(e,t,n){if(!u)throw
new TypeError(&quot;getters require true ES5 support&quot;);var
r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,{configurable:r.configurable,enumerable:r.enumerable,get:function(){return
e[t]},set:function(n){e[t]=n}})},T=function(e,t,n){if(u){var
r=Object.getOwnPropertyDescriptor(e,t);r.value=n,Object.defineProperty(e,t,r)}else
e[t]=n},S=function(e,t,n){u?Object.defineProperty(e,t,n):&quot;value&quot;in
n&amp;&amp;(e[t]=n.value)},x=function(e,t){t&amp;&amp;v(t.toString)&amp;&amp;y(e,&quot;toString&quot;,t.toString.bind(t),!0)},k=Object.create||function(e,t){var
n=function(){};n.prototype=e;var r=new n;return void
0!==t&amp;&amp;a(t).forEach(function(e){S(r,e,t[e])}),r},O=function(e,t){return!!Object.setPrototypeOf&amp;&amp;s(function(){var
n=function t(n){var r=new e(n);return
Object.setPrototypeOf(r,t.prototype),r};return
Object.setPrototypeOf(n,e),n.prototype=k(e.prototype,{constructor:{value:n}}),t(n)})},j=function(){if(&quot;undefined&quot;!=typeof
self)return self;if(&quot;undefined&quot;!=typeof window)return
window;if(&quot;undefined&quot;!=typeof global)return global;throw new
Error(&quot;unable to locate global
object&quot;)}(),A=j.isFinite,C=Function.call.bind(String.prototype.indexOf),E=Function.apply.bind(Array.prototype.indexOf),_=Function.call.bind(Array.prototype.concat),N=Function.call.bind(String.prototype.slice),P=Function.call.bind(Array.prototype.push),I=Function.apply.bind(Array.prototype.push),M=Function.call.bind(Array.prototype.shift),D=Math.max,R=Math.min,L=Math.floor,q=Math.abs,F=Math.exp,V=Math.log,H=Math.sqrt,z=Function.call.bind(Object.prototype.hasOwnProperty),$=function(){},B=j.Map,W=B&amp;&amp;B.prototype.delete,U=B&amp;&amp;B.prototype.get,G=B&amp;&amp;B.prototype.has,X=B&amp;&amp;B.prototype.set,Y=j.Symbol||{},J=Y.species||&quot;@@species&quot;,K=Number.isNaN||function(e){return
e!=e},Z=Number.isFinite||function(e){return&quot;number&quot;==typeof
e&amp;&amp;A(e)},Q=v(Math.sign)?Math.sign:function(e){var t=Number(e);return
0===t?t:K(t)?t:t&lt;0?-1:1},ee=function(e){var t=Number(e);return t&lt;-1||K(t)?NaN:0===t||t===1/0?t:-1===t?-1/0:1+t-1==0?t:t*(V(1+t)/(1+t-1))},te=function(e){return&quot;[object
Arguments]&quot;===g(e)},ne=te(arguments)?te:function(e){return
null!==e&amp;&amp;&quot;object&quot;===(void
0===e?&quot;undefined&quot;:_typeof(e))&amp;&amp;&quot;number&quot;==typeof
e.length&amp;&amp;e.length&gt;=0&amp;&amp;&quot;[object
Array]&quot;!==g(e)&amp;&amp;&quot;[object
Function]&quot;===g(e.callee)},re=function(e){return
null===e||&quot;function&quot;!=typeof e&amp;&amp;&quot;object&quot;!==(void
0===e?&quot;undefined&quot;:_typeof(e))},ie=function(e){return&quot;[object
String]&quot;===g(e)},ae=function(e){return&quot;[object
RegExp]&quot;===g(e)},oe=function(e){return&quot;function&quot;==typeof
j.Symbol&amp;&amp;&quot;symbol&quot;===(void
0===e?&quot;undefined&quot;:_typeof(e))},se=function(e,t,n){var
r=e[t];y(e,t,n,!0),x(e[t],r)},ce=&quot;function&quot;==typeof
Y&amp;&amp;&quot;function&quot;==typeof Y.for&amp;&amp;oe(Y()),ue=oe(Y.iterator)?Y.iterator:&quot;_es6-shim
iterator_&quot;;j.Set&amp;&amp;&quot;function&quot;==typeof(new
j.Set)[&quot;@@iterator&quot;]&amp;&amp;(ue=&quot;@@iterator&quot;),j.Reflect||y(j,&quot;Reflect&quot;,{},!0);var
le,pe=j.Reflect,fe=String,de=&quot;undefined&quot;!=typeof
document&amp;&amp;document?document.all:null,he=null==de?function(e){return
null==e}:function(e){return null==e&amp;&amp;e!==de},ye={Call:function(e,t){var
r=arguments.length&gt;2?arguments[2]:[];if(!ye.IsCallable(e))throw new
TypeError(e+&quot; is not a function&quot;);return
n(e,t,r)},RequireObjectCoercible:function(e,t){if(he(e))throw new
TypeError(t||&quot;Cannot call method on &quot;+e);return e},TypeIsObject:function(e){return
null!=e&amp;&amp;!0!==e&amp;&amp;!1!==e&amp;&amp;(&quot;function&quot;==typeof
e||&quot;object&quot;===(void
0===e?&quot;undefined&quot;:_typeof(e))||e===de)},ToObject:function(e,t){return
Object(ye.RequireObjectCoercible(e,t))},IsCallable:v,IsConstructor:function(e){return
ye.IsCallable(e)},ToInt32:function(e){return
ye.ToNumber(e)&gt;&gt;0},ToUint32:function(e){return
ye.ToNumber(e)&gt;&gt;&gt;0},ToNumber:function(e){if(&quot;[object
Symbol]&quot;===g(e))throw new TypeError(&quot;Cannot convert a Symbol value to
a number&quot;);return+e},ToInteger:function(e){var t=ye.ToNumber(e);return
K(t)?0:0!==t&amp;&amp;Z(t)?(t&gt;0?1:-1)*L(q(t)):t},ToLength:function(e){var
t=ye.ToInteger(e);return
t&lt;=0?0:t&gt;Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return
e===t?0!==e||1/e==1/t:K(e)&amp;&amp;K(t)},SameValueZero:function(e,t){return
e===t||K(e)&amp;&amp;K(t)},IsIterable:function(e){return
ye.TypeIsObject(e)&amp;&amp;(void
0!==e[ue]||ne(e))},GetIterator:function(e){if(ne(e))return new
t(e,&quot;value&quot;);var n=ye.GetMethod(e,ue);if(!ye.IsCallable(n))throw new
TypeError(&quot;value is not an iterable&quot;);var
r=ye.Call(n,e);if(!ye.TypeIsObject(r))throw new TypeError(&quot;bad
iterator&quot;);return r},GetMethod:function(e,t){var
n=ye.ToObject(e)[t];if(!he(n)){if(!ye.IsCallable(n))throw new
TypeError(&quot;Method not callable: &quot;+t);return n}},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var
n=ye.GetMethod(e,&quot;return&quot;);if(void 0!==n){var
r,i;try{r=ye.Call(n,e)}catch(e){i=e}if(!t){if(i)throw
i;if(!ye.TypeIsObject(r))throw new TypeError(&quot;Iterator's return method
returned a non-object.&quot;)}}},IteratorNext:function(e){var
t=arguments.length&gt;1?e.next(arguments[1]):e.next();if(!ye.TypeIsObject(t))throw
new TypeError(&quot;bad iterator&quot;);return t},IteratorStep:function(e){var
t=ye.IteratorNext(e);return!ye.IteratorComplete(t)&amp;&amp;t},Construct:function(e,t,n,r){var
i=void 0===n?e:n;if(!r&amp;&amp;pe.construct)return pe.construct(e,t,i);var
a=i.prototype;ye.TypeIsObject(a)||(a=Object.prototype);var
o=k(a),s=ye.Call(e,o,t);return
ye.TypeIsObject(s)?s:o},SpeciesConstructor:function(e,t){var
n=e.constructor;if(void 0===n)return t;if(!ye.TypeIsObject(n))throw new
TypeError(&quot;Bad constructor&quot;);var r=n[J];if(he(r))return
t;if(!ye.IsConstructor(r))throw new TypeError(&quot;Bad @@species&quot;);return
r},CreateHTML:function(e,t,n,r){var i=ye.ToString(e),a=&quot;&lt;&quot;+t;&quot;&quot;!==n&amp;&amp;(a+=&quot;
&quot;+n+'=&quot;'+ye.ToString(r).replace(/&quot;/g,&quot;&amp;quot;&quot;)+'&quot;');return
a+&quot;&gt;&quot;+i+&quot;&lt;/&quot;+t+&quot;&gt;&quot;},IsRegExp:function(e){if(!ye.TypeIsObject(e))return!1;var
t=e[Y.match];return void 0!==t?!!t:ae(e)},ToString:function(e){return fe(e)}};if(u&amp;&amp;ce){var
me=function(e){if(oe(Y[e]))return Y[e];var t=Y.for(&quot;Symbol.&quot;+e);return
Object.defineProperty(Y,e,{configurable:!1,enumerable:!1,writable:!1,value:t}),t};if(!oe(Y.search)){var
ge=me(&quot;search&quot;),ve=String.prototype.search;y(RegExp.prototype,ge,function(e){return
ye.Call(ve,e,[this])});se(String.prototype,&quot;search&quot;,function(e){var
t=ye.RequireObjectCoercible(this);if(!he(e)){var n=ye.GetMethod(e,ge);if(void
0!==n)return ye.Call(n,e,[t])}return
ye.Call(ve,t,[ye.ToString(e)])})}if(!oe(Y.replace)){var
be=me(&quot;replace&quot;),we=String.prototype.replace;y(RegExp.prototype,be,function(e,t){return
ye.Call(we,e,[this,t])});se(String.prototype,&quot;replace&quot;,function(e,t){var
n=ye.RequireObjectCoercible(this);if(!he(e)){var r=ye.GetMethod(e,be);if(void
0!==r)return ye.Call(r,e,[n,t])}return ye.Call(we,n,[ye.ToString(e),t])})}if(!oe(Y.split)){var
Te=me(&quot;split&quot;),Se=String.prototype.split;y(RegExp.prototype,Te,function(e,t){return
ye.Call(Se,e,[this,t])});se(String.prototype,&quot;split&quot;,function(e,t){var
n=ye.RequireObjectCoercible(this);if(!he(e)){var r=ye.GetMethod(e,Te);if(void
0!==r)return ye.Call(r,e,[n,t])}return ye.Call(Se,n,[ye.ToString(e),t])})}var
xe=oe(Y.match),ke=xe&amp;&amp;((le={})[Y.match]=function(){return
42},42!==&quot;a&quot;.match(le));if(!xe||ke){var
Oe=me(&quot;match&quot;),je=String.prototype.match;y(RegExp.prototype,Oe,function(e){return
ye.Call(je,e,[this])});se(String.prototype,&quot;match&quot;,function(e){var
t=ye.RequireObjectCoercible(this);if(!he(e)){var n=ye.GetMethod(e,Oe);if(void
0!==n)return ye.Call(n,e,[t])}return ye.Call(je,t,[ye.ToString(e)])})}}var
Ae=function(e,t,n){x(t,e),Object.setPrototypeOf&amp;&amp;Object.setPrototypeOf(e,t),u?p(Object.getOwnPropertyNames(e),function(r){r
in $||n[r]||w(e,r,t)}):p(Object.keys(e),function(r){r in
$||n[r]||(t[r]=e[r])}),t.prototype=e.prototype,T(e.prototype,&quot;constructor&quot;,t)},Ce=function(){return
this},Ee=function(e){u&amp;&amp;!z(e,J)&amp;&amp;b(e,J,Ce)},_e=function(e,t){var
n=t||function(){return
this};y(e,ue,n),!e[ue]&amp;&amp;oe(ue)&amp;&amp;(e[ue]=n)},Ne=function(e,t,n){if(function(e,t,n){u?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n}(e,t,n),!ye.SameValue(e[t],n))throw
new TypeError(&quot;property is
nonconfigurable&quot;)},Pe=function(e,t,n,r){if(!ye.TypeIsObject(e))throw new
TypeError(&quot;Constructor requires `new`: &quot;+t.name);var
i=t.prototype;ye.TypeIsObject(i)||(i=n);var a=k(i);for(var o in
r)if(z(r,o)){var s=r[o];y(a,o,s,!0)}return
a};if(String.fromCodePoint&amp;&amp;1!==String.fromCodePoint.length){var
Ie=String.fromCodePoint;se(String,&quot;fromCodePoint&quot;,function(e){return
ye.Call(Ie,this,arguments)})}var Me={fromCodePoint:function(e){for(var t,n=[],r=0,i=arguments.length;r&lt;i;r++){if(t=Number(arguments[r]),!ye.SameValue(t,ye.ToInteger(t))||t&lt;0||t&gt;1114111)throw
new RangeError(&quot;Invalid code point
&quot;+t);t&lt;65536?P(n,String.fromCharCode(t)):(t-=65536,P(n,String.fromCharCode(55296+(t&gt;&gt;10))),P(n,String.fromCharCode(t%1024+56320)))}return
n.join(&quot;&quot;)},raw:function(e){var t=ye.ToObject(e,&quot;bad
callSite&quot;),n=ye.ToObject(t.raw,&quot;bad raw
value&quot;),r=n.length,i=ye.ToLength(r);if(i&lt;=0)return&quot;&quot;;for(var
a,o,s,c,u=[],l=0;l&lt;i&amp;&amp;(a=ye.ToString(l),s=ye.ToString(n[a]),P(u,s),!(l+1&gt;=i));)o=l+1&lt;arguments.length?arguments[l+1]:&quot;&quot;,c=ye.ToString(o),P(u,c),l+=1;return
u.join(&quot;&quot;)}};String.raw&amp;&amp;&quot;xy&quot;!==String.raw({raw:{0:&quot;x&quot;,1:&quot;y&quot;,length:2}})&amp;&amp;se(String,&quot;raw&quot;,Me.raw),m(String,Me);var
De={repeat:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this)),n=ye.ToInteger(e);if(n&lt;0||n&gt;=1/0)throw
new RangeError(&quot;repeat count must be less than infinity and not overflow
maximum string size&quot;);return function
e(t,n){if(n&lt;1)return&quot;&quot;;if(n%2)return e(t,n-1)+t;var
r=e(t,n/2);return r+r}(t,n)},startsWith:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this));if(ye.IsRegExp(e))throw
new TypeError('Cannot call method &quot;startsWith&quot; with a regex');var
n,r=ye.ToString(e);arguments.length&gt;1&amp;&amp;(n=arguments[1]);var
i=D(ye.ToInteger(n),0);return N(t,i,i+r.length)===r},endsWith:function(e){var
t=ye.ToString(ye.RequireObjectCoercible(this));if(ye.IsRegExp(e))throw new
TypeError('Cannot call method &quot;endsWith&quot; with a regex');var
n,r=ye.ToString(e),i=t.length;arguments.length&gt;1&amp;&amp;(n=arguments[1]);var
a=void 0===n?i:ye.ToInteger(n),o=R(D(a,0),i);return
N(t,o-r.length,o)===r},includes:function(e){if(ye.IsRegExp(e))throw new
TypeError('&quot;includes&quot; does not accept a RegExp');var
t,n=ye.ToString(e);return
arguments.length&gt;1&amp;&amp;(t=arguments[1]),-1!==C(this,n,t)},codePointAt:function(e){var
t=ye.ToString(ye.RequireObjectCoercible(this)),n=ye.ToInteger(e),r=t.length;if(n&gt;=0&amp;&amp;n&lt;r){var
i=t.charCodeAt(n);if(i&lt;55296||i&gt;56319||n+1===r)return i;var
a=t.charCodeAt(n+1);return
a&lt;56320||a&gt;57343?i:1024*(i-55296)+(a-56320)+65536}}};if(String.prototype.includes&amp;&amp;!1!==&quot;a&quot;.includes(&quot;a&quot;,1/0)&amp;&amp;se(String.prototype,&quot;includes&quot;,De.includes),String.prototype.startsWith&amp;&amp;String.prototype.endsWith){var
Re=o(function(){return&quot;/a/&quot;.startsWith(/a/)}),Le=s(function(){return!1===&quot;abc&quot;.startsWith(&quot;a&quot;,1/0)});Re&amp;&amp;Le||(se(String.prototype,&quot;startsWith&quot;,De.startsWith),se(String.prototype,&quot;endsWith&quot;,De.endsWith))}ce&amp;&amp;(s(function(){var
e=/a/;return
e[Y.match]=!1,&quot;/a/&quot;.startsWith(e)})||se(String.prototype,&quot;startsWith&quot;,De.startsWith),s(function(){var
e=/a/;return e[Y.match]=!1,&quot;/a/&quot;.endsWith(e)})||se(String.prototype,&quot;endsWith&quot;,De.endsWith),s(function(){var
e=/a/;return
e[Y.match]=!1,&quot;/a/&quot;.includes(e)})||se(String.prototype,&quot;includes&quot;,De.includes));m(String.prototype,De);var
qe=[&quot;\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003&quot;,&quot;\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028&quot;,&quot;\u2029\ufeff&quot;].join(&quot;&quot;),Fe=new
RegExp(&quot;(^[&quot;+qe+&quot;]+)|([&quot;+qe+&quot;]+$)&quot;,&quot;g&quot;),Ve=function(){return
ye.ToString(ye.RequireObjectCoercible(this)).replace(Fe,&quot;&quot;)},He=[&quot;\x85&quot;,&quot;\u200b&quot;,&quot;\ufffe&quot;].join(&quot;&quot;),ze=new
RegExp(&quot;[&quot;+He+&quot;]&quot;,&quot;g&quot;),$e=/^[-+]0x[0-9a-f]+$/i,Be=He.trim().length!==He.length;y(String.prototype,&quot;trim&quot;,Ve,Be);var
We=function(e){return{value:e,done:0===arguments.length}},Ue=function(e){ye.RequireObjectCoercible(e),this._s=ye.ToString(e),this._i=0};Ue.prototype.next=function(){var
e=this._s,t=this._i;if(void 0===e||t&gt;=e.length)return this._s=void
0,We();var n,r,i=e.charCodeAt(t);return
r=i&lt;55296||i&gt;56319||t+1===e.length?1:(n=e.charCodeAt(t+1))&lt;56320||n&gt;57343?1:2,this._i=t+r,We(e.substr(t,r))},_e(Ue.prototype),_e(String.prototype,function(){return
new Ue(this)});var Ge={from:function(e){var
t,n,i,a,o,s,c=this;if(arguments.length&gt;1&amp;&amp;(t=arguments[1]),void
0===t)n=!1;else{if(!ye.IsCallable(t))throw new TypeError(&quot;Array.from: when
provided, the second argument must be a
function&quot;);arguments.length&gt;2&amp;&amp;(i=arguments[2]),n=!0}if(void
0!==(ne(e)||ye.GetMethod(e,ue))){o=ye.IsConstructor(c)?Object(new c):[];var
u,l,p=ye.GetIterator(e);for(s=0;!1!==(u=ye.IteratorStep(p));){l=u.value;try{n&amp;&amp;(l=void
0===i?t(l,s):r(t,i,l,s)),o[s]=l}catch(e){throw
ye.IteratorClose(p,!0),e}s+=1}a=s}else{var
f,d=ye.ToObject(e);for(a=ye.ToLength(d.length),o=ye.IsConstructor(c)?Object(new
c(a)):new Array(a),s=0;s&lt;a;++s)f=d[s],n&amp;&amp;(f=void
0===i?t(f,s):r(t,i,f,s)),Ne(o,s,f)}return o.length=a,o},of:function(){for(var
e=arguments.length,t=this,n=i(t)||!ye.IsCallable(t)?new
Array(e):ye.Construct(t,[e]),r=0;r&lt;e;++r)Ne(n,r,arguments[r]);return
n.length=e,n}};m(Array,Ge),Ee(Array),m((t=function(e,t){this.i=0,this.array=e,this.kind=t}).prototype,{next:function(){var
e=this.i,n=this.array;if(!(this instanceof t))throw new TypeError(&quot;Not an
ArrayIterator&quot;);if(void 0!==n)for(var
r=ye.ToLength(n.length);e&lt;r;e++){var
i,a=this.kind;return&quot;key&quot;===a?i=e:&quot;value&quot;===a?i=n[e]:&quot;entry&quot;===a&amp;&amp;(i=[e,n[e]]),this.i=e+1,We(i)}return
this.array=void 0,We()}}),_e(t.prototype),Array.of===Ge.of||function(){var
e=function(e){this.length=e};e.prototype=[];var
t=Array.of.apply(e,[1,2]);return t instanceof
e&amp;&amp;2===t.length}()||se(Array,&quot;of&quot;,Ge.of);var Xe={copyWithin:function(e,t){var
n,r=ye.ToObject(this),i=ye.ToLength(r.length),a=ye.ToInteger(e),o=ye.ToInteger(t),s=a&lt;0?D(i+a,0):R(a,i),c=o&lt;0?D(i+o,0):R(o,i);arguments.length&gt;2&amp;&amp;(n=arguments[2]);var
u=void 0===n?i:ye.ToInteger(n),l=u&lt;0?D(i+u,0):R(u,i),p=R(l-c,i-s),f=1;for(c&lt;s&amp;&amp;s&lt;c+p&amp;&amp;(f=-1,c+=p-1,s+=p-1);p&gt;0;)c
in r?r[s]=r[c]:delete r[s],c+=f,s+=f,p-=1;return r},fill:function(e){var
t,n;arguments.length&gt;1&amp;&amp;(t=arguments[1]),arguments.length&gt;2&amp;&amp;(n=arguments[2]);var
r=ye.ToObject(this),i=ye.ToLength(r.length);t=ye.ToInteger(void 0===t?0:t);for(var
a=(n=ye.ToInteger(void
0===n?i:n))&lt;0?i+n:n,o=t&lt;0?D(i+t,0):R(t,i);o&lt;i&amp;&amp;o&lt;a;++o)r[o]=e;return
r},find:function(e){var
t=ye.ToObject(this),n=ye.ToLength(t.length);if(!ye.IsCallable(e))throw new
TypeError(&quot;Array#find: predicate must be a function&quot;);for(var
i,a=arguments.length&gt;1?arguments[1]:null,o=0;o&lt;n;o++)if(i=t[o],a){if(r(e,a,i,o,t))return
i}else if(e(i,o,t))return i},findIndex:function(e){var
t=ye.ToObject(this),n=ye.ToLength(t.length);if(!ye.IsCallable(e))throw new
TypeError(&quot;Array#findIndex: predicate must be a function&quot;);for(var
i=arguments.length&gt;1?arguments[1]:null,a=0;a&lt;n;a++)if(i){if(r(e,i,t[a],a,t))return
a}else if(e(t[a],a,t))return a;return-1},keys:function(){return new
t(this,&quot;key&quot;)},values:function(){return new
t(this,&quot;value&quot;)},entries:function(){return new
t(this,&quot;entry&quot;)}};if(Array.prototype.keys&amp;&amp;!ye.IsCallable([1].keys().next)&amp;&amp;delete
Array.prototype.keys,Array.prototype.entries&amp;&amp;!ye.IsCallable([1].entries().next)&amp;&amp;delete
Array.prototype.entries,Array.prototype.keys&amp;&amp;Array.prototype.entries&amp;&amp;!Array.prototype.values&amp;&amp;Array.prototype[ue]&amp;&amp;(m(Array.prototype,{values:Array.prototype[ue]}),oe(Y.unscopables)&amp;&amp;(Array.prototype[Y.unscopables].values=!0)),l&amp;&amp;Array.prototype.values&amp;&amp;&quot;values&quot;!==Array.prototype.values.name){var
Ye=Array.prototype.values;se(Array.prototype,&quot;values&quot;,function(){return
ye.Call(Ye,this,arguments)}),y(Array.prototype,ue,Array.prototype.values,!0)}m(Array.prototype,Xe),1/[!0].indexOf(!0,-0)&lt;0&amp;&amp;y(Array.prototype,&quot;indexOf&quot;,function(e){var
t=E(this,arguments);return 0===t&amp;&amp;1/t&lt;0?0:t},!0),_e(Array.prototype,function(){return
this.values()}),Object.getPrototypeOf&amp;&amp;_e(Object.getPrototypeOf([].values()));var
Je,Ke=s(function(){return
0===Array.from({length:-1}).length}),Ze=1===(Je=Array.from([0].entries())).length&amp;&amp;i(Je[0])&amp;&amp;0===Je[0][0]&amp;&amp;0===Je[0][1];if(Ke&amp;&amp;Ze||se(Array,&quot;from&quot;,Ge.from),!s(function(){return
Array.from([0],void 0)})){var
Qe=Array.from;se(Array,&quot;from&quot;,function(e){return
arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?ye.Call(Qe,this,arguments):r(Qe,this,e)})}var
et=-(Math.pow(2,32)-1),tt=function(e,t){var n={length:et};return
n[t?(n.length&gt;&gt;&gt;0)-1:0]=!0,s(function(){return r(e,n,function(){throw
new RangeError(&quot;should not reach
here&quot;)},[]),!0})};if(!tt(Array.prototype.forEach)){var nt=Array.prototype.forEach;se(Array.prototype,&quot;forEach&quot;,function(e){return
ye.Call(nt,this.length&gt;=0?this:[],arguments)})}if(!tt(Array.prototype.map)){var
rt=Array.prototype.map;se(Array.prototype,&quot;map&quot;,function(e){return
ye.Call(rt,this.length&gt;=0?this:[],arguments)})}if(!tt(Array.prototype.filter)){var
it=Array.prototype.filter;se(Array.prototype,&quot;filter&quot;,function(e){return
ye.Call(it,this.length&gt;=0?this:[],arguments)})}if(!tt(Array.prototype.some)){var
at=Array.prototype.some;se(Array.prototype,&quot;some&quot;,function(e){return
ye.Call(at,this.length&gt;=0?this:[],arguments)})}if(!tt(Array.prototype.every)){var
ot=Array.prototype.every;se(Array.prototype,&quot;every&quot;,function(e){return
ye.Call(ot,this.length&gt;=0?this:[],arguments)})}if(!tt(Array.prototype.reduce)){var
st=Array.prototype.reduce;se(Array.prototype,&quot;reduce&quot;,function(e){return
ye.Call(st,this.length&gt;=0?this:[],arguments)})}if(!tt(Array.prototype.reduceRight,!0)){var
ct=Array.prototype.reduceRight;se(Array.prototype,&quot;reduceRight&quot;,function(e){return
ye.Call(ct,this.length&gt;=0?this:[],arguments)})}var
ut=8!==Number(&quot;0o10&quot;),lt=2!==Number(&quot;0b10&quot;),pt=h(He,function(e){return
0===Number(e+0+e)});if(ut||lt||pt){var
ft=Number,dt=/^0b[01]+$/i,ht=/^0o[0-7]+$/i,yt=dt.test.bind(dt),mt=ht.test.bind(ht),gt=ze.test.bind(ze),vt=$e.test.bind($e),bt=function(){var
e=function(t){var
n;&quot;string&quot;==typeof(n=arguments.length&gt;0?re(t)?t:function(e){var
t;if(&quot;function&quot;==typeof
e.valueOf&amp;&amp;(t=e.valueOf(),re(t)))return
t;if(&quot;function&quot;==typeof e.toString&amp;&amp;(t=e.toString(),re(t)))return
t;throw new TypeError(&quot;No default value&quot;)}(t):0)&amp;&amp;(n=ye.Call(Ve,n),yt(n)?n=parseInt(N(n,2),2):mt(n)?n=parseInt(N(n,2),8):(gt(n)||vt(n))&amp;&amp;(n=NaN));var
r=this,i=s(function(){return ft.prototype.valueOf.call(r),!0});return r
instanceof e&amp;&amp;!i?new ft(n):ft(n)};return e}();Ae(ft,bt,{}),m(bt,{NaN:ft.NaN,MAX_VALUE:ft.MAX_VALUE,MIN_VALUE:ft.MIN_VALUE,NEGATIVE_INFINITY:ft.NEGATIVE_INFINITY,POSITIVE_INFINITY:ft.POSITIVE_INFINITY}),Number=bt,T(j,&quot;Number&quot;,bt)}var
wt=Math.pow(2,53)-1;m(Number,{MAX_SAFE_INTEGER:wt,MIN_SAFE_INTEGER:-wt,EPSILON:2.220446049250313e-16,parseInt:j.parseInt,parseFloat:j.parseFloat,isFinite:Z,isInteger:function(e){return
Z(e)&amp;&amp;ye.ToInteger(e)===e},isSafeInteger:function(e){return
Number.isInteger(e)&amp;&amp;q(e)&lt;=Number.MAX_SAFE_INTEGER},isNaN:K}),y(Number,&quot;parseInt&quot;,j.parseInt,Number.parseInt!==j.parseInt),1===[,1].find(function(){return!0})&amp;&amp;se(Array.prototype,&quot;find&quot;,Xe.find),0!==[,1].findIndex(function(){return!0})&amp;&amp;se(Array.prototype,&quot;findIndex&quot;,Xe.findIndex);var
Tt,St,xt,kt=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),Ot=function(e,t){u&amp;&amp;kt(e,t)&amp;&amp;Object.defineProperty(e,t,{enumerable:!1})},jt=function(){for(var
e=Number(this),t=arguments.length,n=t-e,r=new
Array(n&lt;0?0:n),i=e;i&lt;t;++i)r[i-e]=arguments[i];return
r},At=function(e){return function(t,n){return t[n]=e[n],t}},Ct=function(e,t){var
n,r=a(Object(t));return
ye.IsCallable(Object.getOwnPropertySymbols)&amp;&amp;(n=d(Object.getOwnPropertySymbols(Object(t)),kt(t))),f(_(r,n||[]),At(t),e)},Et={assign:function(e,t){var
n=ye.ToObject(e,&quot;Cannot convert undefined or null to object&quot;);return
f(ye.Call(jt,1,arguments),Ct,n)},is:function(e,t){return
ye.SameValue(e,t)}};if(Object.assign&amp;&amp;Object.preventExtensions&amp;&amp;function(){var
e=Object.preventExtensions({1:2});try{Object.assign(e,&quot;xy&quot;)}catch(t){return&quot;y&quot;===e[1]}}()&amp;&amp;se(Object,&quot;assign&quot;,Et.assign),m(Object,Et),u){var
_t={setPrototypeOf:function(e,t){var n,i=function(e,t){return
function(e,t){if(!ye.TypeIsObject(e))throw new TypeError(&quot;cannot set
prototype on a non-object&quot;);if(null!==t&amp;&amp;!ye.TypeIsObject(t))throw
new TypeError(&quot;can only set prototype to an object or
null&quot;+t)}(e,t),r(n,e,t),e};try{n=e.getOwnPropertyDescriptor(e.prototype,&quot;__proto__&quot;).set,r(n,{},null)}catch(t){if(e.prototype!=={}.__proto__)return;n=function(e){this.__proto__=e},i.polyfill=i(i({},null),e.prototype)instanceof
e}return
i}(Object)};m(Object,_t)}if(Object.setPrototypeOf&amp;&amp;Object.getPrototypeOf&amp;&amp;null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&amp;&amp;null===Object.getPrototypeOf(Object.create(null))&amp;&amp;(Tt=Object.create(null),St=Object.getPrototypeOf,xt=Object.setPrototypeOf,Object.getPrototypeOf=function(e){var
t=St(e);return t===Tt?null:t},Object.setPrototypeOf=function(e,t){return
xt(e,null===t?Tt:t)},Object.setPrototypeOf.polyfill=!1),!!o(function(){return
Object.keys(&quot;foo&quot;)})){var Nt=Object.keys;se(Object,&quot;keys&quot;,function(e){return
Nt(ye.ToObject(e))}),a=Object.keys}if(o(function(){return
Object.keys(/a/g)})){var
Pt=Object.keys;se(Object,&quot;keys&quot;,function(e){if(ae(e)){var
t=[];for(var n in e)z(e,n)&amp;&amp;P(t,n);return t}return
Pt(e)}),a=Object.keys}if(Object.getOwnPropertyNames&amp;&amp;!!o(function(){return
Object.getOwnPropertyNames(&quot;foo&quot;)})){var
It=&quot;object&quot;===(&quot;undefined&quot;==typeof
window?&quot;undefined&quot;:_typeof(window))?Object.getOwnPropertyNames(window):[],Mt=Object.getOwnPropertyNames;se(Object,&quot;getOwnPropertyNames&quot;,function(e){var
t=ye.ToObject(e);if(&quot;[object Window]&quot;===g(t))try{return
Mt(t)}catch(e){return _([],It)}return
Mt(t)})}if(Object.getOwnPropertyDescriptor&amp;&amp;!!o(function(){return
Object.getOwnPropertyDescriptor(&quot;foo&quot;,&quot;bar&quot;)})){var Dt=Object.getOwnPropertyDescriptor;se(Object,&quot;getOwnPropertyDescriptor&quot;,function(e,t){return
Dt(ye.ToObject(e),t)})}if(Object.seal&amp;&amp;!!o(function(){return
Object.seal(&quot;foo&quot;)})){var
Rt=Object.seal;se(Object,&quot;seal&quot;,function(e){return
ye.TypeIsObject(e)?Rt(e):e})}if(Object.isSealed&amp;&amp;!!o(function(){return
Object.isSealed(&quot;foo&quot;)})){var
Lt=Object.isSealed;se(Object,&quot;isSealed&quot;,function(e){return!ye.TypeIsObject(e)||Lt(e)})}if(Object.freeze&amp;&amp;!!o(function(){return
Object.freeze(&quot;foo&quot;)})){var qt=Object.freeze;se(Object,&quot;freeze&quot;,function(e){return
ye.TypeIsObject(e)?qt(e):e})}if(Object.isFrozen&amp;&amp;!!o(function(){return
Object.isFrozen(&quot;foo&quot;)})){var
Ft=Object.isFrozen;se(Object,&quot;isFrozen&quot;,function(e){return!ye.TypeIsObject(e)||Ft(e)})}if(Object.preventExtensions&amp;&amp;!!o(function(){return
Object.preventExtensions(&quot;foo&quot;)})){var
Vt=Object.preventExtensions;se(Object,&quot;preventExtensions&quot;,function(e){return
ye.TypeIsObject(e)?Vt(e):e})}if(Object.isExtensible&amp;&amp;!!o(function(){return
Object.isExtensible(&quot;foo&quot;)})){var Ht=Object.isExtensible;se(Object,&quot;isExtensible&quot;,function(e){return!!ye.TypeIsObject(e)&amp;&amp;Ht(e)})}if(Object.getPrototypeOf&amp;&amp;!!o(function(){return
Object.getPrototypeOf(&quot;foo&quot;)})){var
zt=Object.getPrototypeOf;se(Object,&quot;getPrototypeOf&quot;,function(e){return
zt(ye.ToObject(e))})}var $t,Bt=u&amp;&amp;(($t=Object.getOwnPropertyDescriptor(RegExp.prototype,&quot;flags&quot;))&amp;&amp;ye.IsCallable($t.get));if(u&amp;&amp;!Bt){b(RegExp.prototype,&quot;flags&quot;,function(){if(!ye.TypeIsObject(this))throw
new TypeError(&quot;Method called on incompatible type: must be an object.&quot;);var
e=&quot;&quot;;return this.global&amp;&amp;(e+=&quot;g&quot;),this.ignoreCase&amp;&amp;(e+=&quot;i&quot;),this.multiline&amp;&amp;(e+=&quot;m&quot;),this.unicode&amp;&amp;(e+=&quot;u&quot;),this.sticky&amp;&amp;(e+=&quot;y&quot;),e})}var
Wt,Ut=u&amp;&amp;s(function(){return&quot;/a/i&quot;===String(new
RegExp(/a/g,&quot;i&quot;))}),Gt=ce&amp;&amp;u&amp;&amp;((Wt=/./)[Y.match]=!1,RegExp(Wt)===Wt),Xt=s(function(){return&quot;/abc/&quot;===RegExp.prototype.toString.call({source:&quot;abc&quot;})}),Yt=Xt&amp;&amp;s(function(){return&quot;/a/b&quot;===RegExp.prototype.toString.call({source:&quot;a&quot;,flags:&quot;b&quot;})});if(!Xt||!Yt){var
Jt=RegExp.prototype.toString;y(RegExp.prototype,&quot;toString&quot;,function(){var
e=ye.RequireObjectCoercible(this);return
ae(e)?r(Jt,e):&quot;/&quot;+fe(e.source)+&quot;/&quot;+fe(e.flags)},!0),x(RegExp.prototype.toString,Jt)}if(u&amp;&amp;(!Ut||Gt)){var
Kt=Object.getOwnPropertyDescriptor(RegExp.prototype,&quot;flags&quot;).get,Zt=Object.getOwnPropertyDescriptor(RegExp.prototype,&quot;source&quot;)||{},Qt=ye.IsCallable(Zt.get)?Zt.get:function(){return
this.source},en=RegExp,tn=function e(t,n){var r=ye.IsRegExp(t);return this
instanceof e||!r||void 0!==n||t.constructor!==e?ae(t)?new e(ye.Call(Qt,t),void
0===n?ye.Call(Kt,t):n):(r&amp;&amp;(t.source,void 0===n&amp;&amp;t.flags),new
en(t,n)):t};Ae(en,tn,{$input:!0}),RegExp=tn,T(j,&quot;RegExp&quot;,tn)}if(u){var
nn={input:&quot;$_&quot;,lastMatch:&quot;$&amp;&quot;,lastParen:&quot;$+&quot;,leftContext:&quot;$`&quot;,rightContext:&quot;$'&quot;};p(a(nn),function(e){e
in RegExp&amp;&amp;!(nn[e]in RegExp)&amp;&amp;b(RegExp,nn[e],function(){return
RegExp[e]})})}Ee(RegExp);var
rn=1/Number.EPSILON,an=Math.pow(2,-23),on=Math.pow(2,127)*(2-an),sn=Math.pow(2,-126),cn=Math.E,un=Math.LOG2E,ln=Math.LOG10E,pn=Number.prototype.clz;delete
Number.prototype.clz;var fn={acosh:function(e){var
t=Number(e);if(K(t)||e&lt;1)return NaN;if(1===t)return 0;if(t===1/0)return
t;var n=1/(t*t);if(t&lt;2)return ee(t-1+H(1-n)*t);var r=t/2;return
ee(r+H(1-n)*r-1)+1/un},asinh:function(e){var t=Number(e);if(0===t||!A(t))return
t;var n=q(t),r=n*n,i=Q(t);return n&lt;1?i*ee(n+r/(H(r+1)+1)):i*(ee(n/2+H(1+1/r)*n/2-1)+1/un)},atanh:function(e){var
t=Number(e);if(0===t)return t;if(-1===t)return-1/0;if(1===t)return
1/0;if(K(t)||t&lt;-1||t&gt;1)return NaN;var n=q(t);return
Q(t)*ee(2*n/(1-n))/2},cbrt:function(e){var t=Number(e);if(0===t)return t;var
n,r=t&lt;0;return r&amp;&amp;(t=-t),n=t===1/0?1/0:(t/((n=F(V(t)/3))*n)+2*n)/3,r?-n:n},clz32:function(e){var
t=Number(e),n=ye.ToUint32(t);return
0===n?32:pn?ye.Call(pn,n):31-L(V(n+.5)*un)},cosh:function(e){var
t=Number(e);if(0===t)return 1;if(K(t))return NaN;if(!A(t))return 1/0;var
n=F(q(t)-1);return(n+1/(n*cn*cn))*(cn/2)},expm1:function(e){var
t=Number(e);if(t===-1/0)return-1;if(!A(t)||0===t)return t;if(q(t)&gt;.5)return
F(t)-1;for(var n=t,r=0,i=1;r+n!==r;)r+=n,n*=t/(i+=1);return
r},hypot:function(e,t){for(var n=0,r=0,i=0;i&lt;arguments.length;++i){var a=q(Number(arguments[i]));r&lt;a?(n*=r/a*(r/a),n+=1,r=a):n+=a&gt;0?a/r*(a/r):a}return
r===1/0?1/0:r*H(n)},log2:function(e){return V(e)*un},log10:function(e){return
V(e)*ln},log1p:ee,sign:Q,sinh:function(e){var
t=Number(e);if(!A(t)||0===t)return t;var n=q(t);if(n&lt;1){var
r=Math.expm1(n);return Q(t)*r*(1+1/(r+1))/2}var i=F(n-1);return
Q(t)*(i-1/(i*cn*cn))*(cn/2)},tanh:function(e){var t=Number(e);return
K(t)||0===t?t:t&gt;=20?1:t&lt;=-20?-1:(Math.expm1(t)-Math.expm1(-t))/(F(t)+F(-t))},trunc:function(e){var
t=Number(e);return t&lt;0?-L(-t):L(t)},imul:function(e,t){var
n=ye.ToUint32(e),r=ye.ToUint32(t),i=65535&amp;n,a=65535&amp;r;return
i*a+((n&gt;&gt;&gt;16&amp;65535)*a+i*(r&gt;&gt;&gt;16&amp;65535)&lt;&lt;16&gt;&gt;&gt;0)|0},fround:function(e){var
t=Number(e);if(0===t||t===1/0||t===-1/0||K(t))return t;var
n=Q(t),r=q(t);if(r&lt;sn)return n*(r/sn/an+rn-rn)*sn*an;var
i=(1+an/Number.EPSILON)*r,a=i-(i-r);return
a&gt;on||K(a)?n*(1/0):n*a}},dn=function(e,t,n){return
q(1-e/t)/Number.EPSILON&lt;(n||8)};m(Math,fn),y(Math,&quot;sinh&quot;,fn.sinh,Math.sinh(710)===1/0),y(Math,&quot;cosh&quot;,fn.cosh,Math.cosh(710)===1/0),y(Math,&quot;log1p&quot;,fn.log1p,-1e-17!==Math.log1p(-1e-17)),y(Math,&quot;asinh&quot;,fn.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),y(Math,&quot;asinh&quot;,fn.asinh,Math.asinh(1e300)===1/0),y(Math,&quot;atanh&quot;,fn.atanh,0===Math.atanh(1e-300)),y(Math,&quot;tanh&quot;,fn.tanh,-2e-17!==Math.tanh(-2e-17)),y(Math,&quot;acosh&quot;,fn.acosh,Math.acosh(Number.MAX_VALUE)===1/0),y(Math,&quot;acosh&quot;,fn.acosh,!dn(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON))),y(Math,&quot;cbrt&quot;,fn.cbrt,!dn(Math.cbrt(1e-300),1e-100)),y(Math,&quot;sinh&quot;,fn.sinh,-2e-17!==Math.sinh(-2e-17));var
hn=Math.expm1(10);y(Math,&quot;expm1&quot;,fn.expm1,hn&gt;22025.465794806718||hn&lt;22025.465794806718);var
yn=Math.round,mn=0===Math.round(.5-Number.EPSILON/4)&amp;&amp;1===Math.round(Number.EPSILON/3.99-.5),gn=[rn+1,2*rn-1].every(function(e){return
Math.round(e)===e});y(Math,&quot;round&quot;,function(e){var t=L(e);return
e-t&lt;.5?t:-1===t?-0:t+1},!mn||!gn),x(Math.round,yn);var
vn=Math.imul;-5!==Math.imul(4294967295,5)&amp;&amp;(Math.imul=fn.imul,x(Math.imul,vn)),2!==Math.imul.length&amp;&amp;se(Math,&quot;imul&quot;,function(e,t){return
ye.Call(vn,Math,arguments)});var bn,wn,Tn=function(){var
e=j.setTimeout;if(&quot;function&quot;==typeof e||&quot;object&quot;===(void
0===e?&quot;undefined&quot;:_typeof(e))){ye.IsPromise=function(e){return!!ye.TypeIsObject(e)&amp;&amp;void
0!==e._promise};var t,n=function(e){if(!ye.IsConstructor(e))throw new TypeError(&quot;Bad
promise constructor&quot;);var t=this;if(t.resolve=void 0,t.reject=void
0,t.promise=new e(function(e,n){if(void 0!==t.resolve||void 0!==t.reject)throw
new TypeError(&quot;Bad Promise
implementation!&quot;);t.resolve=e,t.reject=n}),!ye.IsCallable(t.resolve)||!ye.IsCallable(t.reject))throw
new TypeError(&quot;Bad promise
constructor&quot;)};&quot;undefined&quot;!=typeof
window&amp;&amp;ye.IsCallable(window.postMessage)&amp;&amp;(t=function(){var
e=[];return window.addEventListener(&quot;message&quot;,function(t){if(t.source===window&amp;&amp;&quot;zero-timeout-message&quot;===t.data){if(t.stopPropagation(),0===e.length)return;M(e)()}},!0),function(t){P(e,t),window.postMessage(&quot;zero-timeout-message&quot;,&quot;*&quot;)}});var
i,a,o,s,c,u=ye.IsCallable(j.setImmediate)?j.setImmediate:&quot;object&quot;===(&quot;undefined&quot;==typeof
process?&quot;undefined&quot;:_typeof(process))&amp;&amp;process.nextTick?process.nextTick:(i=j.Promise,(a=i&amp;&amp;i.resolve&amp;&amp;i.resolve())&amp;&amp;function(e){return
a.then(e)}||(ye.IsCallable(t)?t():function(t){e(t,0)})),l=function(e){return
e},p=function(e){throw e},f={},d=function(e,t,n){u(function(){h(e,t,n)})},h=function(e,t,n){var
r,i;if(t===f)return
e(n);try{r=e(n),i=t.resolve}catch(e){r=e,i=t.reject}i(r)},y=function(e,t){var
n=e._promise,r=n.reactionLength;if(r&gt;0&amp;&amp;(d(n.fulfillReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void
0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r&gt;1))for(var
i=1,a=0;i&lt;r;i++,a+=3)d(n[a+0],n[a+2],t),e[a+0]=void 0,e[a+1]=void
0,e[a+2]=void 0;n.result=t,n.state=1,n.reactionLength=0},g=function(e,t){var
n=e._promise,r=n.reactionLength;if(r&gt;0&amp;&amp;(d(n.rejectReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void
0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r&gt;1))for(var
i=1,a=0;i&lt;r;i++,a+=3)d(n[a+1],n[a+2],t),e[a+0]=void 0,e[a+1]=void
0,e[a+2]=void 0;n.result=t,n.state=2,n.reactionLength=0},v=function(e){var
t=!1;return{resolve:function(n){var r;if(!t){if(t=!0,n===e)return g(e,new
TypeError(&quot;Self resolution&quot;));if(!ye.TypeIsObject(n))return
y(e,n);try{r=n.then}catch(t){return g(e,t)}if(!ye.IsCallable(r))return
y(e,n);u(function(){w(e,n,r)})}},reject:function(n){if(!t)return
t=!0,g(e,n)}}},b=function(e,t,n,i){e===s?r(e,t,n,i,f):r(e,t,n,i)},w=function(e,t,n){var
r=v(e),i=r.resolve,a=r.reject;try{b(n,t,i,a)}catch(e){a(e)}},T=c=function(e){if(!(this
instanceof c))throw new TypeError('Constructor Promise requires
&quot;new&quot;');if(this&amp;&amp;this._promise)throw new TypeError(&quot;Bad
construction&quot;);if(!ye.IsCallable(e))throw new TypeError(&quot;not a valid
resolver&quot;);var t=Pe(this,c,o,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void
0,rejectReactionHandler0:void 0,reactionCapability0:void
0}}),n=v(t),r=n.reject;try{e(n.resolve,r)}catch(e){r(e)}return
t};o=T.prototype;var S=function(e,t,n,r){var i=!1;return
function(a){i||(i=!0,t[e]=a,0==--r.count&amp;&amp;(0,n.resolve)(t))}};return
m(T,{all:function(e){var t=this;if(!ye.TypeIsObject(t))throw new
TypeError(&quot;Promise is not object&quot;);var r,i,a=new n(t);try{return
function(e,t,n){for(var
r,i,a=e.iterator,o=[],s={count:1},c=0;;){try{if(!1===(r=ye.IteratorStep(a))){e.done=!0;break}i=r.value}catch(t){throw
e.done=!0,t}o[c]=void 0;var
u=t.resolve(i),l=S(c,o,n,s);s.count+=1,b(u.then,u,l,n.reject),c+=1}0==--s.count&amp;&amp;(0,n.resolve)(o);return
n.promise}(i={iterator:r=ye.GetIterator(e),done:!1},t,a)}catch(e){var
o=e;if(i&amp;&amp;!i.done)try{ye.IteratorClose(r,!0)}catch(e){o=e}return(0,a.reject)(o),a.promise}},race:function(e){var
t=this;if(!ye.TypeIsObject(t))throw new TypeError(&quot;Promise is not
object&quot;);var r,i,a=new n(t);try{return function(e,t,n){for(var
r,i,a,o=e.iterator;;){try{if(!1===(r=ye.IteratorStep(o))){e.done=!0;break}i=r.value}catch(t){throw
e.done=!0,t}a=t.resolve(i),b(a.then,a,n.resolve,n.reject)}return
n.promise}(i={iterator:r=ye.GetIterator(e),done:!1},t,a)}catch(e){var
o=e;if(i&amp;&amp;!i.done)try{ye.IteratorClose(r,!0)}catch(e){o=e}return(0,a.reject)(o),a.promise}},reject:function(e){if(!ye.TypeIsObject(this))throw
new TypeError(&quot;Bad promise constructor&quot;);var t=new
n(this);return(0,t.reject)(e),t.promise},resolve:function(e){var
t=this;if(!ye.TypeIsObject(t))throw new TypeError(&quot;Bad promise
constructor&quot;);if(ye.IsPromise(e)&amp;&amp;e.constructor===t)return e;var
r=new n(t);return(0,r.resolve)(e),r.promise}}),m(o,{catch:function(e){return
this.then(null,e)},then:function(e,t){if(!ye.IsPromise(this))throw new
TypeError(&quot;not a promise&quot;);var r,i=ye.SpeciesConstructor(this,T);r=arguments.length&gt;2&amp;&amp;arguments[2]===f&amp;&amp;i===T?f:new
n(i);var
a,o=ye.IsCallable(e)?e:l,s=ye.IsCallable(t)?t:p,c=this._promise;if(0===c.state){if(0===c.reactionLength)c.fulfillReactionHandler0=o,c.rejectReactionHandler0=s,c.reactionCapability0=r;else{var
u=3*(c.reactionLength-1);c[u+0]=o,c[u+1]=s,c[u+2]=r}c.reactionLength+=1}else
if(1===c.state)a=c.result,d(o,r,a);else{if(2!==c.state)throw new
TypeError(&quot;unexpected Promise state&quot;);a=c.result,d(s,r,a)}return
r.promise}}),f=new n(T),s=o.then,T}}();if(j.Promise&amp;&amp;(delete
j.Promise.accept,delete j.Promise.defer,delete
j.Promise.prototype.chain),&quot;function&quot;==typeof
Tn){m(j,{Promise:Tn});var Sn=O(j.Promise,function(e){return
e.resolve(42).then(function(){})instanceof e}),xn=!o(function(){return
j.Promise.reject(42).then(null,5).then(null,$)}),kn=o(function(){return
j.Promise.call(3,$)}),On=function(e){var t=e.resolve(5);t.constructor={};var
n=e.resolve(t);try{n.then(null,$).then(null,$)}catch(e){return!0}return
t===n}(j.Promise),jn=u&amp;&amp;(bn=0,wn=Object.defineProperty({},&quot;then&quot;,{get:function(){bn+=1}}),Promise.resolve(wn),1===bn),An=function
e(t){var n=new
Promise(t);t(3,function(){}),this.then=n.then,this.constructor=e};An.prototype=Promise.prototype,An.all=Promise.all;var
Cn=s(function(){return!!An.all([1,2])});if(Sn&amp;&amp;xn&amp;&amp;kn&amp;&amp;!On&amp;&amp;jn&amp;&amp;!Cn||(Promise=Tn,se(j,&quot;Promise&quot;,Tn)),1!==Promise.all.length){var
En=Promise.all;se(Promise,&quot;all&quot;,function(e){return
ye.Call(En,this,arguments)})}if(1!==Promise.race.length){var
_n=Promise.race;se(Promise,&quot;race&quot;,function(e){return ye.Call(_n,this,arguments)})}if(1!==Promise.resolve.length){var
Nn=Promise.resolve;se(Promise,&quot;resolve&quot;,function(e){return
ye.Call(Nn,this,arguments)})}if(1!==Promise.reject.length){var
Pn=Promise.reject;se(Promise,&quot;reject&quot;,function(e){return
ye.Call(Pn,this,arguments)})}Ot(Promise,&quot;all&quot;),Ot(Promise,&quot;race&quot;),Ot(Promise,&quot;resolve&quot;),Ot(Promise,&quot;reject&quot;),Ee(Promise)}var
In,Mn,Dn=function(e){var t=a(f(e,function(e,t){return e[t]=!0,e},{}));return
e.join(&quot;:&quot;)===t.join(&quot;:&quot;)},Rn=Dn([&quot;z&quot;,&quot;a&quot;,&quot;bb&quot;]),Ln=Dn([&quot;z&quot;,1,&quot;a&quot;,&quot;3&quot;,2]);if(u){var
qn=function(e,t){return
t||Rn?he(e)?&quot;^&quot;+ye.ToString(e):&quot;string&quot;==typeof
e?&quot;$&quot;+e:&quot;number&quot;==typeof
e?Ln?e:&quot;n&quot;+e:&quot;boolean&quot;==typeof
e?&quot;b&quot;+e:null:null},Fn=function(){return Object.create?Object.create(null):{}},Vn=function(e,t,n){if(i(n)||ie(n))p(n,function(e){if(!ye.TypeIsObject(e))throw
new TypeError(&quot;Iterator value &quot;+e+&quot; is not an entry
object&quot;);t.set(e[0],e[1])});else if(n instanceof
e)r(e.prototype.forEach,n,function(e,n){t.set(n,e)});else{var
a,o;if(!he(n)){if(o=t.set,!ye.IsCallable(o))throw new TypeError(&quot;bad
map&quot;);a=ye.GetIterator(n)}if(void 0!==a)for(;;){var
s=ye.IteratorStep(a);if(!1===s)break;var
c=s.value;try{if(!ye.TypeIsObject(c))throw new TypeError(&quot;Iterator value
&quot;+c+&quot; is not an entry object&quot;);r(o,t,c[0],c[1])}catch(e){throw
ye.IteratorClose(a,!0),e}}}},Hn=function(e,t,n){if(i(n)||ie(n))p(n,function(e){t.add(e)});else
if(n instanceof e)r(e.prototype.forEach,n,function(e){t.add(e)});else{var
a,o;if(!he(n)){if(o=t.add,!ye.IsCallable(o))throw new TypeError(&quot;bad
set&quot;);a=ye.GetIterator(n)}if(void 0!==a)for(;;){var
s=ye.IteratorStep(a);if(!1===s)break;var c=s.value;try{r(o,t,c)}catch(e){throw
ye.IteratorClose(a,!0),e}}}},zn={Map:function(){var
e={},t=function(e,t){this.key=e,this.value=t,this.next=null,this.prev=null};t.prototype.isRemoved=function(){return
this.key===e};var
n,i=function(e,t){if(!ye.TypeIsObject(e)||!function(e){return!!e._es6map}(e))throw
new TypeError(&quot;Method Map.prototype.&quot;+t+&quot; called on incompatible
receiver &quot;+ye.ToString(e))},a=function(e,t){i(e,&quot;[[MapIterator]]&quot;),this.head=e._head,this.i=this.head,this.kind=t};_e(a.prototype={isMapIterator:!0,next:function(){if(!this.isMapIterator)throw
new TypeError(&quot;Not a MapIterator&quot;);var
e,t=this.i,n=this.kind,r=this.head;if(void 0===this.i)return
We();for(;t.isRemoved()&amp;&amp;t!==r;)t=t.prev;for(;t.next!==r;)if(!(t=t.next).isRemoved())return
e=&quot;key&quot;===n?t.key:&quot;value&quot;===n?t.value:[t.key,t.value],this.i=t,We(e);return
this.i=void 0,We()}});var o=function e(){if(!(this instanceof e))throw new
TypeError('Constructor Map requires &quot;new&quot;');if(this&amp;&amp;this._es6map)throw
new TypeError(&quot;Bad construction&quot;);var
r=Pe(this,e,n,{_es6map:!0,_head:null,_map:B?new
B:null,_size:0,_storage:Fn()}),i=new t(null,null);return
i.next=i.prev=i,r._head=i,arguments.length&gt;0&amp;&amp;Vn(e,r,arguments[0]),r};return
b(n=o.prototype,&quot;size&quot;,function(){if(void 0===this._size)throw new
TypeError(&quot;size method called on incompatible Map&quot;);return
this._size}),m(n,{get:function(e){var t;i(this,&quot;get&quot;);var
n=qn(e,!0);if(null!==n)return(t=this._storage[n])?t.value:void
0;if(this._map)return(t=U.call(this._map,e))?t.value:void 0;for(var
r=this._head,a=r;(a=a.next)!==r;)if(ye.SameValueZero(a.key,e))return
a.value},has:function(e){i(this,&quot;has&quot;);var
t=qn(e,!0);if(null!==t)return void 0!==this._storage[t];if(this._map)return
G.call(this._map,e);for(var
n=this._head,r=n;(r=r.next)!==n;)if(ye.SameValueZero(r.key,e))return!0;return!1},set:function(e,n){i(this,&quot;set&quot;);var
r,a=this._head,o=a,s=qn(e,!0);if(null!==s){if(void 0!==this._storage[s])return
this._storage[s].value=n,this;r=this._storage[s]=new t(e,n),o=a.prev}else
this._map&amp;&amp;(G.call(this._map,e)?U.call(this._map,e).value=n:(r=new
t(e,n),X.call(this._map,e,r),o=a.prev));for(;(o=o.next)!==a;)if(ye.SameValueZero(o.key,e))return
o.value=n,this;return r=r||new t(e,n),ye.SameValue(-0,e)&amp;&amp;(r.key=0),r.next=this._head,r.prev=this._head.prev,r.prev.next=r,r.next.prev=r,this._size+=1,this},delete:function(t){i(this,&quot;delete&quot;);var
n=this._head,r=n,a=qn(t,!0);if(null!==a){if(void
0===this._storage[a])return!1;r=this._storage[a].prev,delete this._storage[a]}else
if(this._map){if(!G.call(this._map,t))return!1;r=U.call(this._map,t).prev,W.call(this._map,t)}for(;(r=r.next)!==n;)if(ye.SameValueZero(r.key,t))return
r.key=e,r.value=e,r.prev.next=r.next,r.next.prev=r.prev,this._size-=1,!0;return!1},clear:function(){i(this,&quot;clear&quot;),this._map=B?new
B:null,this._size=0,this._storage=Fn();for(var
t=this._head,n=t,r=n.next;(n=r)!==t;)n.key=e,n.value=e,r=n.next,n.next=n.prev=t;t.next=t.prev=t},keys:function(){return
i(this,&quot;keys&quot;),new a(this,&quot;key&quot;)},values:function(){return
i(this,&quot;values&quot;),new
a(this,&quot;value&quot;)},entries:function(){return
i(this,&quot;entries&quot;),new
a(this,&quot;key+value&quot;)},forEach:function(e){i(this,&quot;forEach&quot;);for(var
t=arguments.length&gt;1?arguments[1]:null,n=this.entries(),a=n.next();!a.done;a=n.next())t?r(e,t,a.value[1],a.value[0],this):e(a.value[1],a.value[0],this)}}),_e(n,n.entries),o}(),Set:function(){var
e,t=function(e,t){if(!ye.TypeIsObject(e)||!function(e){return
e._es6set&amp;&amp;void 0!==e._storage}(e))throw new
TypeError(&quot;Set.prototype.&quot;+t+&quot; called on incompatible receiver
&quot;+ye.ToString(e))},n=function t(){if(!(this instanceof t))throw new
TypeError('Constructor Set requires
&quot;new&quot;');if(this&amp;&amp;this._es6set)throw new TypeError(&quot;Bad
construction&quot;);var n=Pe(this,t,e,{_es6set:!0,&quot;[[SetData]]&quot;:null,_storage:Fn()});if(!n._es6set)throw
new TypeError(&quot;bad set&quot;);return
arguments.length&gt;0&amp;&amp;Hn(t,n,arguments[0]),n};e=n.prototype;var
i=function(e){if(!e[&quot;[[SetData]]&quot;]){var t=new
zn.Map;e[&quot;[[SetData]]&quot;]=t,p(a(e._storage),function(e){var n=function(e){var
t=e;if(&quot;^null&quot;===t)return null;if(&quot;^undefined&quot;!==t){var
n=t.charAt(0);return&quot;$&quot;===n?N(t,1):&quot;n&quot;===n?+N(t,1):&quot;b&quot;===n?&quot;btrue&quot;===t:+t}}(e);t.set(n,n)}),e[&quot;[[SetData]]&quot;]=t}e._storage=null};b(n.prototype,&quot;size&quot;,function(){return
t(this,&quot;size&quot;),this._storage?a(this._storage).length:(i(this),this[&quot;[[SetData]]&quot;].size)}),m(n.prototype,{has:function(e){var
n;return
t(this,&quot;has&quot;),this._storage&amp;&amp;null!==(n=qn(e))?!!this._storage[n]:(i(this),this[&quot;[[SetData]]&quot;].has(e))},add:function(e){var
n;return t(this,&quot;add&quot;),this._storage&amp;&amp;null!==(n=qn(e))?(this._storage[n]=!0,this):(i(this),this[&quot;[[SetData]]&quot;].set(e,e),this)},delete:function(e){var
n;if(t(this,&quot;delete&quot;),this._storage&amp;&amp;null!==(n=qn(e))){var
r=z(this._storage,n);return delete this._storage[n]&amp;&amp;r}return
i(this),this[&quot;[[SetData]]&quot;].delete(e)},clear:function(){t(this,&quot;clear&quot;),this._storage&amp;&amp;(this._storage=Fn()),this[&quot;[[SetData]]&quot;]&amp;&amp;this[&quot;[[SetData]]&quot;].clear()},values:function(){return
t(this,&quot;values&quot;),i(this),new o(this[&quot;[[SetData]]&quot;].values())},entries:function(){return
t(this,&quot;entries&quot;),i(this),new o(this[&quot;[[SetData]]&quot;].entries())},forEach:function(e){t(this,&quot;forEach&quot;);var
n=arguments.length&gt;1?arguments[1]:null,a=this;i(a),this[&quot;[[SetData]]&quot;].forEach(function(t,i){n?r(e,n,i,i,a):e(i,i,a)})}}),y(n.prototype,&quot;keys&quot;,n.prototype.values,!0),_e(n.prototype,n.prototype.values);var
o=function(e){this.it=e};return
o.prototype={isSetIterator:!0,next:function(){if(!this.isSetIterator)throw new
TypeError(&quot;Not a SetIterator&quot;);return
this.it.next()}},_e(o.prototype),n}()};if(j.Set&amp;&amp;!Set.prototype.delete&amp;&amp;Set.prototype.remove&amp;&amp;Set.prototype.items&amp;&amp;Set.prototype.map&amp;&amp;Array.isArray((new
Set).keys)&amp;&amp;(j.Set=zn.Set),j.Map||j.Set){s(function(){return 2===new
Map([[1,2]]).get(1)})||(j.Map=function e(){if(!(this instanceof e))throw new
TypeError('Constructor Map requires &quot;new&quot;');var t=new B;return
arguments.length&gt;0&amp;&amp;Vn(e,t,arguments[0]),delete
t.constructor,Object.setPrototypeOf(t,j.Map.prototype),t},j.Map.prototype=k(B.prototype),y(j.Map.prototype,&quot;constructor&quot;,j.Map,!0),x(j.Map,B));var
$n=new Map,Bn=((Mn=new Map([[1,0],[2,0],[3,0],[4,0]])).set(-0,Mn),Mn.get(0)===Mn&amp;&amp;Mn.get(-0)===Mn&amp;&amp;Mn.has(0)&amp;&amp;Mn.has(-0)),Wn=$n.set(1,2)===$n;Bn&amp;&amp;Wn||se(Map.prototype,&quot;set&quot;,function(e,t){return
r(X,this,0===e?0:e,t),this}),Bn||(m(Map.prototype,{get:function(e){return
r(U,this,0===e?0:e)},has:function(e){return
r(G,this,0===e?0:e)}},!0),x(Map.prototype.get,U),x(Map.prototype.has,G));var
Un=new
Set,Gn=Set.prototype.delete&amp;&amp;Set.prototype.add&amp;&amp;Set.prototype.has&amp;&amp;((In=Un).delete(0),In.add(-0),!In.has(0)),Xn=Un.add(1)===Un;if(!Gn||!Xn){var
Yn=Set.prototype.add;Set.prototype.add=function(e){return
r(Yn,this,0===e?0:e),this},x(Set.prototype.add,Yn)}if(!Gn){var
Jn=Set.prototype.has;Set.prototype.has=function(e){return
r(Jn,this,0===e?0:e)},x(Set.prototype.has,Jn);var
Kn=Set.prototype.delete;Set.prototype.delete=function(e){return
r(Kn,this,0===e?0:e)},x(Set.prototype.delete,Kn)}var Zn=O(j.Map,function(e){var
t=new e([]);return t.set(42,42),t instanceof
e}),Qn=Object.setPrototypeOf&amp;&amp;!Zn,er=function(){try{return!(j.Map()instanceof
j.Map)}catch(e){return e instanceof
TypeError}}();0===j.Map.length&amp;&amp;!Qn&amp;&amp;er||(j.Map=function
e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires
&quot;new&quot;');var t=new B;return
arguments.length&gt;0&amp;&amp;Vn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},j.Map.prototype=B.prototype,y(j.Map.prototype,&quot;constructor&quot;,j.Map,!0),x(j.Map,B));var
tr=O(j.Set,function(e){var t=new e([]);return t.add(42,42),t instanceof
e}),nr=Object.setPrototypeOf&amp;&amp;!tr,rr=function(){try{return!(j.Set()instanceof
j.Set)}catch(e){return e instanceof
TypeError}}();if(0!==j.Set.length||nr||!rr){var ir=j.Set;j.Set=function
e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires
&quot;new&quot;');var t=new ir;return
arguments.length&gt;0&amp;&amp;Hn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},j.Set.prototype=ir.prototype,y(j.Set.prototype,&quot;constructor&quot;,j.Set,!0),x(j.Set,ir)}var
ar=new j.Map,or=!s(function(){return
ar.keys().next().done});if((&quot;function&quot;!=typeof j.Map.prototype.clear||0!==(new
j.Set).size||0!==ar.size||&quot;function&quot;!=typeof
j.Map.prototype.keys||&quot;function&quot;!=typeof
j.Set.prototype.keys||&quot;function&quot;!=typeof
j.Map.prototype.forEach||&quot;function&quot;!=typeof
j.Set.prototype.forEach||c(j.Map)||c(j.Set)||&quot;function&quot;!=typeof
ar.keys().next||or||!Zn)&amp;&amp;m(j,{Map:zn.Map,Set:zn.Set},!0),j.Set.prototype.keys!==j.Set.prototype.values&amp;&amp;y(j.Set.prototype,&quot;keys&quot;,j.Set.prototype.values,!0),_e(Object.getPrototypeOf((new
j.Map).keys())),_e(Object.getPrototypeOf((new j.Set).keys())),l&amp;&amp;&quot;has&quot;!==j.Set.prototype.has.name){var
sr=j.Set.prototype.has;se(j.Set.prototype,&quot;has&quot;,function(e){return
r(sr,this,e)})}}m(j,zn),Ee(j.Map),Ee(j.Set)}var
cr=function(e){if(!ye.TypeIsObject(e))throw new TypeError(&quot;target must be
an object&quot;)},ur={apply:function(){return ye.Call(ye.Call,null,arguments)},construct:function(e,t){if(!ye.IsConstructor(e))throw
new TypeError(&quot;First argument must be a constructor.&quot;);var
n=arguments.length&gt;2?arguments[2]:e;if(!ye.IsConstructor(n))throw new
TypeError(&quot;new.target must be a constructor.&quot;);return ye.Construct(e,t,n,&quot;internal&quot;)},deleteProperty:function(e,t){if(cr(e),u){var
n=Object.getOwnPropertyDescriptor(e,t);if(n&amp;&amp;!n.configurable)return!1}return
delete e[t]},has:function(e,t){return cr(e),t in
e}};Object.getOwnPropertyNames&amp;&amp;Object.assign(ur,{ownKeys:function(e){cr(e);var
t=Object.getOwnPropertyNames(e);return
ye.IsCallable(Object.getOwnPropertySymbols)&amp;&amp;I(t,Object.getOwnPropertySymbols(e)),t}});var
lr=function(e){return!o(e)};if(Object.preventExtensions&amp;&amp;Object.assign(ur,{isExtensible:function(e){return
cr(e),Object.isExtensible(e)},preventExtensions:function(e){return
cr(e),lr(function(){return Object.preventExtensions(e)})}}),u){var
pr=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(!r){var
i=Object.getPrototypeOf(e);if(null===i)return;return
pr(i,t,n)}return&quot;value&quot;in r?r.value:r.get?ye.Call(r.get,n):void
0},fr=function(e,t,n,i){var a=Object.getOwnPropertyDescriptor(e,t);if(!a){var
o=Object.getPrototypeOf(e);if(null!==o)return fr(o,t,n,i);a={value:void
0,writable:!0,enumerable:!0,configurable:!0}}return&quot;value&quot;in
a?!!a.writable&amp;&amp;(!!ye.TypeIsObject(i)&amp;&amp;(Object.getOwnPropertyDescriptor(i,t)?pe.defineProperty(i,t,{value:n}):pe.defineProperty(i,t,{value:n,writable:!0,enumerable:!0,configurable:!0}))):!!a.set&amp;&amp;(r(a.set,i,n),!0)};Object.assign(ur,{defineProperty:function(e,t,n){return
cr(e),lr(function(){return
Object.defineProperty(e,t,n)})},getOwnPropertyDescriptor:function(e,t){return
cr(e),Object.getOwnPropertyDescriptor(e,t)},get:function(e,t){cr(e);var
n=arguments.length&gt;2?arguments[2]:e;return
pr(e,t,n)},set:function(e,t,n){cr(e);var
r=arguments.length&gt;3?arguments[3]:e;return
fr(e,t,n,r)}})}if(Object.getPrototypeOf){var
dr=Object.getPrototypeOf;ur.getPrototypeOf=function(e){return
cr(e),dr(e)}}if(Object.setPrototypeOf&amp;&amp;ur.getPrototypeOf){Object.assign(ur,{setPrototypeOf:function(e,t){if(cr(e),null!==t&amp;&amp;!ye.TypeIsObject(t))throw
new TypeError(&quot;proto must be an object or null&quot;);return
t===pe.getPrototypeOf(e)||!(pe.isExtensible&amp;&amp;!pe.isExtensible(e))&amp;&amp;(!function(e,t){for(var
n=t;n;){if(e===n)return!0;n=ur.getPrototypeOf(n)}return!1}(e,t)&amp;&amp;(Object.setPrototypeOf(e,t),!0))}})}Object.keys(ur).forEach(function(e){!function(e,t){ye.IsCallable(j.Reflect[e])?s(function(){return
j.Reflect[e](1),j.Reflect[e](NaN),j.Reflect[e](!0),!0})&amp;&amp;se(j.Reflect,e,t):y(j.Reflect,e,t)}(e,ur[e])});var
hr=j.Reflect.getPrototypeOf;if(l&amp;&amp;hr&amp;&amp;&quot;getPrototypeOf&quot;!==hr.name&amp;&amp;se(j.Reflect,&quot;getPrototypeOf&quot;,function(e){return
r(hr,j.Reflect,e)}),j.Reflect.setPrototypeOf&amp;&amp;s(function(){return
j.Reflect.setPrototypeOf(1,{}),!0})&amp;&amp;se(j.Reflect,&quot;setPrototypeOf&quot;,ur.setPrototypeOf),j.Reflect.defineProperty&amp;&amp;(s(function(){var
e=!j.Reflect.defineProperty(1,&quot;test&quot;,{value:1}),t=&quot;function&quot;!=typeof
Object.preventExtensions||!j.Reflect.defineProperty(Object.preventExtensions({}),&quot;test&quot;,{});return
e&amp;&amp;t})||se(j.Reflect,&quot;defineProperty&quot;,ur.defineProperty)),j.Reflect.construct&amp;&amp;(s(function(){var
e=function(){};return j.Reflect.construct(function(){},[],e)instanceof
e})||se(j.Reflect,&quot;construct&quot;,ur.construct)),&quot;Invalid
Date&quot;!==String(new Date(NaN))){var
yr=Date.prototype.toString;se(Date.prototype,&quot;toString&quot;,function(){var
e=+this;return e!=e?&quot;Invalid Date&quot;:ye.Call(yr,this)})}var
mr={anchor:function(e){return
ye.CreateHTML(this,&quot;a&quot;,&quot;name&quot;,e)},big:function(){return
ye.CreateHTML(this,&quot;big&quot;,&quot;&quot;,&quot;&quot;)},blink:function(){return
ye.CreateHTML(this,&quot;blink&quot;,&quot;&quot;,&quot;&quot;)},bold:function(){return
ye.CreateHTML(this,&quot;b&quot;,&quot;&quot;,&quot;&quot;)},fixed:function(){return
ye.CreateHTML(this,&quot;tt&quot;,&quot;&quot;,&quot;&quot;)},fontcolor:function(e){return
ye.CreateHTML(this,&quot;font&quot;,&quot;color&quot;,e)},fontsize:function(e){return
ye.CreateHTML(this,&quot;font&quot;,&quot;size&quot;,e)},italics:function(){return
ye.CreateHTML(this,&quot;i&quot;,&quot;&quot;,&quot;&quot;)},link:function(e){return
ye.CreateHTML(this,&quot;a&quot;,&quot;href&quot;,e)},small:function(){return
ye.CreateHTML(this,&quot;small&quot;,&quot;&quot;,&quot;&quot;)},strike:function(){return
ye.CreateHTML(this,&quot;strike&quot;,&quot;&quot;,&quot;&quot;)},sub:function(){return
ye.CreateHTML(this,&quot;sub&quot;,&quot;&quot;,&quot;&quot;)},sup:function(){return
ye.CreateHTML(this,&quot;sup&quot;,&quot;&quot;,&quot;&quot;)}};p(Object.keys(mr),function(e){var
t=String.prototype[e],n=!1;if(ye.IsCallable(t)){var i=r(t,&quot;&quot;,' &quot;
'),a=_([],i.match(/&quot;/g)).length;n=i!==i.toLowerCase()||a&gt;2}else
n=!0;n&amp;&amp;se(String.prototype,e,mr[e])});var
gr=function(){if(!ce)return!1;var
e=&quot;object&quot;===(&quot;undefined&quot;==typeof
JSON?&quot;undefined&quot;:_typeof(JSON))&amp;&amp;&quot;function&quot;==typeof
JSON.stringify?JSON.stringify:null;if(!e)return!1;if(void 0!==e(Y()))return!0;if(&quot;[null]&quot;!==e([Y()]))return!0;var
t={a:Y()};return
t[Y()]=!0,&quot;{}&quot;!==e(t)}(),vr=s(function(){return!ce||&quot;{}&quot;===JSON.stringify(Object(Y()))&amp;&amp;&quot;[{}]&quot;===JSON.stringify([Object(Y())])});if(gr||!vr){var
br=JSON.stringify;se(JSON,&quot;stringify&quot;,function(e){if(&quot;symbol&quot;!==(void
0===e?&quot;undefined&quot;:_typeof(e))){var
t;arguments.length&gt;1&amp;&amp;(t=arguments[1]);var
n=[e];if(i(t))n.push(t);else{var
a=ye.IsCallable(t)?t:null;n.push(function(e,t){var
n=a?r(a,this,e,t):t;if(&quot;symbol&quot;!==(void
0===n?&quot;undefined&quot;:_typeof(n)))return oe(n)?At({})(n):n})}return
arguments.length&gt;2&amp;&amp;n.push(arguments[2]),br.apply(this,n)}})}return
j},&quot;function&quot;==typeof
define&amp;&amp;define.amd?define(&quot;es6-shim&quot;,factory):&quot;object&quot;===(&quot;undefined&quot;==typeof
exports?&quot;undefined&quot;:_typeof(exports))?module.exports=factory():root.returnExports=factory(),function(e,t){&quot;object&quot;===(&quot;undefined&quot;==typeof
module?&quot;undefined&quot;:_typeof(module))&amp;&amp;&quot;object&quot;===_typeof(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw
new Error(&quot;jQuery requires a window with a document&quot;);return
t(e)}:t(e)}(&quot;undefined&quot;!=typeof window?window:this,function(e,t){var
n=[],r=Object.getPrototypeOf,i=n.slice,a=n.flat?function(e){return
n.flat.call(e)}:function(e){return n.concat.apply([],e)},o=n.push,s=n.indexOf,c={},u=c.toString,l=c.hasOwnProperty,p=l.toString,f=p.call(Object),d={},h=function(e){return&quot;function&quot;==typeof
e&amp;&amp;&quot;number&quot;!=typeof e.nodeType},y=function(e){return
null!=e&amp;&amp;e===e.window},m=e.document,g={type:!0,src:!0,nonce:!0,noModule:!0};function
v(e,t,n){var r,i,a=(n=n||m).createElement(&quot;script&quot;);if(a.text=e,t)for(r
in
g)(i=t[r]||t.getAttribute&amp;&amp;t.getAttribute(r))&amp;&amp;a.setAttribute(r,i);n.head.appendChild(a).parentNode.removeChild(a)}function
b(e){return null==e?e+&quot;&quot;:&quot;object&quot;===(void
0===e?&quot;undefined&quot;:_typeof(e))||&quot;function&quot;==typeof
e?c[u.call(e)]||&quot;object&quot;:void
0===e?&quot;undefined&quot;:_typeof(e)}var w=function e(t,n){return new
e.fn.init(t,n)};function T(e){var t=!!e&amp;&amp;&quot;length&quot;in
e&amp;&amp;e.length,n=b(e);return!h(e)&amp;&amp;!y(e)&amp;&amp;(&quot;array&quot;===n||0===t||&quot;number&quot;==typeof
t&amp;&amp;t&gt;0&amp;&amp;t-1 in
e)}w.fn=w.prototype={jquery:&quot;3.5.1&quot;,constructor:w,length:0,toArray:function(){return
i.call(this)},get:function(e){return
null==e?i.call(this):e&lt;0?this[e+this.length]:this[e]},pushStack:function(e){var
t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return
w.each(this,e)},map:function(e){return
this.pushStack(w.map(this,function(t,n){return
e.call(t,n,t)}))},slice:function(){return
this.pushStack(i.apply(this,arguments))},first:function(){return
this.eq(0)},last:function(){return this.eq(-1)},even:function(){return
this.pushStack(w.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return
this.pushStack(w.grep(this,function(e,t){return t%2}))},eq:function(e){var
t=this.length,n=+e+(e&lt;0?t:0);return this.pushStack(n&gt;=0&amp;&amp;n&lt;t?[this[n]]:[])},end:function(){return
this.prevObject||this.constructor()},push:o,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var
e,t,n,r,i,a,o=arguments[0]||{},s=1,c=arguments.length,u=!1;for(&quot;boolean&quot;==typeof
o&amp;&amp;(u=o,o=arguments[s]||{},s++),&quot;object&quot;===(void
0===o?&quot;undefined&quot;:_typeof(o))||h(o)||(o={}),s===c&amp;&amp;(o=this,s--);s&lt;c;s++)if(null!=(e=arguments[s]))for(t
in
e)r=e[t],&quot;__proto__&quot;!==t&amp;&amp;o!==r&amp;&amp;(u&amp;&amp;r&amp;&amp;(w.isPlainObject(r)||(i=Array.isArray(r)))?(n=o[t],a=i&amp;&amp;!Array.isArray(n)?[]:i||w.isPlainObject(n)?n:{},i=!1,o[t]=w.extend(u,a,r)):void
0!==r&amp;&amp;(o[t]=r));return
o},w.extend({expando:&quot;jQuery&quot;+(&quot;3.5.1&quot;+Math.random()).replace(/\D/g,&quot;&quot;),isReady:!0,error:function(e){throw
new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||&quot;[object
Object]&quot;!==u.call(e))&amp;&amp;(!(t=r(e))||&quot;function&quot;==typeof(n=l.call(t,&quot;constructor&quot;)&amp;&amp;t.constructor)&amp;&amp;p.call(n)===f)},isEmptyObject:function(e){var
t;for(t in e)return!1;return!0},globalEval:function(e,t,n){v(e,{nonce:t&amp;&amp;t.nonce},n)},each:function(e,t){var
n,r=0;if(T(e))for(n=e.length;r&lt;n&amp;&amp;!1!==t.call(e[r],r,e[r]);r++);else
for(r in e)if(!1===t.call(e[r],r,e[r]))break;return
e},makeArray:function(e,t){var n=t||[];return
null!=e&amp;&amp;(T(Object(e))?w.merge(n,&quot;string&quot;==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){return
null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var
n=+t.length,r=0,i=e.length;r&lt;n;r++)e[i++]=t[r];return
e.length=i,e},grep:function(e,t,n){for(var
r=[],i=0,a=e.length,o=!n;i&lt;a;i++)!t(e[i],i)!==o&amp;&amp;r.push(e[i]);return
r},map:function(e,t,n){var
r,i,o=0,s=[];if(T(e))for(r=e.length;o&lt;r;o++)null!=(i=t(e[o],o,n))&amp;&amp;s.push(i);else
for(o in e)null!=(i=t(e[o],o,n))&amp;&amp;s.push(i);return
a(s)},guid:1,support:d}),&quot;function&quot;==typeof
Symbol&amp;&amp;(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each(&quot;Boolean
Number String Function Array Date RegExp Object Error Symbol&quot;.split(&quot;
&quot;),function(e,t){c[&quot;[object
&quot;+t+&quot;]&quot;]=t.toLowerCase()});var S=function(e){var
t,n,r,i,a,o,s,c,u,l,p,f,d,h,y,m,g,v,b,w=&quot;sizzle&quot;+1*new Date,T=e.document,S=0,x=0,k=ce(),O=ce(),j=ce(),A=ce(),C=function(e,t){return
e===t&amp;&amp;(p=!0),0},E={}.hasOwnProperty,_=[],N=_.pop,P=_.push,I=_.push,M=_.slice,D=function(e,t){for(var
n=0,r=e.length;n&lt;r;n++)if(e[n]===t)return
n;return-1},R=&quot;checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped&quot;,L=&quot;[\\x20\\t\\r\\n\\f]&quot;,q=&quot;(?:\\\\[\\da-fA-F]{1,6}&quot;+L+&quot;?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+&quot;,F=&quot;\\[&quot;+L+&quot;*(&quot;+q+&quot;)(?:&quot;+L+&quot;*([*^$|!~]?=)&quot;+L+&quot;*(?:'((?:\\\\.|[^\\\\'])*)'|\&quot;((?:\\\\.|[^\\\\\&quot;])*)\&quot;|(&quot;+q+&quot;))|)&quot;+L+&quot;*\\]&quot;,V=&quot;:(&quot;+q+&quot;)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\&quot;((?:\\\\.|[^\\\\\&quot;])*)\&quot;)|((?:\\\\.|[^\\\\()[\\]]|&quot;+F+&quot;)*)|.*)\\)|)&quot;,H=new
RegExp(L+&quot;+&quot;,&quot;g&quot;),z=new RegExp(&quot;^&quot;+L+&quot;+|((?:^|[^\\\\])(?:\\\\.)*)&quot;+L+&quot;+$&quot;,&quot;g&quot;),$=new
RegExp(&quot;^&quot;+L+&quot;*,&quot;+L+&quot;*&quot;),B=new RegExp(&quot;^&quot;+L+&quot;*([&gt;+~]|&quot;+L+&quot;)&quot;+L+&quot;*&quot;),W=new
RegExp(L+&quot;|&gt;&quot;),U=new RegExp(V),G=new
RegExp(&quot;^&quot;+q+&quot;$&quot;),X={ID:new
RegExp(&quot;^#(&quot;+q+&quot;)&quot;),CLASS:new RegExp(&quot;^\\.(&quot;+q+&quot;)&quot;),TAG:new
RegExp(&quot;^(&quot;+q+&quot;|[*])&quot;),ATTR:new
RegExp(&quot;^&quot;+F),PSEUDO:new RegExp(&quot;^&quot;+V),CHILD:new
RegExp(&quot;^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(&quot;+L+&quot;*(even|odd|(([+-]|)(\\d*)n|)&quot;+L+&quot;*(?:([+-]|)&quot;+L+&quot;*(\\d+)|))&quot;+L+&quot;*\\)|)&quot;,&quot;i&quot;),bool:new
RegExp(&quot;^(?:&quot;+R+&quot;)$&quot;,&quot;i&quot;),needsContext:new
RegExp(&quot;^&quot;+L+&quot;*[&gt;+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(&quot;+L+&quot;*((?:-\\d)?\\d*)&quot;+L+&quot;*\\)|)(?=[^-]|$)&quot;,&quot;i&quot;)},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native
\w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new
RegExp(&quot;\\\\[\\da-fA-F]{1,6}&quot;+L+&quot;?|\\\\([^\\r\\n\\f])&quot;,&quot;g&quot;),ne=function(e,t){var
n=&quot;0x&quot;+e.slice(1)-65536;return
t||(n&lt;0?String.fromCharCode(n+65536):String.fromCharCode(n&gt;&gt;10|55296,1023&amp;n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return
t?&quot;\0&quot;===e?&quot;\ufffd&quot;:e.slice(0,-1)+&quot;\\&quot;+e.charCodeAt(e.length-1).toString(16)+&quot;
&quot;:&quot;\\&quot;+e},ae=function(){f()},oe=we(function(e){return!0===e.disabled&amp;&amp;&quot;fieldset&quot;===e.nodeName.toLowerCase()},{dir:&quot;parentNode&quot;,next:&quot;legend&quot;});try{I.apply(_=M.call(T.childNodes),T.childNodes),_[T.childNodes.length].nodeType}catch(e){I={apply:_.length?function(e,t){P.apply(e,M.call(t))}:function(e,t){for(var
n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var
a,s,u,l,p,h,g,v=t&amp;&amp;t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],&quot;string&quot;!=typeof
e||!e||1!==T&amp;&amp;9!==T&amp;&amp;11!==T)return
r;if(!i&amp;&amp;(f(t),t=t||d,y)){if(11!==T&amp;&amp;(p=Q.exec(e)))if(a=p[1]){if(9===T){if(!(u=t.getElementById(a)))return
r;if(u.id===a)return r.push(u),r}else
if(v&amp;&amp;(u=v.getElementById(a))&amp;&amp;b(t,u)&amp;&amp;u.id===a)return
r.push(u),r}else{if(p[2])return I.apply(r,t.getElementsByTagName(e)),r;if((a=p[3])&amp;&amp;n.getElementsByClassName&amp;&amp;t.getElementsByClassName)return
I.apply(r,t.getElementsByClassName(a)),r}if(n.qsa&amp;&amp;!A[e+&quot;
&quot;]&amp;&amp;(!m||!m.test(e))&amp;&amp;(1!==T||&quot;object&quot;!==t.nodeName.toLowerCase())){if(g=e,v=t,1===T&amp;&amp;(W.test(e)||B.test(e))){for((v=ee.test(e)&amp;&amp;ge(t.parentNode)||t)===t&amp;&amp;n.scope||((l=t.getAttribute(&quot;id&quot;))?l=l.replace(re,ie):t.setAttribute(&quot;id&quot;,l=w)),s=(h=o(e)).length;s--;)h[s]=(l?&quot;#&quot;+l:&quot;:scope&quot;)+&quot;
&quot;+be(h[s]);g=h.join(&quot;,&quot;)}try{return
I.apply(r,v.querySelectorAll(g)),r}catch(t){A(e,!0)}finally{l===w&amp;&amp;t.removeAttribute(&quot;id&quot;)}}}return
c(e.replace(z,&quot;$1&quot;),t,r,i)}function ce(){var e=[];return function
t(n,i){return e.push(n+&quot; &quot;)&gt;r.cacheLength&amp;&amp;delete
t[e.shift()],t[n+&quot; &quot;]=i}}function ue(e){return e[w]=!0,e}function
le(e){var t=d.createElement(&quot;fieldset&quot;);try{return!!e(t)}catch(e){return!1}finally{t.parentNode&amp;&amp;t.parentNode.removeChild(t),t=null}}function
pe(e,t){for(var
n=e.split(&quot;|&quot;),i=n.length;i--;)r.attrHandle[n[i]]=t}function
fe(e,t){var n=t&amp;&amp;e,r=n&amp;&amp;1===e.nodeType&amp;&amp;1===t.nodeType&amp;&amp;e.sourceIndex-t.sourceIndex;if(r)return
r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function
de(e){return
function(t){return&quot;input&quot;===t.nodeName.toLowerCase()&amp;&amp;t.type===e}}function
he(e){return function(t){var n=t.nodeName.toLowerCase();return(&quot;input&quot;===n||&quot;button&quot;===n)&amp;&amp;t.type===e}}function
ye(e){return function(t){return&quot;form&quot;in
t?t.parentNode&amp;&amp;!1===t.disabled?&quot;label&quot;in
t?&quot;label&quot;in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&amp;&amp;oe(t)===e:t.disabled===e:&quot;label&quot;in
t&amp;&amp;t.disabled===e}}function me(e){return ue(function(t){return
t=+t,ue(function(n,r){for(var
i,a=e([],n.length,t),o=a.length;o--;)n[i=a[o]]&amp;&amp;(n[i]=!(r[i]=n[i]))})})}function
ge(e){return e&amp;&amp;void 0!==e.getElementsByTagName&amp;&amp;e}for(t in
n=se.support={},a=se.isXML=function(e){var
t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Y.test(t||n&amp;&amp;n.nodeName||&quot;HTML&quot;)},f=se.setDocument=function(e){var
t,i,o=e?e.ownerDocument||e:T;return o!=d&amp;&amp;9===o.nodeType&amp;&amp;o.documentElement?(h=(d=o).documentElement,y=!a(d),T!=d&amp;&amp;(i=d.defaultView)&amp;&amp;i.top!==i&amp;&amp;(i.addEventListener?i.addEventListener(&quot;unload&quot;,ae,!1):i.attachEvent&amp;&amp;i.attachEvent(&quot;onunload&quot;,ae)),n.scope=le(function(e){return
h.appendChild(e).appendChild(d.createElement(&quot;div&quot;)),void 0!==e.querySelectorAll&amp;&amp;!e.querySelectorAll(&quot;:scope
fieldset div&quot;).length}),n.attributes=le(function(e){return
e.className=&quot;i&quot;,!e.getAttribute(&quot;className&quot;)}),n.getElementsByTagName=le(function(e){return
e.appendChild(d.createComment(&quot;&quot;)),!e.getElementsByTagName(&quot;*&quot;).length}),n.getElementsByClassName=Z.test(d.getElementsByClassName),n.getById=le(function(e){return
h.appendChild(e).id=w,!d.getElementsByName||!d.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var
t=e.replace(te,ne);return function(e){return
e.getAttribute(&quot;id&quot;)===t}},r.find.ID=function(e,t){if(void
0!==t.getElementById&amp;&amp;y){var n=t.getElementById(e);return
n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return
function(e){var n=void 0!==e.getAttributeNode&amp;&amp;e.getAttributeNode(&quot;id&quot;);return
n&amp;&amp;n.value===t}},r.find.ID=function(e,t){if(void
0!==t.getElementById&amp;&amp;y){var
n,r,i,a=t.getElementById(e);if(a){if((n=a.getAttributeNode(&quot;id&quot;))&amp;&amp;n.value===e)return[a];for(i=t.getElementsByName(e),r=0;a=i[r++];)if((n=a.getAttributeNode(&quot;id&quot;))&amp;&amp;n.value===e)return[a]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return
void
0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void
0}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if(&quot;*&quot;===e){for(;n=a[i++];)1===n.nodeType&amp;&amp;r.push(n);return
r}return
a},r.find.CLASS=n.getElementsByClassName&amp;&amp;function(e,t){if(void
0!==t.getElementsByClassName&amp;&amp;y)return
t.getElementsByClassName(e)},g=[],m=[],(n.qsa=Z.test(d.querySelectorAll))&amp;&amp;(le(function(e){var
t;h.appendChild(e).innerHTML=&quot;&lt;a
id='&quot;+w+&quot;'&gt;&lt;/a&gt;&lt;select id='&quot;+w+&quot;-\r\\'
msallowcapture=''&gt;&lt;option
selected=''&gt;&lt;/option&gt;&lt;/select&gt;&quot;,e.querySelectorAll(&quot;[msallowcapture^='']&quot;).length&amp;&amp;m.push(&quot;[*^$]=&quot;+L+&quot;*(?:''|\&quot;\&quot;)&quot;),e.querySelectorAll(&quot;[selected]&quot;).length||m.push(&quot;\\[&quot;+L+&quot;*(?:value|&quot;+R+&quot;)&quot;),e.querySelectorAll(&quot;[id~=&quot;+w+&quot;-]&quot;).length||m.push(&quot;~=&quot;),(t=d.createElement(&quot;input&quot;)).setAttribute(&quot;name&quot;,&quot;&quot;),e.appendChild(t),e.querySelectorAll(&quot;[name='']&quot;).length||m.push(&quot;\\[&quot;+L+&quot;*name&quot;+L+&quot;*=&quot;+L+&quot;*(?:''|\&quot;\&quot;)&quot;),e.querySelectorAll(&quot;:checked&quot;).length||m.push(&quot;:checked&quot;),e.querySelectorAll(&quot;a#&quot;+w+&quot;+*&quot;).length||m.push(&quot;.#.+[+~]&quot;),e.querySelectorAll(&quot;\\\f&quot;),m.push(&quot;[\\r\\n\\f]&quot;)}),le(function(e){e.innerHTML=&quot;&lt;a
href='' disabled='disabled'&gt;&lt;/a&gt;&lt;select
disabled='disabled'&gt;&lt;option/&gt;&lt;/select&gt;&quot;;var
t=d.createElement(&quot;input&quot;);t.setAttribute(&quot;type&quot;,&quot;hidden&quot;),e.appendChild(t).setAttribute(&quot;name&quot;,&quot;D&quot;),e.querySelectorAll(&quot;[name=d]&quot;).length&amp;&amp;m.push(&quot;name&quot;+L+&quot;*[*^$|!~]?=&quot;),2!==e.querySelectorAll(&quot;:enabled&quot;).length&amp;&amp;m.push(&quot;:enabled&quot;,&quot;:disabled&quot;),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(&quot;:disabled&quot;).length&amp;&amp;m.push(&quot;:enabled&quot;,&quot;:disabled&quot;),e.querySelectorAll(&quot;*,:x&quot;),m.push(&quot;,.*:&quot;)})),(n.matchesSelector=Z.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&amp;&amp;le(function(e){n.disconnectedMatch=v.call(e,&quot;*&quot;),v.call(e,&quot;[s!='']:x&quot;),g.push(&quot;!=&quot;,V)}),m=m.length&amp;&amp;new
RegExp(m.join(&quot;|&quot;)),g=g.length&amp;&amp;new RegExp(g.join(&quot;|&quot;)),t=Z.test(h.compareDocumentPosition),b=t||Z.test(h.contains)?function(e,t){var
n=9===e.nodeType?e.documentElement:e,r=t&amp;&amp;t.parentNode;return
e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&amp;&amp;16&amp;e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return
p=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return
r||(1&amp;(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&amp;&amp;t.compareDocumentPosition(e)===r?e==d||e.ownerDocument==T&amp;&amp;b(T,e)?-1:t==d||t.ownerDocument==T&amp;&amp;b(T,t)?1:l?D(l,e)-D(l,t):0:4&amp;r?-1:1)}:function(e,t){if(e===t)return
p=!0,0;var n,r=0,i=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!i||!a)return
e==d?-1:t==d?1:i?-1:a?1:l?D(l,e)-D(l,t):0;if(i===a)return fe(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[r]===s[r];)r++;return
r?fe(o[r],s[r]):o[r]==T?-1:s[r]==T?1:0},d):d},se.matches=function(e,t){return
se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),n.matchesSelector&amp;&amp;y&amp;&amp;!A[t+&quot;
&quot;]&amp;&amp;(!g||!g.test(t))&amp;&amp;(!m||!m.test(t)))try{var
r=v.call(e,t);if(r||n.disconnectedMatch||e.document&amp;&amp;11!==e.document.nodeType)return
r}catch(e){A(t,!0)}return se(t,d,null,[e]).length&gt;0},se.contains=function(e,t){return(e.ownerDocument||e)!=d&amp;&amp;f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=d&amp;&amp;f(e);var
i=r.attrHandle[t.toLowerCase()],a=i&amp;&amp;E.call(r.attrHandle,t.toLowerCase())?i(e,t,!y):void
0;return void 0!==a?a:n.attributes||!y?e.getAttribute(t):(a=e.getAttributeNode(t))&amp;&amp;a.specified?a.value:null},se.escape=function(e){return(e+&quot;&quot;).replace(re,ie)},se.error=function(e){throw
new Error(&quot;Syntax error, unrecognized expression:
&quot;+e)},se.uniqueSort=function(e){var
t,r=[],i=0,a=0;if(p=!n.detectDuplicates,l=!n.sortStable&amp;&amp;e.slice(0),e.sort(C),p){for(;t=e[a++];)t===e[a]&amp;&amp;(i=r.push(a));for(;i--;)e.splice(r[i],1)}return
l=null,e},i=se.getText=function(e){var
t,n=&quot;&quot;,r=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if(&quot;string&quot;==typeof
e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else
if(3===a||4===a)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return
n},(r=se.selectors={cacheLength:50,createPseudo:ue,match:X,attrHandle:{},find:{},relative:{&quot;&gt;&quot;:{dir:&quot;parentNode&quot;,first:!0},&quot;
&quot;:{dir:&quot;parentNode&quot;},&quot;+&quot;:{dir:&quot;previousSibling&quot;,first:!0},&quot;~&quot;:{dir:&quot;previousSibling&quot;}},preFilter:{ATTR:function(e){return
e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||&quot;&quot;).replace(te,ne),&quot;~=&quot;===e[2]&amp;&amp;(e[3]=&quot;
&quot;+e[3]+&quot; &quot;),e.slice(0,4)},CHILD:function(e){return
e[1]=e[1].toLowerCase(),&quot;nth&quot;===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(&quot;even&quot;===e[3]||&quot;odd&quot;===e[3])),e[5]=+(e[7]+e[8]||&quot;odd&quot;===e[3])):e[3]&amp;&amp;se.error(e[0]),e},PSEUDO:function(e){var
t,n=!e[6]&amp;&amp;e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||&quot;&quot;:n&amp;&amp;U.test(n)&amp;&amp;(t=o(n,!0))&amp;&amp;(t=n.indexOf(&quot;)&quot;,n.length-t)-n.length)&amp;&amp;(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var
t=e.replace(te,ne).toLowerCase();return&quot;*&quot;===e?function(){return!0}:function(e){return
e.nodeName&amp;&amp;e.nodeName.toLowerCase()===t}},CLASS:function(e){var
t=k[e+&quot; &quot;];return t||(t=new
RegExp(&quot;(^|&quot;+L+&quot;)&quot;+e+&quot;(&quot;+L+&quot;|$)&quot;))&amp;&amp;k(e,function(e){return
t.test(&quot;string&quot;==typeof e.className&amp;&amp;e.className||void
0!==e.getAttribute&amp;&amp;e.getAttribute(&quot;class&quot;)||&quot;&quot;)})},ATTR:function(e,t,n){return
function(r){var i=se.attr(r,e);return
null==i?&quot;!=&quot;===t:!t||(i+=&quot;&quot;,&quot;=&quot;===t?i===n:&quot;!=&quot;===t?i!==n:&quot;^=&quot;===t?n&amp;&amp;0===i.indexOf(n):&quot;*=&quot;===t?n&amp;&amp;i.indexOf(n)&gt;-1:&quot;$=&quot;===t?n&amp;&amp;i.slice(-n.length)===n:&quot;~=&quot;===t?(&quot;
&quot;+i.replace(H,&quot; &quot;)+&quot;
&quot;).indexOf(n)&gt;-1:&quot;|=&quot;===t&amp;&amp;(i===n||i.slice(0,n.length+1)===n+&quot;-&quot;))}},CHILD:function(e,t,n,r,i){var
a=&quot;nth&quot;!==e.slice(0,3),o=&quot;last&quot;!==e.slice(-4),s=&quot;of-type&quot;===t;return
1===r&amp;&amp;0===i?function(e){return!!e.parentNode}:function(t,n,c){var
u,l,p,f,d,h,y=a!==o?&quot;nextSibling&quot;:&quot;previousSibling&quot;,m=t.parentNode,g=s&amp;&amp;t.nodeName.toLowerCase(),v=!c&amp;&amp;!s,b=!1;if(m){if(a){for(;y;){for(f=t;f=f[y];)if(s?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;h=y=&quot;only&quot;===e&amp;&amp;!h&amp;&amp;&quot;nextSibling&quot;}return!0}if(h=[o?m.firstChild:m.lastChild],o&amp;&amp;v){for(b=(d=(u=(l=(p=(f=m)[w]||(f[w]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]||[])[0]===S&amp;&amp;u[1])&amp;&amp;u[2],f=d&amp;&amp;m.childNodes[d];f=++d&amp;&amp;f&amp;&amp;f[y]||(b=d=0)||h.pop();)if(1===f.nodeType&amp;&amp;++b&amp;&amp;f===t){l[e]=[S,d,b];break}}else
if(v&amp;&amp;(b=d=(u=(l=(p=(f=t)[w]||(f[w]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]||[])[0]===S&amp;&amp;u[1]),!1===b)for(;(f=++d&amp;&amp;f&amp;&amp;f[y]||(b=d=0)||h.pop())&amp;&amp;((s?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++b||(v&amp;&amp;((l=(p=f[w]||(f[w]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]=[S,b]),f!==t)););return(b-=i)===r||b%r==0&amp;&amp;b/r&gt;=0}}},PSEUDO:function(e,t){var
n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error(&quot;unsupported
pseudo: &quot;+e);return
i[w]?i(t):i.length&gt;1?(n=[e,e,&quot;&quot;,t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,n){for(var
r,a=i(e,t),o=a.length;o--;)e[r=D(e,a[o])]=!(n[r]=a[o])}):function(e){return
i(e,0,n)}):i}},pseudos:{not:ue(function(e){var
t=[],n=[],r=s(e.replace(z,&quot;$1&quot;));return
r[w]?ue(function(e,t,n,i){for(var
a,o=r(e,null,i,[]),s=e.length;s--;)(a=o[s])&amp;&amp;(e[s]=!(t[s]=a))}):function(e,i,a){return
t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}}),has:ue(function(e){return
function(t){return se(e,t).length&gt;0}}),contains:ue(function(e){return
e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)&gt;-1}}),lang:ue(function(e){return
G.test(e||&quot;&quot;)||se.error(&quot;unsupported lang:
&quot;+e),e=e.replace(te,ne).toLowerCase(),function(t){var
n;do{if(n=y?t.lang:t.getAttribute(&quot;xml:lang&quot;)||t.getAttribute(&quot;lang&quot;))return(n=n.toLowerCase())===e||0===n.indexOf(e+&quot;-&quot;)}while((t=t.parentNode)&amp;&amp;1===t.nodeType);return!1}}),target:function(t){var
n=e.location&amp;&amp;e.location.hash;return
n&amp;&amp;n.slice(1)===t.id},root:function(e){return
e===h},focus:function(e){return
e===d.activeElement&amp;&amp;(!d.hasFocus||d.hasFocus())&amp;&amp;!!(e.type||e.href||~e.tabIndex)},enabled:ye(!1),disabled:ye(!0),checked:function(e){var
t=e.nodeName.toLowerCase();return&quot;input&quot;===t&amp;&amp;!!e.checked||&quot;option&quot;===t&amp;&amp;!!e.selected},selected:function(e){return
e.parentNode&amp;&amp;e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType&lt;6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return
K.test(e.nodeName)},input:function(e){return
J.test(e.nodeName)},button:function(e){var
t=e.nodeName.toLowerCase();return&quot;input&quot;===t&amp;&amp;&quot;button&quot;===e.type||&quot;button&quot;===t},text:function(e){var
t;return&quot;input&quot;===e.nodeName.toLowerCase()&amp;&amp;&quot;text&quot;===e.type&amp;&amp;(null==(t=e.getAttribute(&quot;type&quot;))||&quot;text&quot;===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n&lt;0?n+t:n]}),even:me(function(e,t){for(var
n=0;n&lt;t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var
n=1;n&lt;t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var
r=n&lt;0?n+t:n&gt;t?t:n;--r&gt;=0;)e.push(r);return
e}),gt:me(function(e,t,n){for(var r=n&lt;0?n+t:n;++r&lt;t;)e.push(r);return
e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t
in{submit:!0,reset:!0})r.pseudos[t]=he(t);function ve(){}function be(e){for(var
t=0,n=e.length,r=&quot;&quot;;t&lt;n;t++)r+=e[t].value;return r}function
we(e,t,n){var
r=t.dir,i=t.next,a=i||r,o=n&amp;&amp;&quot;parentNode&quot;===a,s=x++;return
t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return
e(t,n,i);return!1}:function(t,n,c){var
u,l,p,f=[S,s];if(c){for(;t=t[r];)if((1===t.nodeType||o)&amp;&amp;e(t,n,c))return!0}else
for(;t=t[r];)if(1===t.nodeType||o)if(l=(p=t[w]||(t[w]={}))[t.uniqueID]||(p[t.uniqueID]={}),i&amp;&amp;i===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=l[a])&amp;&amp;u[0]===S&amp;&amp;u[1]===s)return
f[2]=u[2];if(l[a]=f,f[2]=e(t,n,c))return!0}return!1}}function Te(e){return
e.length&gt;1?function(t,n,r){for(var
i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function
Se(e,t,n,r,i){for(var
a,o=[],s=0,c=e.length,u=null!=t;s&lt;c;s++)(a=e[s])&amp;&amp;(n&amp;&amp;!n(a,r,i)||(o.push(a),u&amp;&amp;t.push(s)));return
o}function xe(e,t,n,r,i,a){return
r&amp;&amp;!r[w]&amp;&amp;(r=xe(r)),i&amp;&amp;!i[w]&amp;&amp;(i=xe(i,a)),ue(function(a,o,s,c){var
u,l,p,f=[],d=[],h=o.length,y=a||function(e,t,n){for(var
r=0,i=t.length;r&lt;i;r++)se(e,t[r],n);return
n}(t||&quot;*&quot;,s.nodeType?[s]:s,[]),m=!e||!a&amp;&amp;t?y:Se(y,f,e,s,c),g=n?i||(a?e:h||r)?[]:o:m;if(n&amp;&amp;n(m,g,s,c),r)for(u=Se(g,d),r(u,[],s,c),l=u.length;l--;)(p=u[l])&amp;&amp;(g[d[l]]=!(m[d[l]]=p));if(a){if(i||e){if(i){for(u=[],l=g.length;l--;)(p=g[l])&amp;&amp;u.push(m[l]=p);i(null,g=[],u,c)}for(l=g.length;l--;)(p=g[l])&amp;&amp;(u=i?D(a,p):f[l])&gt;-1&amp;&amp;(a[u]=!(o[u]=p))}}else
g=Se(g===o?g.splice(h,g.length):g),i?i(null,o,g,c):I.apply(o,g)})}function
ke(e){for(var t,n,i,a=e.length,o=r.relative[e[0].type],s=o||r.relative[&quot;
&quot;],c=o?1:0,l=we(function(e){return e===t},s,!0),p=we(function(e){return
D(t,e)&gt;-1},s,!0),f=[function(e,n,r){var
i=!o&amp;&amp;(r||n!==u)||((t=n).nodeType?l(e,n,r):p(e,n,r));return
t=null,i}];c&lt;a;c++)if(n=r.relative[e[c].type])f=[we(Te(f),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[w]){for(i=++c;i&lt;a&amp;&amp;!r.relative[e[i].type];i++);return
xe(c&gt;1&amp;&amp;Te(f),c&gt;1&amp;&amp;be(e.slice(0,c-1).concat({value:&quot;
&quot;===e[c-2].type?&quot;*&quot;:&quot;&quot;})).replace(z,&quot;$1&quot;),n,c&lt;i&amp;&amp;ke(e.slice(c,i)),i&lt;a&amp;&amp;ke(e=e.slice(i)),i&lt;a&amp;&amp;be(e))}f.push(n)}return
Te(f)}return ve.prototype=r.filters=r.pseudos,r.setFilters=new
ve,o=se.tokenize=function(e,t){var n,i,a,o,s,c,u,l=O[e+&quot;
&quot;];if(l)return t?0:l.slice(0);for(s=e,c=[],u=r.preFilter;s;){for(o in
n&amp;&amp;!(i=$.exec(s))||(i&amp;&amp;(s=s.slice(i[0].length)||s),c.push(a=[])),n=!1,(i=B.exec(s))&amp;&amp;(n=i.shift(),a.push({value:n,type:i[0].replace(z,&quot;
&quot;)}),s=s.slice(n.length)),r.filter)!(i=X[o].exec(s))||u[o]&amp;&amp;!(i=u[o](i))||(n=i.shift(),a.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return
t?s.length:s?se.error(e):O(e,c).slice(0)},s=se.compile=function(e,t){var
n,i=[],a=[],s=j[e+&quot; &quot;];if(!s){for(t||(t=o(e)),n=t.length;n--;)(s=ke(t[n]))[w]?i.push(s):a.push(s);(s=j(e,function(e,t){var
n=t.length&gt;0,i=e.length&gt;0,a=function(a,o,s,c,l){var
p,h,m,g=0,v=&quot;0&quot;,b=a&amp;&amp;[],w=[],T=u,x=a||i&amp;&amp;r.find.TAG(&quot;*&quot;,l),k=S+=null==T?1:Math.random()||.1,O=x.length;for(l&amp;&amp;(u=o==d||o||l);v!==O&amp;&amp;null!=(p=x[v]);v++){if(i&amp;&amp;p){for(h=0,o||p.ownerDocument==d||(f(p),s=!y);m=e[h++];)if(m(p,o||d,s)){c.push(p);break}l&amp;&amp;(S=k)}n&amp;&amp;((p=!m&amp;&amp;p)&amp;&amp;g--,a&amp;&amp;b.push(p))}if(g+=v,n&amp;&amp;v!==g){for(h=0;m=t[h++];)m(b,w,o,s);if(a){if(g&gt;0)for(;v--;)b[v]||w[v]||(w[v]=N.call(c));w=Se(w)}I.apply(c,w),l&amp;&amp;!a&amp;&amp;w.length&gt;0&amp;&amp;g+t.length&gt;1&amp;&amp;se.uniqueSort(c)}return
l&amp;&amp;(S=k,u=T),b};return n?ue(a):a}(a,i))).selector=e}return
s},c=se.select=function(e,t,n,i){var a,c,u,l,p,f=&quot;function&quot;==typeof
e&amp;&amp;e,d=!i&amp;&amp;o(e=f.selector||e);if(n=n||[],1===d.length){if((c=d[0]=d[0].slice(0)).length&gt;2&amp;&amp;&quot;ID&quot;===(u=c[0]).type&amp;&amp;9===t.nodeType&amp;&amp;y&amp;&amp;r.relative[c[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return
n;f&amp;&amp;(t=t.parentNode),e=e.slice(c.shift().value.length)}for(a=X.needsContext.test(e)?0:c.length;a--&amp;&amp;(u=c[a],!r.relative[l=u.type]);)if((p=r.find[l])&amp;&amp;(i=p(u.matches[0].replace(te,ne),ee.test(c[0].type)&amp;&amp;ge(t.parentNode)||t))){if(c.splice(a,1),!(e=i.length&amp;&amp;be(c)))return
I.apply(n,i),n;break}}return(f||s(e,d))(i,t,!y,n,!t||ee.test(e)&amp;&amp;ge(t.parentNode)||t),n},n.sortStable=w.split(&quot;&quot;).sort(C).join(&quot;&quot;)===w,n.detectDuplicates=!!p,f(),n.sortDetached=le(function(e){return
1&amp;e.compareDocumentPosition(d.createElement(&quot;fieldset&quot;))}),le(function(e){return
e.innerHTML=&quot;&lt;a
href='#'&gt;&lt;/a&gt;&quot;,&quot;#&quot;===e.firstChild.getAttribute(&quot;href&quot;)})||pe(&quot;type|href|height|width&quot;,function(e,t,n){if(!n)return
e.getAttribute(t,&quot;type&quot;===t.toLowerCase()?1:2)}),n.attributes&amp;&amp;le(function(e){return
e.innerHTML=&quot;&lt;input/&gt;&quot;,e.firstChild.setAttribute(&quot;value&quot;,&quot;&quot;),&quot;&quot;===e.firstChild.getAttribute(&quot;value&quot;)})||pe(&quot;value&quot;,function(e,t,n){if(!n&amp;&amp;&quot;input&quot;===e.nodeName.toLowerCase())return
e.defaultValue}),le(function(e){return
null==e.getAttribute(&quot;disabled&quot;)})||pe(R,function(e,t,n){var
r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&amp;&amp;r.specified?r.value:null}),se}(e);w.find=S,w.expr=S.selectors,w.expr[&quot;:&quot;]=w.expr.pseudos,w.uniqueSort=w.unique=S.uniqueSort,w.text=S.getText,w.isXMLDoc=S.isXML,w.contains=S.contains,w.escapeSelector=S.escape;var
x=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&amp;&amp;9!==e.nodeType;)if(1===e.nodeType){if(i&amp;&amp;w(e).is(n))break;r.push(e)}return
r},k=function(e,t){for(var
n=[];e;e=e.nextSibling)1===e.nodeType&amp;&amp;e!==t&amp;&amp;n.push(e);return
n},O=w.expr.match.needsContext;function j(e,t){return
e.nodeName&amp;&amp;e.nodeName.toLowerCase()===t.toLowerCase()}var
A=/^&lt;([a-z][^\/\0&gt;:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?&gt;(?:&lt;\/\1&gt;|)$/i;function
C(e,t,n){return
h(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return
e===t!==n}):&quot;string&quot;!=typeof t?w.grep(e,function(e){return
s.call(t,e)&gt;-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var
r=t[0];return
n&amp;&amp;(e=&quot;:not(&quot;+e+&quot;)&quot;),1===t.length&amp;&amp;1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return
1===e.nodeType}))},w.fn.extend({find:function(e){var
t,n,r=this.length,i=this;if(&quot;string&quot;!=typeof e)return
this.pushStack(w(e).filter(function(){for(t=0;t&lt;r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t&lt;r;t++)w.find(e,i[t],n);return
r&gt;1?w.uniqueSort(n):n},filter:function(e){return
this.pushStack(C(this,e||[],!1))},not:function(e){return
this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,&quot;string&quot;==typeof
e&amp;&amp;O.test(e)?w(e):e||[],!1).length}});var E,_=/^(?:\s*(&lt;[\w\W]+&gt;)[^&gt;]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var
r,i;if(!e)return this;if(n=n||E,&quot;string&quot;==typeof
e){if(!(r=&quot;&lt;&quot;===e[0]&amp;&amp;&quot;&gt;&quot;===e[e.length-1]&amp;&amp;e.length&gt;=3?[null,e,null]:_.exec(e))||!r[1]&amp;&amp;t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t
instanceof w?t[0]:t,w.merge(this,w.parseHTML(r[1],t&amp;&amp;t.nodeType?t.ownerDocument||t:m,!0)),A.test(r[1])&amp;&amp;w.isPlainObject(t))for(r
in t)h(this[r])?this[r](t[r]):this.attr(r,t[r]);return
this}return(i=m.getElementById(r[2]))&amp;&amp;(this[0]=i,this.length=1),this}return
e.nodeType?(this[0]=e,this.length=1,this):h(e)?void
0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,E=w(m);var
N=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function
I(e,t){for(;(e=e[t])&amp;&amp;1!==e.nodeType;);return e}w.fn.extend({has:function(e){var
t=w(e,this),n=t.length;return this.filter(function(){for(var
e=0;e&lt;n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var
n,r=0,i=this.length,a=[],o=&quot;string&quot;!=typeof
e&amp;&amp;w(e);if(!O.test(e))for(;r&lt;i;r++)for(n=this[r];n&amp;&amp;n!==t;n=n.parentNode)if(n.nodeType&lt;11&amp;&amp;(o?o.index(n)&gt;-1:1===n.nodeType&amp;&amp;w.find.matchesSelector(n,e))){a.push(n);break}return
this.pushStack(a.length&gt;1?w.uniqueSort(a):a)},index:function(e){return
e?&quot;string&quot;==typeof e?s.call(w(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&amp;&amp;this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return
this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return
this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var
t=e.parentNode;return
t&amp;&amp;11!==t.nodeType?t:null},parents:function(e){return
x(e,&quot;parentNode&quot;)},parentsUntil:function(e,t,n){return
x(e,&quot;parentNode&quot;,n)},next:function(e){return I(e,&quot;nextSibling&quot;)},prev:function(e){return
I(e,&quot;previousSibling&quot;)},nextAll:function(e){return
x(e,&quot;nextSibling&quot;)},prevAll:function(e){return
x(e,&quot;previousSibling&quot;)},nextUntil:function(e,t,n){return
x(e,&quot;nextSibling&quot;,n)},prevUntil:function(e,t,n){return
x(e,&quot;previousSibling&quot;,n)},siblings:function(e){return
k((e.parentNode||{}).firstChild,e)},children:function(e){return
k(e.firstChild)},contents:function(e){return
null!=e.contentDocument&amp;&amp;r(e.contentDocument)?e.contentDocument:(j(e,&quot;template&quot;)&amp;&amp;(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var
i=w.map(this,t,n);return&quot;Until&quot;!==e.slice(-5)&amp;&amp;(r=n),r&amp;&amp;&quot;string&quot;==typeof
r&amp;&amp;(i=w.filter(r,i)),this.length&gt;1&amp;&amp;(P[e]||w.uniqueSort(i),N.test(e)&amp;&amp;i.reverse()),this.pushStack(i)}});var
M=/[^\x20\t\r\n\f]+/g;function D(e){return e}function R(e){throw e}function
L(e,t,n,r){var
i;try{e&amp;&amp;h(i=e.promise)?i.call(e).done(t).fail(n):e&amp;&amp;h(i=e.then)?i.call(e,t,n):t.apply(void
0,[e].slice(r))}catch(e){n.apply(void
0,[e])}}w.Callbacks=function(e){e=&quot;string&quot;==typeof e?function(e){var
t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}(e):w.extend({},e);var
t,n,r,i,a=[],o=[],s=-1,c=function(){for(i=i||e.once,r=t=!0;o.length;s=-1)for(n=o.shift();++s&lt;a.length;)!1===a[s].apply(n[0],n[1])&amp;&amp;e.stopOnFalse&amp;&amp;(s=a.length,n=!1);e.memory||(n=!1),t=!1,i&amp;&amp;(a=n?[]:&quot;&quot;)},u={add:function(){return
a&amp;&amp;(n&amp;&amp;!t&amp;&amp;(s=a.length-1,o.push(n)),function
t(n){w.each(n,function(n,r){h(r)?e.unique&amp;&amp;u.has(r)||a.push(r):r&amp;&amp;r.length&amp;&amp;&quot;string&quot;!==b(r)&amp;&amp;t(r)})}(arguments),n&amp;&amp;!t&amp;&amp;c()),this},remove:function(){return
w.each(arguments,function(e,t){for(var
n;(n=w.inArray(t,a,n))&gt;-1;)a.splice(n,1),n&lt;=s&amp;&amp;s--}),this},has:function(e){return
e?w.inArray(e,a)&gt;-1:a.length&gt;0},empty:function(){return
a&amp;&amp;(a=[]),this},disable:function(){return i=o=[],a=n=&quot;&quot;,this},disabled:function(){return!a},lock:function(){return
i=o=[],n||t||(a=n=&quot;&quot;),this},locked:function(){return!!i},fireWith:function(e,n){return
i||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||c()),this},fire:function(){return
u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},w.extend({Deferred:function(t){var
n=[[&quot;notify&quot;,&quot;progress&quot;,w.Callbacks(&quot;memory&quot;),w.Callbacks(&quot;memory&quot;),2],[&quot;resolve&quot;,&quot;done&quot;,w.Callbacks(&quot;once
memory&quot;),w.Callbacks(&quot;once memory&quot;),0,&quot;resolved&quot;],[&quot;reject&quot;,&quot;fail&quot;,w.Callbacks(&quot;once
memory&quot;),w.Callbacks(&quot;once
memory&quot;),1,&quot;rejected&quot;]],r=&quot;pending&quot;,i={state:function(){return
r},always:function(){return
a.done(arguments).fail(arguments),this},catch:function(e){return
i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var
i=h(e[r[4]])&amp;&amp;e[r[4]];a[r[1]](function(){var
e=i&amp;&amp;i.apply(this,arguments);e&amp;&amp;h(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+&quot;With&quot;](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var
a=0;function o(t,n,r,i){return function(){var
s=this,c=arguments,u=function(){var
e,u;if(!(t&lt;a)){if((e=r.apply(s,c))===n.promise())throw new
TypeError(&quot;Thenable
self-resolution&quot;);u=e&amp;&amp;(&quot;object&quot;===(void
0===e?&quot;undefined&quot;:_typeof(e))||&quot;function&quot;==typeof
e)&amp;&amp;e.then,h(u)?i?u.call(e,o(a,n,D,i),o(a,n,R,i)):(a++,u.call(e,o(a,n,D,i),o(a,n,R,i),o(a,n,D,n.notifyWith))):(r!==D&amp;&amp;(s=void
0,c=[e]),(i||n.resolveWith)(s,c))}},l=i?u:function(){try{u()}catch(e){w.Deferred.exceptionHook&amp;&amp;w.Deferred.exceptionHook(e,l.stackTrace),t+1&gt;=a&amp;&amp;(r!==R&amp;&amp;(s=void
0,c=[e]),n.rejectWith(s,c))}};t?l():(w.Deferred.getStackHook&amp;&amp;(l.stackTrace=w.Deferred.getStackHook()),e.setTimeout(l))}}return
w.Deferred(function(e){n[0][3].add(o(0,e,h(i)?i:D,e.notifyWith)),n[1][3].add(o(0,e,h(t)?t:D)),n[2][3].add(o(0,e,h(r)?r:R))}).promise()},promise:function(e){return
null!=e?w.extend(e,i):i}},a={};return w.each(n,function(e,t){var
o=t[2],s=t[5];i[t[1]]=o.add,s&amp;&amp;o.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),o.add(t[3].fire),a[t[0]]=function(){return
a[t[0]+&quot;With&quot;](this===a?void
0:this,arguments),this},a[t[0]+&quot;With&quot;]=o.fireWith}),i.promise(a),t&amp;&amp;t.call(a,a),a},when:function(e){var
t=arguments.length,n=t,r=Array(n),a=i.call(arguments),o=w.Deferred(),s=function(e){return
function(n){r[e]=this,a[e]=arguments.length&gt;1?i.call(arguments):n,--t||o.resolveWith(r,a)}};if(t&lt;=1&amp;&amp;(L(e,o.done(s(n)).resolve,o.reject,!t),&quot;pending&quot;===o.state()||h(a[n]&amp;&amp;a[n].then)))return
o.then();for(;n--;)L(a[n],s(n),o.reject);return o.promise()}});var
q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&amp;&amp;e.console.warn&amp;&amp;t&amp;&amp;q.test(t.name)&amp;&amp;e.console.warn(&quot;jQuery.Deferred
exception: &quot;+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw
t})};var F=w.Deferred();function
V(){m.removeEventListener(&quot;DOMContentLoaded&quot;,V),e.removeEventListener(&quot;load&quot;,V),w.ready()}w.fn.ready=function(e){return
F.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&amp;&amp;--w.readyWait&gt;0||F.resolveWith(m,[w]))}}),w.ready.then=F.then,&quot;complete&quot;===m.readyState||&quot;loading&quot;!==m.readyState&amp;&amp;!m.documentElement.doScroll?e.setTimeout(w.ready):(m.addEventListener(&quot;DOMContentLoaded&quot;,V),e.addEventListener(&quot;load&quot;,V));var
H=function e(t,n,r,i,a,o,s){var
c=0,u=t.length,l=null==r;if(&quot;object&quot;===b(r))for(c in
a=!0,r)e(t,n,c,r[c],!0,o,s);else if(void
0!==i&amp;&amp;(a=!0,h(i)||(s=!0),l&amp;&amp;(s?(n.call(t,i),n=null):(l=n,n=function(e,t,n){return
l.call(w(e),n)})),n))for(;c&lt;u;c++)n(t[c],r,s?i:i.call(t[c],c,n(t[c],r)));return
a?t:l?n.call(t):u?n(t[0],r):o},z=/^-ms-/,$=/-([a-z])/g;function B(e,t){return
t.toUpperCase()}function W(e){return
e.replace(z,&quot;ms-&quot;).replace($,B)}var U=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function
G(){this.expando=w.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var
t=e[this.expando];return
t||(t={},U(e)&amp;&amp;(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var
r,i=this.cache(e);if(&quot;string&quot;==typeof t)i[W(t)]=n;else for(r in
t)i[W(r)]=t[r];return i},get:function(e,t){return void
0===t?this.cache(e):e[this.expando]&amp;&amp;e[this.expando][W(t)]},access:function(e,t,n){return
void 0===t||t&amp;&amp;&quot;string&quot;==typeof t&amp;&amp;void
0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var
n,r=e[this.expando];if(void 0!==r){if(void
0!==t){n=(t=Array.isArray(t)?t.map(W):(t=W(t))in r?[t]:t.match(M)||[]).length;for(;n--;)delete
r[t[n]]}(void
0===t||w.isEmptyObject(r))&amp;&amp;(e.nodeType?e[this.expando]=void 0:delete
e[this.expando])}},hasData:function(e){var t=e[this.expando];return void
0!==t&amp;&amp;!w.isEmptyObject(t)}};var X=new G,Y=new
G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r;if(void
0===n&amp;&amp;1===e.nodeType)if(r=&quot;data-&quot;+t.replace(K,&quot;-$&amp;&quot;).toLowerCase(),&quot;string&quot;==typeof(n=e.getAttribute(r))){try{n=function(e){return&quot;true&quot;===e||&quot;false&quot;!==e&amp;&amp;(&quot;null&quot;===e?null:e===+e+&quot;&quot;?+e:J.test(e)?JSON.parse(e):e)}(n)}catch(e){}Y.set(e,t,n)}else
n=void 0;return n}w.extend({hasData:function(e){return
Y.hasData(e)||X.hasData(e)},data:function(e,t,n){return
Y.access(e,t,n)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,n){return
X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),w.fn.extend({data:function(e,t){var
n,r,i,a=this[0],o=a&amp;&amp;a.attributes;if(void
0===e){if(this.length&amp;&amp;(i=Y.get(a),1===a.nodeType&amp;&amp;!X.get(a,&quot;hasDataAttrs&quot;))){for(n=o.length;n--;)o[n]&amp;&amp;0===(r=o[n].name).indexOf(&quot;data-&quot;)&amp;&amp;(r=W(r.slice(5)),Z(a,r,i[r]));X.set(a,&quot;hasDataAttrs&quot;,!0)}return
i}return&quot;object&quot;===(void
0===e?&quot;undefined&quot;:_typeof(e))?this.each(function(){Y.set(this,e)}):H(this,function(t){var
n;if(a&amp;&amp;void 0===t)return void 0!==(n=Y.get(a,e))?n:void 0!==(n=Z(a,e))?n:void
0;this.each(function(){Y.set(this,e,t)})},null,t,arguments.length&gt;1,null,!0)},removeData:function(e){return
this.each(function(){Y.remove(this,e)})}}),w.extend({queue:function(e,t,n){var
r;if(e)return
t=(t||&quot;fx&quot;)+&quot;queue&quot;,r=X.get(e,t),n&amp;&amp;(!r||Array.isArray(n)?r=X.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||&quot;fx&quot;;var
n=w.queue(e,t),r=n.length,i=n.shift(),a=w._queueHooks(e,t);&quot;inprogress&quot;===i&amp;&amp;(i=n.shift(),r--),i&amp;&amp;(&quot;fx&quot;===t&amp;&amp;n.unshift(&quot;inprogress&quot;),delete
a.stop,i.call(e,function(){w.dequeue(e,t)},a)),!r&amp;&amp;a&amp;&amp;a.empty.fire()},_queueHooks:function(e,t){var
n=t+&quot;queueHooks&quot;;return
X.get(e,n)||X.access(e,n,{empty:w.Callbacks(&quot;once
memory&quot;).add(function(){X.remove(e,[t+&quot;queue&quot;,n])})})}}),w.fn.extend({queue:function(e,t){var
n=2;return&quot;string&quot;!=typeof e&amp;&amp;(t=e,e=&quot;fx&quot;,n--),arguments.length&lt;n?w.queue(this[0],e):void
0===t?this:this.each(function(){var
n=w.queue(this,e,t);w._queueHooks(this,e),&quot;fx&quot;===e&amp;&amp;&quot;inprogress&quot;!==n[0]&amp;&amp;w.dequeue(this,e)})},dequeue:function(e){return
this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return
this.queue(e||&quot;fx&quot;,[])},promise:function(e,t){var
n,r=1,i=w.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for(&quot;string&quot;!=typeof
e&amp;&amp;(t=e,e=void 0),e=e||&quot;fx&quot;;o--;)(n=X.get(a[o],e+&quot;queueHooks&quot;))&amp;&amp;n.empty&amp;&amp;(r++,n.empty.add(s));return
s(),i.promise(t)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new
RegExp(&quot;^(?:([+-])=|)(&quot;+Q+&quot;)([a-z%]*)$&quot;,&quot;i&quot;),te=[&quot;Top&quot;,&quot;Right&quot;,&quot;Bottom&quot;,&quot;Left&quot;],ne=m.documentElement,re=function(e){return
w.contains(e.ownerDocument,e)},ie={composed:!0};ne.getRootNode&amp;&amp;(re=function(e){return
w.contains(e.ownerDocument,e)||e.getRootNode(ie)===e.ownerDocument});var
ae=function(e,t){return&quot;none&quot;===(e=t||e).style.display||&quot;&quot;===e.style.display&amp;&amp;re(e)&amp;&amp;&quot;none&quot;===w.css(e,&quot;display&quot;)};function
oe(e,t,n,r){var i,a,o=20,s=r?function(){return r.cur()}:function(){return
w.css(e,t,&quot;&quot;)},c=s(),u=n&amp;&amp;n[3]||(w.cssNumber[t]?&quot;&quot;:&quot;px&quot;),l=e.nodeType&amp;&amp;(w.cssNumber[t]||&quot;px&quot;!==u&amp;&amp;+c)&amp;&amp;ee.exec(w.css(e,t));if(l&amp;&amp;l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;o--;)w.style(e,t,l+u),(1-a)*(1-(a=s()/c||.5))&lt;=0&amp;&amp;(o=0),l/=a;l*=2,w.style(e,t,l+u),n=n||[]}return
n&amp;&amp;(l=+l||+c||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&amp;&amp;(r.unit=u,r.start=l,r.end=i)),i}var
se={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=se[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,&quot;display&quot;),t.parentNode.removeChild(t),&quot;none&quot;===i&amp;&amp;(i=&quot;block&quot;),se[r]=i,i)}function
ue(e,t){for(var
n,r,i=[],a=0,o=e.length;a&lt;o;a++)(r=e[a]).style&amp;&amp;(n=r.style.display,t?(&quot;none&quot;===n&amp;&amp;(i[a]=X.get(r,&quot;display&quot;)||null,i[a]||(r.style.display=&quot;&quot;)),&quot;&quot;===r.style.display&amp;&amp;ae(r)&amp;&amp;(i[a]=ce(r))):&quot;none&quot;!==n&amp;&amp;(i[a]=&quot;none&quot;,X.set(r,&quot;display&quot;,n)));for(a=0;a&lt;o;a++)null!=i[a]&amp;&amp;(e[a].style.display=i[a]);return
e}w.fn.extend({show:function(){return ue(this,!0)},hide:function(){return
ue(this)},toggle:function(e){return&quot;boolean&quot;==typeof
e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var
le,pe,fe=/^(?:checkbox|radio)$/i,de=/&lt;([a-z][^\/\0&gt;\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;le=m.createDocumentFragment().appendChild(m.createElement(&quot;div&quot;)),(pe=m.createElement(&quot;input&quot;)).setAttribute(&quot;type&quot;,&quot;radio&quot;),pe.setAttribute(&quot;checked&quot;,&quot;checked&quot;),pe.setAttribute(&quot;name&quot;,&quot;t&quot;),le.appendChild(pe),d.checkClone=le.cloneNode(!0).cloneNode(!0).lastChild.checked,le.innerHTML=&quot;&lt;textarea&gt;x&lt;/textarea&gt;&quot;,d.noCloneChecked=!!le.cloneNode(!0).lastChild.defaultValue,le.innerHTML=&quot;&lt;option&gt;&lt;/option&gt;&quot;,d.option=!!le.lastChild;var
ye={thead:[1,&quot;&lt;table&gt;&quot;,&quot;&lt;/table&gt;&quot;],col:[2,&quot;&lt;table&gt;&lt;colgroup&gt;&quot;,&quot;&lt;/colgroup&gt;&lt;/table&gt;&quot;],tr:[2,&quot;&lt;table&gt;&lt;tbody&gt;&quot;,&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;],td:[3,&quot;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&quot;,&quot;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;],_default:[0,&quot;&quot;,&quot;&quot;]};function
me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||&quot;*&quot;):void
0!==e.querySelectorAll?e.querySelectorAll(t||&quot;*&quot;):[],void
0===t||t&amp;&amp;j(e,t)?w.merge([e],n):n}function ge(e,t){for(var
n=0,r=e.length;n&lt;r;n++)X.set(e[n],&quot;globalEval&quot;,!t||X.get(t[n],&quot;globalEval&quot;))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,d.option||(ye.optgroup=ye.option=[1,&quot;&lt;select
multiple='multiple'&gt;&quot;,&quot;&lt;/select&gt;&quot;]);var
ve=/&lt;|&amp;#?\w+;/;function be(e,t,n,r,i){for(var
a,o,s,c,u,l,p=t.createDocumentFragment(),f=[],d=0,h=e.length;d&lt;h;d++)if((a=e[d])||0===a)if(&quot;object&quot;===b(a))w.merge(f,a.nodeType?[a]:a);else
if(ve.test(a)){for(o=o||p.appendChild(t.createElement(&quot;div&quot;)),s=(de.exec(a)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase(),c=ye[s]||ye._default,o.innerHTML=c[1]+w.htmlPrefilter(a)+c[2],l=c[0];l--;)o=o.lastChild;w.merge(f,o.childNodes),(o=p.firstChild).textContent=&quot;&quot;}else
f.push(t.createTextNode(a));for(p.textContent=&quot;&quot;,d=0;a=f[d++];)if(r&amp;&amp;w.inArray(a,r)&gt;-1)i&amp;&amp;i.push(a);else
if(u=re(a),o=me(p.appendChild(a),&quot;script&quot;),u&amp;&amp;ge(o),n)for(l=0;a=o[l++];)he.test(a.type||&quot;&quot;)&amp;&amp;n.push(a);return
p}var we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function
xe(){return!0}function ke(){return!1}function Oe(e,t){return
e===function(){try{return
m.activeElement}catch(e){}}()==(&quot;focus&quot;===t)}function
je(e,t,n,r,i,a){var o,s;if(&quot;object&quot;===(void
0===t?&quot;undefined&quot;:_typeof(t))){for(s in&quot;string&quot;!=typeof n&amp;&amp;(r=r||n,n=void
0),t)je(e,s,n,r,t[s],a);return e}if(null==r&amp;&amp;null==i?(i=n,r=n=void
0):null==i&amp;&amp;(&quot;string&quot;==typeof n?(i=r,r=void
0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return
1===a&amp;&amp;(o=i,(i=function(e){return w().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}function
Ae(e,t,n){n?(X.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var
r,a,o=X.get(this,t);if(1&amp;e.isTrigger&amp;&amp;this[t]){if(o.length)(w.event.special[t]||{}).delegateType&amp;&amp;e.stopPropagation();else
if(o=i.call(arguments),X.set(this,t,o),r=n(this,t),this[t](),o!==(a=X.get(this,t))||r?X.set(this,t,!1):a={},o!==a)return
e.stopImmediatePropagation(),e.preventDefault(),a.value}else
o.length&amp;&amp;(X.set(this,t,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void
0===X.get(e,t)&amp;&amp;w.event.add(e,t,xe)}w.event={global:{},add:function(e,t,n,r,i){var
a,o,s,c,u,l,p,f,d,h,y,m=X.get(e);if(U(e))for(n.handler&amp;&amp;(n=(a=n).handler,i=a.selector),i&amp;&amp;w.find.matchesSelector(ne,i),n.guid||(n.guid=w.guid++),(c=m.events)||(c=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(t){return
void 0!==w&amp;&amp;w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void
0}),u=(t=(t||&quot;&quot;).match(M)||[&quot;&quot;]).length;u--;)d=y=(s=Se.exec(t[u])||[])[1],h=(s[2]||&quot;&quot;).split(&quot;.&quot;).sort(),d&amp;&amp;(p=w.event.special[d]||{},d=(i?p.delegateType:p.bindType)||d,p=w.event.special[d]||{},l=w.extend({type:d,origType:y,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&amp;&amp;w.expr.match.needsContext.test(i),namespace:h.join(&quot;.&quot;)},a),(f=c[d])||((f=c[d]=[]).delegateCount=0,p.setup&amp;&amp;!1!==p.setup.call(e,r,h,o)||e.addEventListener&amp;&amp;e.addEventListener(d,o)),p.add&amp;&amp;(p.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),w.event.global[d]=!0)},remove:function(e,t,n,r,i){var
a,o,s,c,u,l,p,f,d,h,y,m=X.hasData(e)&amp;&amp;X.get(e);if(m&amp;&amp;(c=m.events)){for(u=(t=(t||&quot;&quot;).match(M)||[&quot;&quot;]).length;u--;)if(d=y=(s=Se.exec(t[u])||[])[1],h=(s[2]||&quot;&quot;).split(&quot;.&quot;).sort(),d){for(p=w.event.special[d]||{},f=c[d=(r?p.delegateType:p.bindType)||d]||[],s=s[2]&amp;&amp;new
RegExp(&quot;(^|\\.)&quot;+h.join(&quot;\\.(?:.*\\.|)&quot;)+&quot;(\\.|$)&quot;),o=a=f.length;a--;)l=f[a],!i&amp;&amp;y!==l.origType||n&amp;&amp;n.guid!==l.guid||s&amp;&amp;!s.test(l.namespace)||r&amp;&amp;r!==l.selector&amp;&amp;(&quot;**&quot;!==r||!l.selector)||(f.splice(a,1),l.selector&amp;&amp;f.delegateCount--,p.remove&amp;&amp;p.remove.call(e,l));o&amp;&amp;!f.length&amp;&amp;(p.teardown&amp;&amp;!1!==p.teardown.call(e,h,m.handle)||w.removeEvent(e,d,m.handle),delete
c[d])}else for(d in c)w.event.remove(e,d+t[u],n,r,!0);w.isEmptyObject(c)&amp;&amp;X.remove(e,&quot;handle
events&quot;)}},dispatch:function(e){var t,n,r,i,a,o,s=new
Array(arguments.length),c=w.event.fix(e),u=(X.get(this,&quot;events&quot;)||Object.create(null))[c.type]||[],l=w.event.special[c.type]||{};for(s[0]=c,t=1;t&lt;arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(o=w.event.handlers.call(this,c,u),t=0;(i=o[t++])&amp;&amp;!c.isPropagationStopped();)for(c.currentTarget=i.elem,n=0;(a=i.handlers[n++])&amp;&amp;!c.isImmediatePropagationStopped();)c.rnamespace&amp;&amp;!1!==a.namespace&amp;&amp;!c.rnamespace.test(a.namespace)||(c.handleObj=a,c.data=a.data,void
0!==(r=((w.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,s))&amp;&amp;!1===(c.result=r)&amp;&amp;(c.preventDefault(),c.stopPropagation()));return
l.postDispatch&amp;&amp;l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var
n,r,i,a,o,s=[],c=t.delegateCount,u=e.target;if(c&amp;&amp;u.nodeType&amp;&amp;!(&quot;click&quot;===e.type&amp;&amp;e.button&gt;=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&amp;&amp;(&quot;click&quot;!==e.type||!0!==u.disabled)){for(a=[],o={},n=0;n&lt;c;n++)void
0===o[i=(r=t[n]).selector+&quot;
&quot;]&amp;&amp;(o[i]=r.needsContext?w(i,this).index(u)&gt;-1:w.find(i,this,null,[u]).length),o[i]&amp;&amp;a.push(r);a.length&amp;&amp;s.push({elem:u,handlers:a})}return
u=this,c&lt;t.length&amp;&amp;s.push({elem:u,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:h(t)?function(){if(this.originalEvent)return
t(this.originalEvent)}:function(){if(this.originalEvent)return
this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return
e[w.expando]?e:new
w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var
t=this||e;return fe.test(t.type)&amp;&amp;t.click&amp;&amp;j(t,&quot;input&quot;)&amp;&amp;Ae(t,&quot;click&quot;,xe),!1},trigger:function(e){var
t=this||e;return
fe.test(t.type)&amp;&amp;t.click&amp;&amp;j(t,&quot;input&quot;)&amp;&amp;Ae(t,&quot;click&quot;),!0},_default:function(e){var
t=e.target;return fe.test(t.type)&amp;&amp;t.click&amp;&amp;j(t,&quot;input&quot;)&amp;&amp;X.get(t,&quot;click&quot;)||j(t,&quot;a&quot;)}},beforeunload:{postDispatch:function(e){void
0!==e.result&amp;&amp;e.originalEvent&amp;&amp;(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&amp;&amp;e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this
instanceof w.Event))return new w.Event(e,t);e&amp;&amp;e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void
0===e.defaultPrevented&amp;&amp;!1===e.returnValue?xe:ke,this.target=e.target&amp;&amp;3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&amp;&amp;w.extend(this,t),this.timeStamp=e&amp;&amp;e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var
e=this.originalEvent;this.isDefaultPrevented=xe,e&amp;&amp;!this.isSimulated&amp;&amp;e.preventDefault()},stopPropagation:function(){var
e=this.originalEvent;this.isPropagationStopped=xe,e&amp;&amp;!this.isSimulated&amp;&amp;e.stopPropagation()},stopImmediatePropagation:function(){var
e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&amp;&amp;!this.isSimulated&amp;&amp;e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var
t=e.button;return
null==e.which&amp;&amp;we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&amp;&amp;void
0!==t&amp;&amp;Te.test(e.type)?1&amp;t?1:2&amp;t?3:4&amp;t?2:0:e.which}},w.event.addProp),w.each({focus:&quot;focusin&quot;,blur:&quot;focusout&quot;},function(e,t){w.event.special[e]={setup:function(){return
Ae(this,e,Oe),!1},trigger:function(){return
Ae(this,e),!0},delegateType:t}}),w.each({mouseenter:&quot;mouseover&quot;,mouseleave:&quot;mouseout&quot;,pointerenter:&quot;pointerover&quot;,pointerleave:&quot;pointerout&quot;},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var
n,r=e.relatedTarget,i=e.handleObj;return
r&amp;&amp;(r===this||w.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return
je(this,e,t,n,r)},one:function(e,t,n,r){return
je(this,e,t,n,r,1)},off:function(e,t,n){var
r,i;if(e&amp;&amp;e.preventDefault&amp;&amp;e.handleObj)return
r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+&quot;.&quot;+r.namespace:r.origType,r.selector,r.handler),this;if(&quot;object&quot;===(void
0===e?&quot;undefined&quot;:_typeof(e))){for(i in e)this.off(i,t,e[i]);return
this}return!1!==t&amp;&amp;&quot;function&quot;!=typeof t||(n=t,t=void
0),!1===n&amp;&amp;(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var
Ce=/&lt;script|&lt;style|&lt;link/i,Ee=/checked\s*(?:[^=]|=\s*.checked.)/i,_e=/^\s*&lt;!(?:\[CDATA\[|--)|(?:\]\]|--)&gt;\s*$/g;function
Ne(e,t){return
j(e,&quot;table&quot;)&amp;&amp;j(11!==t.nodeType?t:t.firstChild,&quot;tr&quot;)&amp;&amp;w(e).children(&quot;tbody&quot;)[0]||e}function
Pe(e){return e.type=(null!==e.getAttribute(&quot;type&quot;))+&quot;/&quot;+e.type,e}function
Ie(e){return&quot;true/&quot;===(e.type||&quot;&quot;).slice(0,5)?e.type=e.type.slice(5):e.removeAttribute(&quot;type&quot;),e}function
Me(e,t){var
n,r,i,a,o,s;if(1===t.nodeType){if(X.hasData(e)&amp;&amp;(s=X.get(e).events))for(i
in X.remove(t,&quot;handle events&quot;),s)for(n=0,r=s[i].length;n&lt;r;n++)w.event.add(t,i,s[i][n]);Y.hasData(e)&amp;&amp;(a=Y.access(e),o=w.extend({},a),Y.set(t,o))}}function
De(e,t,n,r){t=a(t);var
i,o,s,c,u,l,p=0,f=e.length,y=f-1,m=t[0],g=h(m);if(g||f&gt;1&amp;&amp;&quot;string&quot;==typeof
m&amp;&amp;!d.checkClone&amp;&amp;Ee.test(m))return e.each(function(i){var
a=e.eq(i);g&amp;&amp;(t[0]=m.call(this,i,a.html())),De(a,t,n,r)});if(f&amp;&amp;(o=(i=be(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&amp;&amp;(i=o),o||r)){for(c=(s=w.map(me(i,&quot;script&quot;),Pe)).length;p&lt;f;p++)u=i,p!==y&amp;&amp;(u=w.clone(u,!0,!0),c&amp;&amp;w.merge(s,me(u,&quot;script&quot;))),n.call(e[p],u,p);if(c)for(l=s[s.length-1].ownerDocument,w.map(s,Ie),p=0;p&lt;c;p++)u=s[p],he.test(u.type||&quot;&quot;)&amp;&amp;!X.access(u,&quot;globalEval&quot;)&amp;&amp;w.contains(l,u)&amp;&amp;(u.src&amp;&amp;&quot;module&quot;!==(u.type||&quot;&quot;).toLowerCase()?w._evalUrl&amp;&amp;!u.noModule&amp;&amp;w._evalUrl(u.src,{nonce:u.nonce||u.getAttribute(&quot;nonce&quot;)},l):v(u.textContent.replace(_e,&quot;&quot;),u,l))}return
e}function Re(e,t,n){for(var
r,i=t?w.filter(t,e):e,a=0;null!=(r=i[a]);a++)n||1!==r.nodeType||w.cleanData(me(r)),r.parentNode&amp;&amp;(n&amp;&amp;re(r)&amp;&amp;ge(me(r,&quot;script&quot;)),r.parentNode.removeChild(r));return
e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var
r,i,a,o,s,c,u,l=e.cloneNode(!0),p=re(e);if(!(d.noCloneChecked||1!==e.nodeType&amp;&amp;11!==e.nodeType||w.isXMLDoc(e)))for(o=me(l),r=0,i=(a=me(e)).length;r&lt;i;r++)s=a[r],c=o[r],void
0,&quot;input&quot;===(u=c.nodeName.toLowerCase())&amp;&amp;fe.test(s.type)?c.checked=s.checked:&quot;input&quot;!==u&amp;&amp;&quot;textarea&quot;!==u||(c.defaultValue=s.defaultValue);if(t)if(n)for(a=a||me(e),o=o||me(l),r=0,i=a.length;r&lt;i;r++)Me(a[r],o[r]);else
Me(e,l);return(o=me(l,&quot;script&quot;)).length&gt;0&amp;&amp;ge(o,!p&amp;&amp;me(e,&quot;script&quot;)),l},cleanData:function(e){for(var
t,n,r,i=w.event.special,a=0;void
0!==(n=e[a]);a++)if(U(n)){if(t=n[X.expando]){if(t.events)for(r in
t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[X.expando]=void
0}n[Y.expando]&amp;&amp;(n[Y.expando]=void
0)}}}),w.fn.extend({detach:function(e){return
Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return
H(this,function(e){return void
0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&amp;&amp;11!==this.nodeType&amp;&amp;9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return
De(this,arguments,function(e){1!==this.nodeType&amp;&amp;11!==this.nodeType&amp;&amp;9!==this.nodeType||Ne(this,e).appendChild(e)})},prepend:function(){return
De(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var
t=Ne(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return
De(this,arguments,function(e){this.parentNode&amp;&amp;this.parentNode.insertBefore(e,this)})},after:function(){return
De(this,arguments,function(e){this.parentNode&amp;&amp;this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var
e,t=0;null!=(e=this[t]);t++)1===e.nodeType&amp;&amp;(w.cleanData(me(e,!1)),e.textContent=&quot;&quot;);return
this},clone:function(e,t){return e=null!=e&amp;&amp;e,t=null==t?e:t,this.map(function(){return
w.clone(this,e,t)})},html:function(e){return H(this,function(e){var
t=this[0]||{},n=0,r=this.length;if(void 0===e&amp;&amp;1===t.nodeType)return
t.innerHTML;if(&quot;string&quot;==typeof e&amp;&amp;!Ce.test(e)&amp;&amp;!ye[(de.exec(e)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n&lt;r;n++)1===(t=this[n]||{}).nodeType&amp;&amp;(w.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&amp;&amp;this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var
e=[];return De(this,arguments,function(t){var
n=this.parentNode;w.inArray(this,e)&lt;0&amp;&amp;(w.cleanData(me(this)),n&amp;&amp;n.replaceChild(t,this))},e)}}),w.each({appendTo:&quot;append&quot;,prependTo:&quot;prepend&quot;,insertBefore:&quot;before&quot;,insertAfter:&quot;after&quot;,replaceAll:&quot;replaceWith&quot;},function(e,t){w.fn[e]=function(e){for(var
n,r=[],i=w(e),a=i.length-1,s=0;s&lt;=a;s++)n=s===a?this:this.clone(!0),w(i[s])[t](n),o.apply(r,n.get());return
this.pushStack(r)}});var Le=new
RegExp(&quot;^(&quot;+Q+&quot;)(?!px)[a-z%]+$&quot;,&quot;i&quot;),qe=function(t){var
n=t.ownerDocument.defaultView;return n&amp;&amp;n.opener||(n=e),n.getComputedStyle(t)},Fe=function(e,t,n){var
r,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in
r=n.call(e),t)e.style[i]=a[i];return r},Ve=new
RegExp(te.join(&quot;|&quot;),&quot;i&quot;);function He(e,t,n){var
r,i,a,o,s=e.style;return(n=n||qe(e))&amp;&amp;(&quot;&quot;!==(o=n.getPropertyValue(t)||n[t])||re(e)||(o=w.style(e,t)),!d.pixelBoxStyles()&amp;&amp;Le.test(o)&amp;&amp;Ve.test(t)&amp;&amp;(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void
0!==o?o+&quot;&quot;:o}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete
this.get}}}!function(){function
t(){if(l){u.style.cssText=&quot;position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0&quot;,l.style.cssText=&quot;position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%&quot;,ne.appendChild(u).appendChild(l);var
t=e.getComputedStyle(l);r=&quot;1%&quot;!==t.top,c=12===n(t.marginLeft),l.style.right=&quot;60%&quot;,o=36===n(t.right),i=36===n(t.width),l.style.position=&quot;absolute&quot;,a=12===n(l.offsetWidth/3),ne.removeChild(u),l=null}}function
n(e){return Math.round(parseFloat(e))}var
r,i,a,o,s,c,u=m.createElement(&quot;div&quot;),l=m.createElement(&quot;div&quot;);l.style&amp;&amp;(l.style.backgroundClip=&quot;content-box&quot;,l.cloneNode(!0).style.backgroundClip=&quot;&quot;,d.clearCloneStyle=&quot;content-box&quot;===l.style.backgroundClip,w.extend(d,{boxSizingReliable:function(){return
t(),i},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return
t(),r},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return
t(),a},reliableTrDimensions:function(){var t,n,r,i;return
null==s&amp;&amp;(t=m.createElement(&quot;table&quot;),n=m.createElement(&quot;tr&quot;),r=m.createElement(&quot;div&quot;),t.style.cssText=&quot;position:absolute;left:-11111px&quot;,n.style.height=&quot;1px&quot;,r.style.height=&quot;9px&quot;,ne.appendChild(t).appendChild(n).appendChild(r),i=e.getComputedStyle(n),s=parseInt(i.height)&gt;3,ne.removeChild(t)),s}}))}();var
$e=[&quot;Webkit&quot;,&quot;Moz&quot;,&quot;ms&quot;],Be=m.createElement(&quot;div&quot;).style,We={};function
Ue(e){var t=w.cssProps[e]||We[e];return t||(e in Be?e:We[e]=function(e){for(var
t=e[0].toUpperCase()+e.slice(1),n=$e.length;n--;)if((e=$e[n]+t)in Be)return
e}(e)||e)}var
Ge=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ye={position:&quot;absolute&quot;,visibility:&quot;hidden&quot;,display:&quot;block&quot;},Je={letterSpacing:&quot;0&quot;,fontWeight:&quot;400&quot;};function
Ke(e,t,n){var r=ee.exec(t);return
r?Math.max(0,r[2]-(n||0))+(r[3]||&quot;px&quot;):t}function Ze(e,t,n,r,i,a){var
o=&quot;width&quot;===t?1:0,s=0,c=0;if(n===(r?&quot;border&quot;:&quot;content&quot;))return
0;for(;o&lt;4;o+=2)&quot;margin&quot;===n&amp;&amp;(c+=w.css(e,n+te[o],!0,i)),r?(&quot;content&quot;===n&amp;&amp;(c-=w.css(e,&quot;padding&quot;+te[o],!0,i)),&quot;margin&quot;!==n&amp;&amp;(c-=w.css(e,&quot;border&quot;+te[o]+&quot;Width&quot;,!0,i))):(c+=w.css(e,&quot;padding&quot;+te[o],!0,i),&quot;padding&quot;!==n?c+=w.css(e,&quot;border&quot;+te[o]+&quot;Width&quot;,!0,i):s+=w.css(e,&quot;border&quot;+te[o]+&quot;Width&quot;,!0,i));return!r&amp;&amp;a&gt;=0&amp;&amp;(c+=Math.max(0,Math.ceil(e[&quot;offset&quot;+t[0].toUpperCase()+t.slice(1)]-a-c-s-.5))||0),c}function
Qe(e,t,n){var
r=qe(e),i=(!d.boxSizingReliable()||n)&amp;&amp;&quot;border-box&quot;===w.css(e,&quot;boxSizing&quot;,!1,r),a=i,o=He(e,t,r),s=&quot;offset&quot;+t[0].toUpperCase()+t.slice(1);if(Le.test(o)){if(!n)return
o;o=&quot;auto&quot;}return(!d.boxSizingReliable()&amp;&amp;i||!d.reliableTrDimensions()&amp;&amp;j(e,&quot;tr&quot;)||&quot;auto&quot;===o||!parseFloat(o)&amp;&amp;&quot;inline&quot;===w.css(e,&quot;display&quot;,!1,r))&amp;&amp;e.getClientRects().length&amp;&amp;(i=&quot;border-box&quot;===w.css(e,&quot;boxSizing&quot;,!1,r),(a=s
in e)&amp;&amp;(o=e[s])),(o=parseFloat(o)||0)+Ze(e,t,n||(i?&quot;border&quot;:&quot;content&quot;),a,r,o)+&quot;px&quot;}function
et(e,t,n,r,i){return new
et.prototype.init(e,t,n,r,i)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var
n=He(e,&quot;opacity&quot;);return&quot;&quot;===n?&quot;1&quot;:n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&amp;&amp;3!==e.nodeType&amp;&amp;8!==e.nodeType&amp;&amp;e.style){var
i,a,o,s=W(t),c=Xe.test(t),u=e.style;if(c||(t=Ue(s)),o=w.cssHooks[t]||w.cssHooks[s],void
0===n)return o&amp;&amp;&quot;get&quot;in o&amp;&amp;void 0!==(i=o.get(e,!1,r))?i:u[t];&quot;string&quot;===(a=void
0===n?&quot;undefined&quot;:_typeof(n))&amp;&amp;(i=ee.exec(n))&amp;&amp;i[1]&amp;&amp;(n=oe(e,t,i),a=&quot;number&quot;),null!=n&amp;&amp;n==n&amp;&amp;(&quot;number&quot;!==a||c||(n+=i&amp;&amp;i[3]||(w.cssNumber[s]?&quot;&quot;:&quot;px&quot;)),d.clearCloneStyle||&quot;&quot;!==n||0!==t.indexOf(&quot;background&quot;)||(u[t]=&quot;inherit&quot;),o&amp;&amp;&quot;set&quot;in
o&amp;&amp;void 0===(n=o.set(e,n,r))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var
i,a,o,s=W(t);return
Xe.test(t)||(t=Ue(s)),(o=w.cssHooks[t]||w.cssHooks[s])&amp;&amp;&quot;get&quot;in
o&amp;&amp;(i=o.get(e,!0,n)),void
0===i&amp;&amp;(i=He(e,t,r)),&quot;normal&quot;===i&amp;&amp;t in Je&amp;&amp;(i=Je[t]),&quot;&quot;===n||n?(a=parseFloat(i),!0===n||isFinite(a)?a||0:i):i}}),w.each([&quot;height&quot;,&quot;width&quot;],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!Ge.test(w.css(e,&quot;display&quot;))||e.getClientRects().length&amp;&amp;e.getBoundingClientRect().width?Qe(e,t,r):Fe(e,Ye,function(){return
Qe(e,t,r)})},set:function(e,n,r){var
i,a=qe(e),o=!d.scrollboxSize()&amp;&amp;&quot;absolute&quot;===a.position,s=(o||r)&amp;&amp;&quot;border-box&quot;===w.css(e,&quot;boxSizing&quot;,!1,a),c=r?Ze(e,t,r,s,a):0;return
s&amp;&amp;o&amp;&amp;(c-=Math.ceil(e[&quot;offset&quot;+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-Ze(e,t,&quot;border&quot;,!1,a)-.5)),c&amp;&amp;(i=ee.exec(n))&amp;&amp;&quot;px&quot;!==(i[3]||&quot;px&quot;)&amp;&amp;(e.style[t]=n,n=w.css(e,t)),Ke(0,n,c)}}}),w.cssHooks.marginLeft=ze(d.reliableMarginLeft,function(e,t){if(t)return(parseFloat(He(e,&quot;marginLeft&quot;))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return
e.getBoundingClientRect().left}))+&quot;px&quot;}),w.each({margin:&quot;&quot;,padding:&quot;&quot;,border:&quot;Width&quot;},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var
r=0,i={},a=&quot;string&quot;==typeof n?n.split(&quot; &quot;):[n];r&lt;4;r++)i[e+te[r]+t]=a[r]||a[r-2]||a[0];return
i}},&quot;margin&quot;!==e&amp;&amp;(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return
H(this,function(e,t,n){var
r,i,a={},o=0;if(Array.isArray(t)){for(r=qe(e),i=t.length;o&lt;i;o++)a[t[o]]=w.css(e,t[o],!1,r);return
a}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length&gt;1)}}),w.Tween=et,et.prototype={constructor:et,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(w.cssNumber[n]?&quot;&quot;:&quot;px&quot;)},cur:function(){var
e=et.propHooks[this.prop];return
e&amp;&amp;e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var
t,n=et.propHooks[this.prop];return
this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&amp;&amp;this.options.step.call(this.elem,this.now,this),n&amp;&amp;n.set?n.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(e){var
t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&amp;&amp;null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,&quot;&quot;))&amp;&amp;&quot;auto&quot;!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&amp;&amp;null==e.elem.style[Ue(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&amp;&amp;e.elem.parentNode&amp;&amp;(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return
e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:&quot;swing&quot;},w.fx=et.prototype.init,w.fx.step={};var
tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function
at(){nt&amp;&amp;(!1===m.hidden&amp;&amp;e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function
ot(){return e.setTimeout(function(){tt=void 0}),tt=Date.now()}function
st(e,t){var
n,r=0,i={height:e};for(t=t?1:0;r&lt;4;r+=2-t)i[&quot;margin&quot;+(n=te[r])]=i[&quot;padding&quot;+n]=e;return
t&amp;&amp;(i.opacity=i.width=e),i}function ct(e,t,n){for(var
r,i=(ut.tweeners[t]||[]).concat(ut.tweeners[&quot;*&quot;]),a=0,o=i.length;a&lt;o;a++)if(r=i[a].call(n,t,e))return
r}function ut(e,t,n){var
r,i,a=0,o=ut.prefilters.length,s=w.Deferred().always(function(){delete
c.elem}),c=function(){if(i)return!1;for(var t=tt||ot(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),a=0,o=u.tweens.length;a&lt;o;a++)u.tweens[a].run(r);return
s.notifyWith(e,[u,r,n]),r&lt;1&amp;&amp;o?n:(o||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||ot(),duration:n.duration,tweens:[],createTween:function(t,n){var
r=w.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return
u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return
this;for(i=!0;n&lt;r;n++)u.tweens[n].run(1);return
t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),l=u.props;for(!function(e,t){var
n,r,i,a,o;for(n in e)if(i=t[r=W(n)],a=e[n],Array.isArray(a)&amp;&amp;(i=a[1],a=e[n]=a[0]),n!==r&amp;&amp;(e[r]=a,delete
e[n]),(o=w.cssHooks[r])&amp;&amp;&quot;expand&quot;in o)for(n in
a=o.expand(a),delete e[r],a)n in e||(e[n]=a[n],t[n]=i);else
t[r]=i}(l,u.opts.specialEasing);a&lt;o;a++)if(r=ut.prefilters[a].call(u,e,l,u.opts))return
h(r.stop)&amp;&amp;(w._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return
w.map(l,ct,u),h(u.opts.start)&amp;&amp;u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),w.fx.timer(w.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}w.Animation=w.extend(ut,{tweeners:{&quot;*&quot;:[function(e,t){var
n=this.createTween(e,t);return
oe(n.elem,e,ee.exec(t),n),n}]},tweener:function(e,t){h(e)?(t=e,e=[&quot;*&quot;]):e=e.match(M);for(var
n,r=0,i=e.length;r&lt;i;r++)n=e[r],ut.tweeners[n]=ut.tweeners[n]||[],ut.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var
r,i,a,o,s,c,u,l,p=&quot;width&quot;in t||&quot;height&quot;in
t,f=this,d={},h=e.style,y=e.nodeType&amp;&amp;ae(e),m=X.get(e,&quot;fxshow&quot;);for(r
in n.queue||(null==(o=w._queueHooks(e,&quot;fx&quot;)).unqueued&amp;&amp;(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,f.always(function(){f.always(function(){o.unqueued--,w.queue(e,&quot;fx&quot;).length||o.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete
t[r],a=a||&quot;toggle&quot;===i,i===(y?&quot;hide&quot;:&quot;show&quot;)){if(&quot;show&quot;!==i||!m||void
0===m[r])continue;y=!0}d[r]=m&amp;&amp;m[r]||w.style(e,r)}if((c=!w.isEmptyObject(t))||!w.isEmptyObject(d))for(r
in
p&amp;&amp;1===e.nodeType&amp;&amp;(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=m&amp;&amp;m.display)&amp;&amp;(u=X.get(e,&quot;display&quot;)),&quot;none&quot;===(l=w.css(e,&quot;display&quot;))&amp;&amp;(u?l=u:(ue([e],!0),u=e.style.display||u,l=w.css(e,&quot;display&quot;),ue([e]))),(&quot;inline&quot;===l||&quot;inline-block&quot;===l&amp;&amp;null!=u)&amp;&amp;&quot;none&quot;===w.css(e,&quot;float&quot;)&amp;&amp;(c||(f.done(function(){h.display=u}),null==u&amp;&amp;(l=h.display,u=&quot;none&quot;===l?&quot;&quot;:l)),h.display=&quot;inline-block&quot;)),n.overflow&amp;&amp;(h.overflow=&quot;hidden&quot;,f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),c=!1,d)c||(m?&quot;hidden&quot;in
m&amp;&amp;(y=m.hidden):m=X.access(e,&quot;fxshow&quot;,{display:u}),a&amp;&amp;(m.hidden=!y),y&amp;&amp;ue([e],!0),f.done(function(){for(r
in
y||ue([e]),X.remove(e,&quot;fxshow&quot;),d)w.style(e,r,d[r])})),c=ct(y?m[r]:0,r,f),r
in
m||(m[r]=c.start,y&amp;&amp;(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),w.speed=function(e,t,n){var
r=e&amp;&amp;&quot;object&quot;===(void
0===e?&quot;undefined&quot;:_typeof(e))?w.extend({},e):{complete:n||!n&amp;&amp;t||h(e)&amp;&amp;e,duration:e,easing:n&amp;&amp;t||t&amp;&amp;!h(t)&amp;&amp;t};return
w.fx.off?r.duration=0:&quot;number&quot;!=typeof r.duration&amp;&amp;(r.duration
in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&amp;&amp;!0!==r.queue||(r.queue=&quot;fx&quot;),r.old=r.complete,r.complete=function(){h(r.old)&amp;&amp;r.old.call(this),r.queue&amp;&amp;w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return
this.filter(ae).css(&quot;opacity&quot;,0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var
i=w.isEmptyObject(e),a=w.speed(t,n,r),o=function(){var
t=ut(this,w.extend({},e),a);(i||X.get(this,&quot;finish&quot;))&amp;&amp;t.stop(!0)};return
o.finish=o,i||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var
r=function(e){var t=e.stop;delete e.stop,t(n)};return&quot;string&quot;!=typeof
e&amp;&amp;(n=t,t=e,e=void
0),t&amp;&amp;this.queue(e||&quot;fx&quot;,[]),this.each(function(){var
t=!0,i=null!=e&amp;&amp;e+&quot;queueHooks&quot;,a=w.timers,o=X.get(this);if(i)o[i]&amp;&amp;o[i].stop&amp;&amp;r(o[i]);else
for(i in
o)o[i]&amp;&amp;o[i].stop&amp;&amp;it.test(i)&amp;&amp;r(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&amp;&amp;a[i].queue!==e||(a[i].anim.stop(n),t=!1,a.splice(i,1));!t&amp;&amp;n||w.dequeue(this,e)})},finish:function(e){return!1!==e&amp;&amp;(e=e||&quot;fx&quot;),this.each(function(){var
t,n=X.get(this),r=n[e+&quot;queue&quot;],i=n[e+&quot;queueHooks&quot;],a=w.timers,o=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&amp;&amp;i.stop&amp;&amp;i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&amp;&amp;a[t].queue===e&amp;&amp;(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t&lt;o;t++)r[t]&amp;&amp;r[t].finish&amp;&amp;r[t].finish.call(this);delete
n.finish})}}),w.each([&quot;toggle&quot;,&quot;show&quot;,&quot;hide&quot;],function(e,t){var
n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||&quot;boolean&quot;==typeof
e?n.apply(this,arguments):this.animate(st(t,!0),e,r,i)}}),w.each({slideDown:st(&quot;show&quot;),slideUp:st(&quot;hide&quot;),slideToggle:st(&quot;toggle&quot;),fadeIn:{opacity:&quot;show&quot;},fadeOut:{opacity:&quot;hide&quot;},fadeToggle:{opacity:&quot;toggle&quot;}},function(e,t){w.fn[e]=function(e,n,r){return
this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var
e,t=0,n=w.timers;for(tt=Date.now();t&lt;n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),tt=void
0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){nt||(nt=!0,at())},w.fx.stop=function(){nt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return
t=w.fx&amp;&amp;w.fx.speeds[t]||t,n=n||&quot;fx&quot;,this.queue(n,function(n,r){var
i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var
e=m.createElement(&quot;input&quot;),t=m.createElement(&quot;select&quot;).appendChild(m.createElement(&quot;option&quot;));e.type=&quot;checkbox&quot;,d.checkOn=&quot;&quot;!==e.value,d.optSelected=t.selected,(e=m.createElement(&quot;input&quot;)).value=&quot;t&quot;,e.type=&quot;radio&quot;,d.radioValue=&quot;t&quot;===e.value}();var
lt,pt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return H(this,w.attr,e,t,arguments.length&gt;1)},removeAttr:function(e){return
this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var
r,i,a=e.nodeType;if(3!==a&amp;&amp;8!==a&amp;&amp;2!==a)return void
0===e.getAttribute?w.prop(e,t,n):(1===a&amp;&amp;w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?lt:void
0)),void 0!==n?null===n?void w.removeAttr(e,t):i&amp;&amp;&quot;set&quot;in
i&amp;&amp;void
0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+&quot;&quot;),n):i&amp;&amp;&quot;get&quot;in
i&amp;&amp;null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&amp;&amp;&quot;radio&quot;===t&amp;&amp;j(e,&quot;input&quot;)){var
n=e.value;return
e.setAttribute(&quot;type&quot;,t),n&amp;&amp;(e.value=n),t}}}},removeAttr:function(e,t){var
n,r=0,i=t&amp;&amp;t.match(M);if(i&amp;&amp;1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),lt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var
n=pt[t]||w.find.attr;pt[t]=function(e,t,r){var i,a,o=t.toLowerCase();return
r||(a=pt[o],pt[o]=i,i=null!=n(e,t,r)?o:null,pt[o]=a),i}});var
ft=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function
ht(e){return(e.match(M)||[]).join(&quot; &quot;)}function yt(e){return
e.getAttribute&amp;&amp;e.getAttribute(&quot;class&quot;)||&quot;&quot;}function
mt(e){return Array.isArray(e)?e:&quot;string&quot;==typeof
e&amp;&amp;e.match(M)||[]}w.fn.extend({prop:function(e,t){return
H(this,w.prop,e,t,arguments.length&gt;1)},removeProp:function(e){return
this.each(function(){delete
this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var
r,i,a=e.nodeType;if(3!==a&amp;&amp;8!==a&amp;&amp;2!==a)return
1===a&amp;&amp;w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void
0!==n?i&amp;&amp;&quot;set&quot;in i&amp;&amp;void
0!==(r=i.set(e,n,t))?r:e[t]=n:i&amp;&amp;&quot;get&quot;in
i&amp;&amp;null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var
t=w.find.attr(e,&quot;tabindex&quot;);return t?parseInt(t,10):ft.test(e.nodeName)||dt.test(e.nodeName)&amp;&amp;e.href?0:-1}}},propFix:{for:&quot;htmlFor&quot;,class:&quot;className&quot;}}),d.optSelected||(w.propHooks.selected={get:function(e){var
t=e.parentNode;return t&amp;&amp;t.parentNode&amp;&amp;t.parentNode.selectedIndex,null},set:function(e){var
t=e.parentNode;t&amp;&amp;(t.selectedIndex,t.parentNode&amp;&amp;t.parentNode.selectedIndex)}}),w.each([&quot;tabIndex&quot;,&quot;readOnly&quot;,&quot;maxLength&quot;,&quot;cellSpacing&quot;,&quot;cellPadding&quot;,&quot;rowSpan&quot;,&quot;colSpan&quot;,&quot;useMap&quot;,&quot;frameBorder&quot;,&quot;contentEditable&quot;],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var
t,n,r,i,a,o,s,c=0;if(h(e))return
this.each(function(t){w(this).addClass(e.call(this,t,yt(this)))});if((t=mt(e)).length)for(;n=this[c++];)if(i=yt(n),r=1===n.nodeType&amp;&amp;&quot;
&quot;+ht(i)+&quot; &quot;){for(o=0;a=t[o++];)r.indexOf(&quot; &quot;+a+&quot;
&quot;)&lt;0&amp;&amp;(r+=a+&quot;
&quot;);i!==(s=ht(r))&amp;&amp;n.setAttribute(&quot;class&quot;,s)}return
this},removeClass:function(e){var t,n,r,i,a,o,s,c=0;if(h(e))return
this.each(function(t){w(this).removeClass(e.call(this,t,yt(this)))});if(!arguments.length)return
this.attr(&quot;class&quot;,&quot;&quot;);if((t=mt(e)).length)for(;n=this[c++];)if(i=yt(n),r=1===n.nodeType&amp;&amp;&quot;
&quot;+ht(i)+&quot; &quot;){for(o=0;a=t[o++];)for(;r.indexOf(&quot;
&quot;+a+&quot; &quot;)&gt;-1;)r=r.replace(&quot; &quot;+a+&quot; &quot;,&quot;
&quot;);i!==(s=ht(r))&amp;&amp;n.setAttribute(&quot;class&quot;,s)}return
this},toggleClass:function(e,t){var n=void 0===e?&quot;undefined&quot;:_typeof(e),r=&quot;string&quot;===n||Array.isArray(e);return&quot;boolean&quot;==typeof
t&amp;&amp;r?t?this.addClass(e):this.removeClass(e):h(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,yt(this),t),t)}):this.each(function(){var
t,i,a,o;if(r)for(i=0,a=w(this),o=mt(e);t=o[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else
void
0!==e&amp;&amp;&quot;boolean&quot;!==n||((t=yt(this))&amp;&amp;X.set(this,&quot;__className__&quot;,t),this.setAttribute&amp;&amp;this.setAttribute(&quot;class&quot;,t||!1===e?&quot;&quot;:X.get(this,&quot;__className__&quot;)||&quot;&quot;))})},hasClass:function(e){var
t,n,r=0;for(t=&quot; &quot;+e+&quot;
&quot;;n=this[r++];)if(1===n.nodeType&amp;&amp;(&quot; &quot;+ht(yt(n))+&quot;
&quot;).indexOf(t)&gt;-1)return!0;return!1}});var
gt=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=h(e),this.each(function(n){var
i;1===this.nodeType&amp;&amp;(null==(i=r?e.call(this,n,w(this).val()):e)?i=&quot;&quot;:&quot;number&quot;==typeof
i?i+=&quot;&quot;:Array.isArray(i)&amp;&amp;(i=w.map(i,function(e){return
null==e?&quot;&quot;:e+&quot;&quot;})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&amp;&amp;&quot;set&quot;in
t&amp;&amp;void 0!==t.set(this,i,&quot;value&quot;)||(this.value=i))})):i?(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&amp;&amp;&quot;get&quot;in
t&amp;&amp;void
0!==(n=t.get(i,&quot;value&quot;))?n:&quot;string&quot;==typeof(n=i.value)?n.replace(gt,&quot;&quot;):null==n?&quot;&quot;:n:void
0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,&quot;value&quot;);return
null!=t?t:ht(w.text(e))}},select:{get:function(e){var
t,n,r,i=e.options,a=e.selectedIndex,o=&quot;select-one&quot;===e.type,s=o?null:[],c=o?a+1:i.length;for(r=a&lt;0?c:o?a:0;r&lt;c;r++)if(((n=i[r]).selected||r===a)&amp;&amp;!n.disabled&amp;&amp;(!n.parentNode.disabled||!j(n.parentNode,&quot;optgroup&quot;))){if(t=w(n).val(),o)return
t;s.push(t)}return s},set:function(e,t){for(var
n,r,i=e.options,a=w.makeArray(t),o=i.length;o--;)((r=i[o]).selected=w.inArray(w.valHooks.option.get(r),a)&gt;-1)&amp;&amp;(n=!0);return
n||(e.selectedIndex=-1),a}}}}),w.each([&quot;radio&quot;,&quot;checkbox&quot;],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return
e.checked=w.inArray(w(e).val(),t)&gt;-1}},d.checkOn||(w.valHooks[this].get=function(e){return
null===e.getAttribute(&quot;value&quot;)?&quot;on&quot;:e.value})}),d.focusin=&quot;onfocusin&quot;in
e;var
vt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,r,i){var
a,o,s,c,u,p,f,d,g=[r||m],v=l.call(t,&quot;type&quot;)?t.type:t,b=l.call(t,&quot;namespace&quot;)?t.namespace.split(&quot;.&quot;):[];if(o=d=s=r=r||m,3!==r.nodeType&amp;&amp;8!==r.nodeType&amp;&amp;!vt.test(v+w.event.triggered)&amp;&amp;(v.indexOf(&quot;.&quot;)&gt;-1&amp;&amp;(v=(b=v.split(&quot;.&quot;)).shift(),b.sort()),u=v.indexOf(&quot;:&quot;)&lt;0&amp;&amp;&quot;on&quot;+v,(t=t[w.expando]?t:new
w.Event(v,&quot;object&quot;===(void
0===t?&quot;undefined&quot;:_typeof(t))&amp;&amp;t)).isTrigger=i?2:3,t.namespace=b.join(&quot;.&quot;),t.rnamespace=t.namespace?new
RegExp(&quot;(^|\\.)&quot;+b.join(&quot;\\.(?:.*\\.|)&quot;)+&quot;(\\.|$)&quot;):null,t.result=void
0,t.target||(t.target=r),n=null==n?[t]:w.makeArray(n,[t]),f=w.event.special[v]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&amp;&amp;!f.noBubble&amp;&amp;!y(r)){for(c=f.delegateType||v,vt.test(c+v)||(o=o.parentNode);o;o=o.parentNode)g.push(o),s=o;s===(r.ownerDocument||m)&amp;&amp;g.push(s.defaultView||s.parentWindow||e)}for(a=0;(o=g[a++])&amp;&amp;!t.isPropagationStopped();)d=o,t.type=a&gt;1?c:f.bindType||v,(p=(X.get(o,&quot;events&quot;)||Object.create(null))[t.type]&amp;&amp;X.get(o,&quot;handle&quot;))&amp;&amp;p.apply(o,n),(p=u&amp;&amp;o[u])&amp;&amp;p.apply&amp;&amp;U(o)&amp;&amp;(t.result=p.apply(o,n),!1===t.result&amp;&amp;t.preventDefault());return
t.type=v,i||t.isDefaultPrevented()||f._default&amp;&amp;!1!==f._default.apply(g.pop(),n)||!U(r)||u&amp;&amp;h(r[v])&amp;&amp;!y(r)&amp;&amp;((s=r[u])&amp;&amp;(r[u]=null),w.event.triggered=v,t.isPropagationStopped()&amp;&amp;d.addEventListener(v,bt),r[v](),t.isPropagationStopped()&amp;&amp;d.removeEventListener(v,bt),w.event.triggered=void
0,s&amp;&amp;(r[u]=s)),t.result}},simulate:function(e,t,n){var r=w.extend(new
w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return
this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var
n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),d.focusin||w.each({focus:&quot;focusin&quot;,blur:&quot;focusout&quot;},function(e,t){var
n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var
r=this.ownerDocument||this.document||this,i=X.access(r,t);i||r.addEventListener(e,n,!0),X.access(r,t,(i||0)+1)},teardown:function(){var
r=this.ownerDocument||this.document||this,i=X.access(r,t)-1;i?X.access(r,t,i):(r.removeEventListener(e,n,!0),X.remove(r,t))}}});var
wt=e.location,Tt={guid:Date.now()},St=/\?/;w.parseXML=function(t){var n;if(!t||&quot;string&quot;!=typeof
t)return null;try{n=(new
e.DOMParser).parseFromString(t,&quot;text/xml&quot;)}catch(e){n=void 0}return
n&amp;&amp;!n.getElementsByTagName(&quot;parsererror&quot;).length||w.error(&quot;Invalid
XML: &quot;+t),n};var xt=/\[\]$/,kt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function
At(e,t,n,r){var
i;if(Array.isArray(t))w.each(t,function(t,i){n||xt.test(e)?r(e,i):At(e+&quot;[&quot;+(&quot;object&quot;===(void
0===i?&quot;undefined&quot;:_typeof(i))&amp;&amp;null!=i?t:&quot;&quot;)+&quot;]&quot;,i,n,r)});else
if(n||&quot;object&quot;!==b(t))r(e,t);else for(i in
t)At(e+&quot;[&quot;+i+&quot;]&quot;,t[i],n,r)}w.param=function(e,t){var
n,r=[],i=function(e,t){var
n=h(t)?t():t;r[r.length]=encodeURIComponent(e)+&quot;=&quot;+encodeURIComponent(null==n?&quot;&quot;:n)};if(null==e)return&quot;&quot;;if(Array.isArray(e)||e.jquery&amp;&amp;!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else
for(n in e)At(n,e[n],t,i);return
r.join(&quot;&amp;&quot;)},w.fn.extend({serialize:function(){return
w.param(this.serializeArray())},serializeArray:function(){return
this.map(function(){var e=w.prop(this,&quot;elements&quot;);return
e?w.makeArray(e):this}).filter(function(){var e=this.type;return
this.name&amp;&amp;!w(this).is(&quot;:disabled&quot;)&amp;&amp;jt.test(this.nodeName)&amp;&amp;!Ot.test(e)&amp;&amp;(this.checked||!fe.test(e))}).map(function(e,t){var
n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(kt,&quot;\r\n&quot;)}}):{name:t.name,value:n.replace(kt,&quot;\r\n&quot;)}}).get()}});var
Ct=/%20/g,Et=/#.*$/,_t=/([?&amp;])_=[^&amp;]*/,Nt=/^(.*?):[
\t]*([^\r\n]*)$/gm,Pt=/^(?:GET|HEAD)$/,It=/^\/\//,Mt={},Dt={},Rt=&quot;*/&quot;.concat(&quot;*&quot;),Lt=m.createElement(&quot;a&quot;);function
qt(e){return function(t,n){&quot;string&quot;!=typeof
t&amp;&amp;(n=t,t=&quot;*&quot;);var
r,i=0,a=t.toLowerCase().match(M)||[];if(h(n))for(;r=a[i++];)&quot;+&quot;===r[0]?(r=r.slice(1)||&quot;*&quot;,(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function
Ft(e,t,n,r){var i={},a=e===Dt;function o(s){var c;return
i[s]=!0,w.each(e[s]||[],function(e,s){var
u=s(t,n,r);return&quot;string&quot;!=typeof u||a||i[u]?a?!(c=u):void
0:(t.dataTypes.unshift(u),o(u),!1)}),c}return
o(t.dataTypes[0])||!i[&quot;*&quot;]&amp;&amp;o(&quot;*&quot;)}function
Vt(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void
0!==t[n]&amp;&amp;((i[n]?e:r||(r={}))[n]=t[n]);return
r&amp;&amp;w.extend(!0,e,r),e}Lt.href=wt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:&quot;GET&quot;,isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:&quot;application/x-www-form-urlencoded;
charset=UTF-8&quot;,accepts:{&quot;*&quot;:Rt,text:&quot;text/plain&quot;,html:&quot;text/html&quot;,xml:&quot;application/xml,
text/xml&quot;,json:&quot;application/json, text/javascript&quot;},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:&quot;responseXML&quot;,text:&quot;responseText&quot;,json:&quot;responseJSON&quot;},converters:{&quot;*
text&quot;:String,&quot;text html&quot;:!0,&quot;text json&quot;:JSON.parse,&quot;text
xml&quot;:w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return
t?Vt(Vt(e,w.ajaxSettings),t):Vt(w.ajaxSettings,e)},ajaxPrefilter:qt(Mt),ajaxTransport:qt(Dt),ajax:function(t,n){&quot;object&quot;===(void
0===t?&quot;undefined&quot;:_typeof(t))&amp;&amp;(n=t,t=void 0),n=n||{};var
r,i,a,o,s,c,u,l,p,f,d=w.ajaxSetup({},n),h=d.context||d,y=d.context&amp;&amp;(h.nodeType||h.jquery)?w(h):w.event,g=w.Deferred(),v=w.Callbacks(&quot;once
memory&quot;),b=d.statusCode||{},T={},S={},x=&quot;canceled&quot;,k={readyState:0,getResponseHeader:function(e){var
t;if(u){if(!o)for(o={};t=Nt.exec(a);)o[t[1].toLowerCase()+&quot;
&quot;]=(o[t[1].toLowerCase()+&quot;
&quot;]||[]).concat(t[2]);t=o[e.toLowerCase()+&quot; &quot;]}return
null==t?null:t.join(&quot;, &quot;)},getAllResponseHeaders:function(){return
u?a:null},setRequestHeader:function(e,t){return null==u&amp;&amp;(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,T[e]=t),this},overrideMimeType:function(e){return
null==u&amp;&amp;(d.mimeType=e),this},statusCode:function(e){var
t;if(e)if(u)k.always(e[k.status]);else for(t in e)b[t]=[b[t],e[t]];return
this},abort:function(e){var t=e||x;return r&amp;&amp;r.abort(t),O(0,t),this}};if(g.promise(k),d.url=((t||d.url||wt.href)+&quot;&quot;).replace(It,wt.protocol+&quot;//&quot;),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||&quot;*&quot;).toLowerCase().match(M)||[&quot;&quot;],null==d.crossDomain){c=m.createElement(&quot;a&quot;);try{c.href=d.url,c.href=c.href,d.crossDomain=Lt.protocol+&quot;//&quot;+Lt.host!=c.protocol+&quot;//&quot;+c.host}catch(e){d.crossDomain=!0}}if(d.data&amp;&amp;d.processData&amp;&amp;&quot;string&quot;!=typeof
d.data&amp;&amp;(d.data=w.param(d.data,d.traditional)),Ft(Mt,d,n,k),u)return
k;for(p in(l=w.event&amp;&amp;d.global)&amp;&amp;0==w.active++&amp;&amp;w.event.trigger(&quot;ajaxStart&quot;),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),i=d.url.replace(Et,&quot;&quot;),d.hasContent?d.data&amp;&amp;d.processData&amp;&amp;0===(d.contentType||&quot;&quot;).indexOf(&quot;application/x-www-form-urlencoded&quot;)&amp;&amp;(d.data=d.data.replace(Ct,&quot;+&quot;)):(f=d.url.slice(i.length),d.data&amp;&amp;(d.processData||&quot;string&quot;==typeof
d.data)&amp;&amp;(i+=(St.test(i)?&quot;&amp;&quot;:&quot;?&quot;)+d.data,delete
d.data),!1===d.cache&amp;&amp;(i=i.replace(_t,&quot;$1&quot;),f=(St.test(i)?&quot;&amp;&quot;:&quot;?&quot;)+&quot;_=&quot;+Tt.guid+++f),d.url=i+f),d.ifModified&amp;&amp;(w.lastModified[i]&amp;&amp;k.setRequestHeader(&quot;If-Modified-Since&quot;,w.lastModified[i]),w.etag[i]&amp;&amp;k.setRequestHeader(&quot;If-None-Match&quot;,w.etag[i])),(d.data&amp;&amp;d.hasContent&amp;&amp;!1!==d.contentType||n.contentType)&amp;&amp;k.setRequestHeader(&quot;Content-Type&quot;,d.contentType),k.setRequestHeader(&quot;Accept&quot;,d.dataTypes[0]&amp;&amp;d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(&quot;*&quot;!==d.dataTypes[0]?&quot;,
&quot;+Rt+&quot;;
q=0.01&quot;:&quot;&quot;):d.accepts[&quot;*&quot;]),d.headers)k.setRequestHeader(p,d.headers[p]);if(d.beforeSend&amp;&amp;(!1===d.beforeSend.call(h,k,d)||u))return
k.abort();if(x=&quot;abort&quot;,v.add(d.complete),k.done(d.success),k.fail(d.error),r=Ft(Dt,d,n,k)){if(k.readyState=1,l&amp;&amp;y.trigger(&quot;ajaxSend&quot;,[k,d]),u)return
k;d.async&amp;&amp;d.timeout&gt;0&amp;&amp;(s=e.setTimeout(function(){k.abort(&quot;timeout&quot;)},d.timeout));try{u=!1,r.send(T,O)}catch(e){if(u)throw
e;O(-1,e)}}else O(-1,&quot;No Transport&quot;);function O(t,n,o,c){var
p,f,m,T,S,x=n;u||(u=!0,s&amp;&amp;e.clearTimeout(s),r=void
0,a=c||&quot;&quot;,k.readyState=t&gt;0?4:0,p=t&gt;=200&amp;&amp;t&lt;300||304===t,o&amp;&amp;(T=function(e,t,n){for(var
r,i,a,o,s=e.contents,c=e.dataTypes;&quot;*&quot;===c[0];)c.shift(),void
0===r&amp;&amp;(r=e.mimeType||t.getResponseHeader(&quot;Content-Type&quot;));if(r)for(i
in s)if(s[i]&amp;&amp;s[i].test(r)){c.unshift(i);break}if(c[0]in
n)a=c[0];else{for(i in n){if(!c[0]||e.converters[i+&quot;
&quot;+c[0]]){a=i;break}o||(o=i)}a=a||o}if(a)return
a!==c[0]&amp;&amp;c.unshift(a),n[a]}(d,k,o)),!p&amp;&amp;w.inArray(&quot;script&quot;,d.dataTypes)&gt;-1&amp;&amp;(d.converters[&quot;text
script&quot;]=function(){}),T=function(e,t,n,r){var
i,a,o,s,c,u={},l=e.dataTypes.slice();if(l[1])for(o in
e.converters)u[o.toLowerCase()]=e.converters[o];for(a=l.shift();a;)if(e.responseFields[a]&amp;&amp;(n[e.responseFields[a]]=t),!c&amp;&amp;r&amp;&amp;e.dataFilter&amp;&amp;(t=e.dataFilter(t,e.dataType)),c=a,a=l.shift())if(&quot;*&quot;===a)a=c;else
if(&quot;*&quot;!==c&amp;&amp;c!==a){if(!(o=u[c+&quot; &quot;+a]||u[&quot;*
&quot;+a]))for(i in u)if((s=i.split(&quot;
&quot;))[1]===a&amp;&amp;(o=u[c+&quot; &quot;+s[0]]||u[&quot;*
&quot;+s[0]])){!0===o?o=u[i]:!0!==u[i]&amp;&amp;(a=s[0],l.unshift(s[1]));break}if(!0!==o)if(o&amp;&amp;e.throws)t=o(t);else
try{t=o(t)}catch(e){return{state:&quot;parsererror&quot;,error:o?e:&quot;No
conversion from &quot;+c+&quot; to
&quot;+a}}}return{state:&quot;success&quot;,data:t}}(d,T,k,p),p?(d.ifModified&amp;&amp;((S=k.getResponseHeader(&quot;Last-Modified&quot;))&amp;&amp;(w.lastModified[i]=S),(S=k.getResponseHeader(&quot;etag&quot;))&amp;&amp;(w.etag[i]=S)),204===t||&quot;HEAD&quot;===d.type?x=&quot;nocontent&quot;:304===t?x=&quot;notmodified&quot;:(x=T.state,f=T.data,p=!(m=T.error))):(m=x,!t&amp;&amp;x||(x=&quot;error&quot;,t&lt;0&amp;&amp;(t=0))),k.status=t,k.statusText=(n||x)+&quot;&quot;,p?g.resolveWith(h,[f,x,k]):g.rejectWith(h,[k,x,m]),k.statusCode(b),b=void
0,l&amp;&amp;y.trigger(p?&quot;ajaxSuccess&quot;:&quot;ajaxError&quot;,[k,d,p?f:m]),v.fireWith(h,[k,x]),l&amp;&amp;(y.trigger(&quot;ajaxComplete&quot;,[k,d]),--w.active||w.event.trigger(&quot;ajaxStop&quot;)))}return
k},getJSON:function(e,t,n){return w.get(e,t,n,&quot;json&quot;)},getScript:function(e,t){return
w.get(e,void
0,t,&quot;script&quot;)}}),w.each([&quot;get&quot;,&quot;post&quot;],function(e,t){w[t]=function(e,n,r,i){return
h(n)&amp;&amp;(i=i||r,r=n,n=void
0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&amp;&amp;e))}}),w.ajaxPrefilter(function(e){var
t;for(t in
e.headers)&quot;content-type&quot;===t.toLowerCase()&amp;&amp;(e.contentType=e.headers[t]||&quot;&quot;)}),w._evalUrl=function(e,t,n){return
w.ajax({url:e,type:&quot;GET&quot;,dataType:&quot;script&quot;,cache:!0,async:!1,global:!1,converters:{&quot;text
script&quot;:function(){}},dataFilter:function(e){w.globalEval(e,t,n)}})},w.fn.extend({wrapAll:function(e){var
t;return
this[0]&amp;&amp;(h(e)&amp;&amp;(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&amp;&amp;t.insertBefore(this[0]),t.map(function(){for(var
e=this;e.firstElementChild;)e=e.firstElementChild;return
e}).append(this)),this},wrapInner:function(e){return
h(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var
t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var
t=h(e);return
this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return
this.parent(e).not(&quot;body&quot;).each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return
new e.XMLHttpRequest}catch(e){}};var
Ht={0:200,1223:204},zt=w.ajaxSettings.xhr();d.cors=!!zt&amp;&amp;&quot;withCredentials&quot;in
zt,d.ajax=zt=!!zt,w.ajaxTransport(function(t){var
n,r;if(d.cors||zt&amp;&amp;!t.crossDomain)return{send:function(i,a){var
o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o
in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&amp;&amp;s.overrideMimeType&amp;&amp;s.overrideMimeType(t.mimeType),t.crossDomain||i[&quot;X-Requested-With&quot;]||(i[&quot;X-Requested-With&quot;]=&quot;XMLHttpRequest&quot;),i)s.setRequestHeader(o,i[o]);n=function(e){return
function(){n&amp;&amp;(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,&quot;abort&quot;===e?s.abort():&quot;error&quot;===e?&quot;number&quot;!=typeof
s.status?a(0,&quot;error&quot;):a(s.status,s.statusText):a(Ht[s.status]||s.status,s.statusText,&quot;text&quot;!==(s.responseType||&quot;text&quot;)||&quot;string&quot;!=typeof
s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n(&quot;error&quot;),void
0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&amp;&amp;e.setTimeout(function(){n&amp;&amp;r()})},n=n(&quot;abort&quot;);try{s.send(t.hasContent&amp;&amp;t.data||null)}catch(e){if(n)throw
e}},abort:function(){n&amp;&amp;n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&amp;&amp;(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:&quot;text/javascript,
application/javascript, application/ecmascript,
application/x-ecmascript&quot;},contents:{script:/\b(?:java|ecma)script\b/},converters:{&quot;text
script&quot;:function(e){return
w.globalEval(e),e}}}),w.ajaxPrefilter(&quot;script&quot;,function(e){void
0===e.cache&amp;&amp;(e.cache=!1),e.crossDomain&amp;&amp;(e.type=&quot;GET&quot;)}),w.ajaxTransport(&quot;script&quot;,function(e){var
t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=w(&quot;&lt;script&gt;&quot;).attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on(&quot;load
error&quot;,n=function(e){t.remove(),n=null,e&amp;&amp;i(&quot;error&quot;===e.type?404:200,e.type)}),m.head.appendChild(t[0])},abort:function(){n&amp;&amp;n()}}});var
$t,Bt=[],Wt=/(=)\?(?=&amp;|$)|\?\?/;w.ajaxSetup({jsonp:&quot;callback&quot;,jsonpCallback:function(){var
e=Bt.pop()||w.expando+&quot;_&quot;+Tt.guid++;return
this[e]=!0,e}}),w.ajaxPrefilter(&quot;json jsonp&quot;,function(t,n,r){var
i,a,o,s=!1!==t.jsonp&amp;&amp;(Wt.test(t.url)?&quot;url&quot;:&quot;string&quot;==typeof
t.data&amp;&amp;0===(t.contentType||&quot;&quot;).indexOf(&quot;application/x-www-form-urlencoded&quot;)&amp;&amp;Wt.test(t.data)&amp;&amp;&quot;data&quot;);if(s||&quot;jsonp&quot;===t.dataTypes[0])return
i=t.jsonpCallback=h(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Wt,&quot;$1&quot;+i):!1!==t.jsonp&amp;&amp;(t.url+=(St.test(t.url)?&quot;&amp;&quot;:&quot;?&quot;)+t.jsonp+&quot;=&quot;+i),t.converters[&quot;script
json&quot;]=function(){return o||w.error(i+&quot; was not
called&quot;),o[0]},t.dataTypes[0]=&quot;json&quot;,a=e[i],e[i]=function(){o=arguments},r.always(function(){void
0===a?w(e).removeProp(i):e[i]=a,t[i]&amp;&amp;(t.jsonpCallback=n.jsonpCallback,Bt.push(i)),o&amp;&amp;h(a)&amp;&amp;a(o[0]),o=a=void
0}),&quot;script&quot;}),d.createHTMLDocument=(($t=m.implementation.createHTMLDocument(&quot;&quot;).body).innerHTML=&quot;&lt;form&gt;&lt;/form&gt;&lt;form&gt;&lt;/form&gt;&quot;,2===$t.childNodes.length),w.parseHTML=function(e,t,n){return&quot;string&quot;!=typeof
e?[]:(&quot;boolean&quot;==typeof
t&amp;&amp;(n=t,t=!1),t||(d.createHTMLDocument?((r=(t=m.implementation.createHTMLDocument(&quot;&quot;)).createElement(&quot;base&quot;)).href=m.location.href,t.head.appendChild(r)):t=m),a=!n&amp;&amp;[],(i=A.exec(e))?[t.createElement(i[1])]:(i=be([e],t,a),a&amp;&amp;a.length&amp;&amp;w(a).remove(),w.merge([],i.childNodes)));var
r,i,a},w.fn.load=function(e,t,n){var r,i,a,o=this,s=e.indexOf(&quot;
&quot;);return
s&gt;-1&amp;&amp;(r=ht(e.slice(s)),e=e.slice(0,s)),h(t)?(n=t,t=void
0):t&amp;&amp;&quot;object&quot;===(void
0===t?&quot;undefined&quot;:_typeof(t))&amp;&amp;(i=&quot;POST&quot;),o.length&gt;0&amp;&amp;w.ajax({url:e,type:i||&quot;GET&quot;,dataType:&quot;html&quot;,data:t}).done(function(e){a=arguments,o.html(r?w(&quot;&lt;div&gt;&quot;).append(w.parseHTML(e)).find(r):e)}).always(n&amp;&amp;function(e,t){o.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},w.expr.pseudos.animated=function(e){return
w.grep(w.timers,function(t){return
e===t.elem}).length},w.offset={setOffset:function(e,t,n){var
r,i,a,o,s,c,u=w.css(e,&quot;position&quot;),l=w(e),p={};&quot;static&quot;===u&amp;&amp;(e.style.position=&quot;relative&quot;),s=l.offset(),a=w.css(e,&quot;top&quot;),c=w.css(e,&quot;left&quot;),(&quot;absolute&quot;===u||&quot;fixed&quot;===u)&amp;&amp;(a+c).indexOf(&quot;auto&quot;)&gt;-1?(o=(r=l.position()).top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(c)||0),h(t)&amp;&amp;(t=t.call(e,n,w.extend({},s))),null!=t.top&amp;&amp;(p.top=t.top-s.top+o),null!=t.left&amp;&amp;(p.left=t.left-s.left+i),&quot;using&quot;in
t?t.using.call(e,p):(&quot;number&quot;==typeof
p.top&amp;&amp;(p.top+=&quot;px&quot;),&quot;number&quot;==typeof
p.left&amp;&amp;(p.left+=&quot;px&quot;),l.css(p))}},w.fn.extend({offset:function(e){if(arguments.length)return
void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];return
r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void
0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if(&quot;fixed&quot;===w.css(r,&quot;position&quot;))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&amp;&amp;(e===n.body||e===n.documentElement)&amp;&amp;&quot;static&quot;===w.css(e,&quot;position&quot;);)e=e.parentNode;e&amp;&amp;e!==r&amp;&amp;1===e.nodeType&amp;&amp;((i=w(e).offset()).top+=w.css(e,&quot;borderTopWidth&quot;,!0),i.left+=w.css(e,&quot;borderLeftWidth&quot;,!0))}return{top:t.top-i.top-w.css(r,&quot;marginTop&quot;,!0),left:t.left-i.left-w.css(r,&quot;marginLeft&quot;,!0)}}},offsetParent:function(){return
this.map(function(){for(var e=this.offsetParent;e&amp;&amp;&quot;static&quot;===w.css(e,&quot;position&quot;);)e=e.offsetParent;return
e||ne})}}),w.each({scrollLeft:&quot;pageXOffset&quot;,scrollTop:&quot;pageYOffset&quot;},function(e,t){var
n=&quot;pageYOffset&quot;===t;w.fn[e]=function(r){return H(this,function(e,r,i){var
a;if(y(e)?a=e:9===e.nodeType&amp;&amp;(a=e.defaultView),void 0===i)return
a?a[t]:e[r];a?a.scrollTo(n?a.pageXOffset:i,n?i:a.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each([&quot;top&quot;,&quot;left&quot;],function(e,t){w.cssHooks[t]=ze(d.pixelPosition,function(e,n){if(n)return
n=He(e,t),Le.test(n)?w(e).position()[t]+&quot;px&quot;:n})}),w.each({Height:&quot;height&quot;,Width:&quot;width&quot;},function(e,t){w.each({padding:&quot;inner&quot;+e,content:t,&quot;&quot;:&quot;outer&quot;+e},function(n,r){w.fn[r]=function(i,a){var
o=arguments.length&amp;&amp;(n||&quot;boolean&quot;!=typeof
i),s=n||(!0===i||!0===a?&quot;margin&quot;:&quot;border&quot;);return H(this,function(t,n,i){var
a;return
y(t)?0===r.indexOf(&quot;outer&quot;)?t[&quot;inner&quot;+e]:t.document.documentElement[&quot;client&quot;+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body[&quot;scroll&quot;+e],a[&quot;scroll&quot;+e],t.body[&quot;offset&quot;+e],a[&quot;offset&quot;+e],a[&quot;client&quot;+e])):void
0===i?w.css(t,n,s):w.style(t,n,i,s)},t,o?i:void
0,o)}})}),w.each([&quot;ajaxStart&quot;,&quot;ajaxStop&quot;,&quot;ajaxComplete&quot;,&quot;ajaxError&quot;,&quot;ajaxSuccess&quot;,&quot;ajaxSend&quot;],function(e,t){w.fn[t]=function(e){return
this.on(t,e)}}),w.fn.extend({bind:function(e,t,n){return
this.on(e,null,t,n)},unbind:function(e,t){return
this.off(e,null,t)},delegate:function(e,t,n,r){return
this.on(t,e,n,r)},undelegate:function(e,t,n){return
1===arguments.length?this.off(e,&quot;**&quot;):this.off(t,e||&quot;**&quot;,n)},hover:function(e,t){return
this.mouseenter(e).mouseleave(t||e)}}),w.each(&quot;blur focus focusin focusout
resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout
mouseenter mouseleave change select submit keydown keypress keyup
contextmenu&quot;.split(&quot; &quot;),function(e,t){w.fn[t]=function(e,n){return
arguments.length&gt;0?this.on(t,null,e,n):this.trigger(t)}});var
Ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var
n,r,a;if(&quot;string&quot;==typeof t&amp;&amp;(n=e[t],t=e,e=n),h(e))return
r=i.call(arguments,2),(a=function(){return e.apply(t||this,r.concat(i.call(arguments)))}).guid=e.guid=e.guid||w.guid++,a},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=j,w.isFunction=h,w.isWindow=y,w.camelCase=W,w.type=b,w.now=Date.now,w.isNumeric=function(e){var
t=w.type(e);return(&quot;number&quot;===t||&quot;string&quot;===t)&amp;&amp;!isNaN(e-parseFloat(e))},w.trim=function(e){return
null==e?&quot;&quot;:(e+&quot;&quot;).replace(Ut,&quot;&quot;)},&quot;function&quot;==typeof
define&amp;&amp;define.amd&amp;&amp;define(&quot;jquery&quot;,[],function(){return
w});var Gt=e.jQuery,Xt=e.$;return w.noConflict=function(t){return
e.$===w&amp;&amp;(e.$=Xt),t&amp;&amp;e.jQuery===w&amp;&amp;(e.jQuery=Gt),w},void
0===t&amp;&amp;(e.jQuery=e.$=w),w}),define(&quot;jqueryplugins&quot;,[&quot;jquery&quot;],function(e){e.prototype.extend({popAttr:function(e){var
t=this.attr(e);return this.removeAttr(e),t},popData:function(e){var t=this.data(e);return
this.removeData(e),t},tag:function(){return
this[0]&amp;&amp;this[0].tagName&amp;&amp;this[0].tagName.toLowerCase()},textNodes:function(){var
e=arguments.length&gt;0&amp;&amp;void
0!==arguments[0]?arguments[0]:&quot;*&quot;;return 1===this.length&amp;&amp;this[0]instanceof
Text?[this[0]]:this.get().concat(this.contents().get(),this.find(e).contents().get()).filter(function(e,t,n){return
e instanceof Text&amp;&amp;n.indexOf(e)===t}).sort(function(e,t){return
2&amp;e.compareDocumentPosition(t)?1:-1})},findAndFilter:function(e){return this.filter(e).add(this.find(e))}})}),function(){var
e=void 0,t={};function n(){for(var e=0;e&lt;arguments.length;e++)for(var t in
arguments[e])this[t]=arguments[e][t]}function
r(e,t){e.childAt=e.childAt||{};for(var
n=t.start;n&lt;t.end;n+=1)e.childAt[n]=t}function i(e,t,n,r){return!(e.canFollow&amp;&amp;!(e.canFollow.indexOf(n&amp;&amp;n.type)&gt;-1)||e.cannotFollow&amp;&amp;(-1!==e.cannotFollow.indexOf(n&amp;&amp;n.type)||e.cannotFollow.indexOf(&quot;text&quot;)&gt;-1&amp;&amp;r)||e.peek&amp;&amp;e.peek.toLowerCase()!==t.slice(0,e.peek.length).toLowerCase())}function
a(e){for(var n=e.innerText,r=[],a=0,s=a,c=n.length,u=null;a&lt;c;){for(var
l=n.slice(a),p=(r.length?r[0]:e).innerMode,f=0,d=p.length;f&lt;d;f+=1){var
h=t[p[f]];if(i(h,l,u,s&lt;a)&amp;&amp;h.pattern.test(l)){var
y=h.pattern.exec(l),m=h.fn(y),g=!1,v=0;if(m.matches){for(;v&lt;r.length;v+=1){var
b=r[v].type;if(b in
m.matches){g=!0;break}0===b.indexOf(&quot;verbatim&quot;)&amp;&amp;(b=&quot;verbatimOpener&quot;),m.cannotCross&amp;&amp;m.cannotCross.indexOf(b)&gt;-1&amp;&amp;(v=r.length-1)}if(v&gt;=r.length&amp;&amp;!m.isFront)continue}s&lt;a&amp;&amp;e.addChild({type:&quot;text&quot;,text:n.slice(s,a),innerMode:p}),s=a+=(u=e.addChild(m)).text.length,g&amp;&amp;(o(e,u,r[v]),r=r.slice(v+1)),u.isFrontToken()&amp;&amp;r.unshift(u);break}}f===d&amp;&amp;(a+=1,null===u&amp;&amp;(u={type:&quot;text&quot;}))}for(s&lt;a&amp;&amp;e.addChild({type:&quot;text&quot;,text:n.slice(s,a),innerMode:(r.length?r[0]:e).innerMode});r.length&gt;0;)r.shift().demote();return
e}function o(e,t,n){var
i=e.children.indexOf(t),a=e.children.indexOf(n);t.children=e.children.splice(a+1,i-(a+1)),t.children.forEach(function(e){r(t,e)}),t.type=t.matches[n.type],t.innerText=&quot;&quot;;for(var
o=0,s=t.children.length;o&lt;s;o++)t.innerText+=t.children[o].text;t.start=n.start,t.text=n.text+t.innerText+t.text,Object.keys(n).forEach(function(e){Object.hasOwnProperty.call(t,e)||(t[e]=n[e])}),t.isFront&amp;&amp;(t.isFront=!1),e.children.splice(a,1),r(e,t)}n.prototype={constructor:n,addChild:function(e){var
t=this.lastChildEnd(),i=new
n({start:t,end:e.text&amp;&amp;t+e.text.length,children:[]},e);return
i.innerText&amp;&amp;a(i),this.children.push(i),r(this,i),i},firstChild:function(){return
this.children&amp;&amp;this.children[0]||null},lastChild:function(){return
this.children&amp;&amp;this.children[this.children.length-1]||null},lastChildEnd:function(){var
e=this.lastChild();return
e?e.end:this.start+Math.max(0,this.text.indexOf(this.innerText))},tokenAt:function(e){if(e&lt;this.start||e&gt;=this.end)return
null;if(this.childAt)return this.childAt[e]&amp;&amp;this.childAt[e].tokenAt(e)||this;if(this.children.length)for(var
t=0;t&lt;this.children.length;t+=1){var
n=this.children[t].tokenAt(e);if(n)return n}return
this},pathAt:function(e){if(e&lt;this.start||e&gt;=this.end)return[];if(this.childAt)return(this.childAt[e]&amp;&amp;this.childAt[e].pathAt(e)||[]).concat(this);var
t=[];if(this.children.length)for(var n=0;n&lt;this.children.length;n+=1){var
r=this.children[n].pathAt(e);if(r.length){t.concat(r);break}}return
t.concat(this)},nearestTokenAt:function(e){return e&lt;this.start||e&gt;=this.end?null:this.children?this.children.reduce(function(t,n){return
t||(e&gt;=n.start&amp;&amp;e&lt;n.end?n:null)},null):this},everyLeaf:function(e){return
this.children&amp;&amp;0!==this.children.length?this.children.reduce(function(t,n){return
t&amp;&amp;n.everyLeaf(e)},!0):!!e(this)},isWhitespace:function(){return
this.everyLeaf(function(e){return&quot;whitespace&quot;===e.type||!e.text.trim()})},isFrontToken:function(){return
this.isFront},isBackToken:function(){return&quot;matches&quot;in
this},demote:function(){this.type=&quot;text&quot;},error:function(e){this.type=&quot;error&quot;,this.message=e},toString:function(){var
e=this.type+&quot;(&quot;+this.start+&quot;\u2192&quot;+this.end+&quot;)&quot;;return
this.children&amp;&amp;this.children.length&gt;0&amp;&amp;(e+=&quot;[&quot;+this.children+&quot;]&quot;),e}},e={lex:function(t,r){var
i=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]?arguments[2]:&quot;start&quot;;return
a(new
n({type:&quot;root&quot;,start:r||0,end:t.length,text:t,innerText:t,children:[],childAt:{},innerMode:e.modes[i]}))},rules:t,modes:{}},&quot;object&quot;===(&quot;undefined&quot;==typeof
module?&quot;undefined&quot;:_typeof(module))?module.exports=e:&quot;function&quot;==typeof
define&amp;&amp;define.amd?define(&quot;lexer&quot;,[],function(){return
e}):this&amp;&amp;this.loaded?(this.modules||(this.modules={}),this.modules.Lexer=e):this.TwineLexer=e}.call(eval(&quot;this&quot;)||(&quot;undefined&quot;!=typeof
global?global:window)),function(){var e;function t(e){return
e&amp;&amp;&quot;object&quot;===(void
0===e?&quot;undefined&quot;:_typeof(e))?(Object.keys(e).forEach(function(n){e[n]=t(e[n])}),e):(e+&quot;&quot;).replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,&quot;\\$&amp;&quot;)}function
n(e){return function(){return&quot;(&quot;+e+Array.apply(0,arguments).join(&quot;|&quot;)+&quot;)&quot;}}var
r=n(&quot;?:&quot;),i=n(&quot;?!&quot;),a=n(&quot;?=&quot;),o=&quot;[
\\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*&quot;,s=o.replace(&quot;*&quot;,&quot;+&quot;),c=&quot;\\b&quot;,u=&quot;[\\w\\-\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]&quot;,l=u.replace(&quot;\\-&quot;,&quot;&quot;),p=r(&quot;\\n&quot;,&quot;$&quot;),f=o+&quot;(\\*+)&quot;+s,d=o+&quot;((?:0\\.)+)&quot;+s,h=o+&quot;-{3,}&quot;+o+p,y=o+&quot;(==+&gt;|&lt;=+|=+&gt;&lt;=+|&lt;==+&gt;)&quot;+o+p,m=o+&quot;(=+\\|+|\\|+=+|=+\\|+=+|\\|=+\\|)&quot;+o+p,g={opener:&quot;\\[\\[(?!\\[)&quot;,text:&quot;(&quot;+function(){return&quot;[^&quot;+Array.apply(0,arguments).map(t).join(&quot;&quot;)+&quot;]*&quot;}(&quot;]&quot;)+&quot;)&quot;,rightSeparator:r(&quot;\\-&gt;&quot;,&quot;\\|&quot;),leftSeparator:&quot;&lt;\\-&quot;,closer:&quot;\\]\\]&quot;,legacySeparator:&quot;\\|&quot;,legacyText:&quot;(&quot;+r(&quot;[^\\|\\]]&quot;,&quot;\\]&quot;+i(&quot;\\]&quot;))+&quot;+)&quot;},v=l+&quot;*&quot;+l.replace(&quot;\\w&quot;,&quot;a-zA-Z&quot;)+l+&quot;*&quot;,b=&quot;\\$(&quot;+v+&quot;)&quot;,w=&quot;_(&quot;+v+&quot;)&quot;,T=&quot;'s&quot;+s+&quot;(&quot;+v+&quot;)&quot;,S=&quot;(&quot;+v+&quot;)&quot;+s+&quot;of&quot;+c+i(&quot;it\\b&quot;),x=&quot;'s&quot;+s,k=r(&quot;it&quot;,&quot;time&quot;,&quot;visits?&quot;,&quot;exits?&quot;,&quot;pos&quot;)+c,O=&quot;its&quot;+s+&quot;(&quot;+v+&quot;)&quot;,j=&quot;its&quot;+s,A=&quot;(&quot;+v+&quot;)&quot;+s+&quot;of&quot;+s+&quot;it&quot;+c,C=&quot;of\\b&quot;+s+&quot;it&quot;+c,E={opener:&quot;\\(&quot;,name:&quot;(&quot;+r(&quot;\\$&quot;,&quot;_&quot;)+&quot;?&quot;+u+&quot;+):&quot;+i(&quot;\\/&quot;),closer:&quot;\\)&quot;},_=r(&quot;=&lt;&quot;,&quot;=&gt;&quot;,&quot;[gl]te?\\b&quot;,&quot;n?eq\\b&quot;,&quot;isnot\\b&quot;,&quot;are\\b&quot;,&quot;x\\b&quot;,&quot;isa\\b&quot;,&quot;or&quot;+s+&quot;a&quot;+c),N=&quot;[a-zA-Z][\\w\\-]*&quot;,P=&quot;(?:\&quot;[^\&quot;]*\&quot;|'[^']*'|[^'\&quot;&gt;])*?&quot;,I=&quot;\\|(&quot;+u+&quot;+)(&gt;|\\))&quot;,M=&quot;(&lt;|\\()(&quot;+u+&quot;+)\\|&quot;,D=&quot;\\b(\\d+(?:\\.\\d+)?(?:[eE][+\\-]?\\d+)?)&quot;+i(&quot;m?s&quot;)+c;g.main=g.opener+r(g.text+g.rightSeparator,g.text.replace(&quot;*&quot;,&quot;*?&quot;)+g.leftSeparator)+g.text,e={upperLetter:&quot;[A-Z\\u00c0-\\u00de\\u0150\\u0170]&quot;,lowerLetter:&quot;[a-z0-9_\\-\\u00df-\\u00ff\\u0151\\u0171]&quot;,anyLetter:u,anyLetterStrict:l,whitespace:s,escapedLine:&quot;\\\\\\n\\\\?|\\n\\\\&quot;,br:&quot;\\n(?!\\\\)&quot;,commentFront:&quot;\x3c!--&quot;,commentBack:&quot;--\x3e&quot;,tag:&quot;&lt;\\/?&quot;+N+P+&quot;&gt;&quot;,tagPeek:&quot;&lt;&quot;,scriptStyleTag:&quot;&lt;(&quot;+r(&quot;script&quot;,&quot;style&quot;,&quot;textarea&quot;)+&quot;)&quot;+P+&quot;&gt;[^]*?&lt;\\/\\1&gt;&quot;,scriptStyleTagOpener:&quot;&lt;&quot;,url:&quot;(&quot;+r(&quot;https?&quot;,&quot;mailto&quot;,&quot;javascript&quot;,&quot;ftp&quot;,&quot;data&quot;)+&quot;:\\/\\/[^\\s&lt;]+[^&lt;.,:;\&quot;')\\]\\s])&quot;,bullet:&quot;\\*&quot;,hr:h,heading:&quot;[
\\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*(#{1,6})[
\\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*&quot;,align:y,column:m,bulleted:f,numbered:d,strikeOpener:t(&quot;~~&quot;),italicOpener:t(&quot;//&quot;),boldOpener:t(&quot;''&quot;),supOpener:t(&quot;^^&quot;),strongFront:t(&quot;**&quot;),strongBack:t(&quot;**&quot;),emFront:t(&quot;*&quot;),emBack:t(&quot;*&quot;),verbatimOpener:&quot;`+&quot;,collapsedFront:&quot;{&quot;,collapsedBack:&quot;}&quot;,hookAppendedFront:&quot;\\[&quot;+i(&quot;=+&quot;),hookPrependedFront:I+&quot;\\[&quot;+i(&quot;=+&quot;),hookFront:&quot;\\[&quot;+i(&quot;=+&quot;),hookBack:&quot;\\]&quot;+i(M),hookAppendedBack:&quot;\\]&quot;+M,unclosedHook:&quot;\\[=+&quot;,unclosedHookPrepended:I+&quot;\\[=+&quot;,unclosedCollapsed:&quot;\\{=+&quot;,passageLink:g.main+g.closer,passageLinkPeek:&quot;[[&quot;,legacyLink:g.opener+g.legacyText+g.legacySeparator+g.legacyText+g.closer,legacyLinkPeek:&quot;[[&quot;,simpleLink:g.opener+g.legacyText+g.closer,simpleLinkPeek:&quot;[[&quot;,macroFront:E.opener+a(E.name),macroFrontPeek:&quot;(&quot;,macroName:E.name,groupingFront:&quot;\\(&quot;+i(E.name),groupingFrontPeek:&quot;(&quot;,groupingBack:&quot;\\)&quot;,twine1Macro:&quot;&lt;&lt;[^&gt;\\s]+\\s*(?:\\\\.|'(?:[^'\\\\]*\\\\.)*[^'\\\\]*'|\&quot;(?:[^\&quot;\\\\]*\\\\.)*[^\&quot;\\\\]*\&quot;|[^'\&quot;\\\\&gt;]|&gt;(?!&gt;))*&gt;&gt;&quot;,twine1MacroPeek:&quot;&lt;&lt;&quot;,validPropertyName:v,property:T,propertyPeek:&quot;'s&quot;,belongingProperty:S,possessiveOperator:x,belongingOperator:&quot;of\\b&quot;,belongingOperatorPeek:&quot;of&quot;,itsOperator:j,itsOperatorPeek:&quot;its&quot;,belongingItOperator:C,belongingItOperatorPeek:&quot;of&quot;,variable:b,variablePeek:&quot;$&quot;,tempVariable:w,tempVariablePeek:&quot;_&quot;,hookName:&quot;\\?(&quot;+u+&quot;+)\\b&quot;,hookNamePeek:&quot;?&quot;,cssTime:&quot;(\\d+\\.?\\d*|\\d*\\.?\\d+)(m?s)\\b&quot;,colour:r(r(&quot;Red&quot;,&quot;Orange&quot;,&quot;Yellow&quot;,&quot;Lime&quot;,&quot;Green&quot;,&quot;Cyan&quot;,&quot;Aqua&quot;,&quot;Blue&quot;,&quot;Navy&quot;,&quot;Purple&quot;,&quot;Fuchsia&quot;,&quot;Magenta&quot;,&quot;White&quot;,&quot;Gray&quot;,&quot;Grey&quot;,&quot;Black&quot;,&quot;Transparent&quot;),&quot;#[\\dA-Fa-f]{3}(?:[\\dA-Fa-f]{3})?&quot;),datatype:r(&quot;alnum&quot;,&quot;alphanumeric&quot;,&quot;any(?:case)?&quot;,&quot;array&quot;,&quot;bool(?:ean)?&quot;,&quot;changer&quot;,&quot;colou?r&quot;,&quot;const&quot;,&quot;command&quot;,&quot;dm&quot;,&quot;data&quot;+r(&quot;map&quot;,&quot;type&quot;,&quot;set&quot;),&quot;ds&quot;,&quot;digit&quot;,&quot;gradient&quot;,&quot;empty&quot;,&quot;even&quot;,&quot;int&quot;+i(&quot;o&quot;)+&quot;(?:eger)?&quot;,&quot;lambda&quot;,&quot;lowercase&quot;,&quot;macro&quot;,&quot;linebreak&quot;,&quot;num(?:ber)?&quot;,&quot;odd&quot;,&quot;str(?:ing)?&quot;,&quot;uppercase&quot;,&quot;whitespace&quot;)+c,number:D,boolean:r(&quot;true&quot;,&quot;false&quot;)+c,identifier:k,itsProperty:O,itsPropertyPeek:&quot;its&quot;,belongingItProperty:A,escapedStringChar:&quot;\\\\[^\\n]&quot;,singleStringOpener:&quot;'&quot;,doubleStringOpener:'&quot;',singleStringCloser:&quot;'&quot;,doubleStringCloser:'&quot;',is:&quot;is&quot;+i(s+&quot;not&quot;+c,s+&quot;an?&quot;+c,s+&quot;in&quot;+c,s+&quot;&lt;&quot;,s+&quot;&gt;&quot;)+c,isNot:&quot;is&quot;+s+&quot;not&quot;+i(s+r(&quot;an?&quot;,&quot;in&quot;)+c)+c,isA:&quot;is&quot;+s+&quot;an?&quot;+c,isNotA:&quot;is&quot;+s+&quot;not&quot;+s+&quot;an?&quot;+c,matches:&quot;matches\\b&quot;,doesNotMatch:&quot;does&quot;+s+&quot;not&quot;+s+&quot;match&quot;+c,and:&quot;and\\b&quot;,or:&quot;or\\b&quot;,not:&quot;not\\b&quot;,inequality:&quot;((?:is(?:&quot;+s+&quot;not)?&quot;+o+&quot;)*)(&quot;+r(&quot;&lt;(?!=)&quot;,&quot;&lt;=&quot;,&quot;&gt;(?!=)&quot;,&quot;&gt;=&quot;)+&quot;)&quot;,isIn:&quot;is&quot;+s+&quot;in&quot;+c,contains:&quot;contains\\b&quot;,doesNotContain:&quot;does&quot;+s+&quot;not&quot;+s+&quot;contain&quot;+c,isNotIn:&quot;is&quot;+s+&quot;not&quot;+s+&quot;in&quot;+c,addition:t(&quot;+&quot;)+i(&quot;=&quot;),subtraction:t(&quot;-&quot;)+i(&quot;=&quot;,&quot;type&quot;),multiplication:t(&quot;*&quot;)+i(&quot;=&quot;),division:r(&quot;/&quot;,&quot;%&quot;)+i(&quot;=&quot;),comma:&quot;,&quot;,spread:&quot;\\.\\.\\.&quot;+i(&quot;\\.&quot;),to:r(&quot;to\\b&quot;,&quot;=&quot;),into:&quot;into\\b&quot;,making:&quot;making\\b&quot;,where:&quot;where\\b&quot;,when:&quot;when\\b&quot;,via:&quot;via\\b&quot;,each:&quot;each\\b&quot;,augmentedAssign:r(&quot;\\+&quot;,&quot;\\-&quot;,&quot;\\*&quot;,&quot;\\/&quot;,&quot;%&quot;)+&quot;=&quot;,bind:&quot;2?bind\\b&quot;,typeSignature:t(&quot;-type&quot;)+c,incorrectOperator:_},&quot;object&quot;===(&quot;undefined&quot;==typeof
module?&quot;undefined&quot;:_typeof(module))?module.exports=e:&quot;function&quot;==typeof
define&amp;&amp;define.amd?define(&quot;patterns&quot;,[],function(){return
e}):this&amp;&amp;this.loaded?(this.modules||(this.modules={}),this.modules.Patterns=e):this.Patterns=e}.call(eval(&quot;this&quot;)||(&quot;undefined&quot;!=typeof
global?global:window)),function(){var e=void
0;Object.assign=Object.assign||function(e){for(var
t=1;t&lt;arguments.length;t++){var n=arguments[t];for(var r in
n)Object.hasOwnProperty.call(n,r)&amp;&amp;(e[r]=n[r])}return e};var
t=Object.keys,n=Object.assign;function r(r){return
Object.freeze({lex:function(r){function i(e){return
e=e||&quot;innerText&quot;,function(t){var
n=t.reduceRight(function(e,t,n){return
e||(n?t:&quot;&quot;)},&quot;&quot;),r={};return r[e]=n,r}}function a(e,t){var
n={};return n[e]=t,function(){return{isFront:!0,matches:n,cannotCross:[&quot;verbatimOpener&quot;]}}}var
o=Object.bind(0,null);function s(e,t){return
Object.keys(t).forEach(function(n){var r=t[n].fn;t[n].fn=function(t){var
i=r(t);return
i.text||(i.text=t[0]),i.type||(i.type=n),i.innerMode||(i.innerMode=e),i}}),t}var
c=[],u=[],l=[],p=s(c,{hr:{fn:o},bulleted:{fn:function(e){return{depth:e[1].length}}},numbered:{fn:function(e){return{depth:e[1].length/2}}},heading:{fn:function(e){return{depth:e[1].length}}},align:{fn:function(e){var
t=void 0,n=e[1],r=n.indexOf(&quot;&gt;&lt;&quot;);return~r?25===(t=Math.round(r/(n.length-2)*50))&amp;&amp;(t=&quot;center&quot;):&quot;&lt;&quot;===n[0]&amp;&amp;&quot;&gt;&quot;===n.slice(-1)?t=&quot;justify&quot;:n.indexOf(&quot;&gt;&quot;)&gt;-1?t=&quot;right&quot;:n.indexOf(&quot;&lt;&quot;)&gt;-1&amp;&amp;(t=&quot;left&quot;),{align:t}}},column:{fn:function(e){var
t=void 0,n=e[1],r=n.indexOf(&quot;|&quot;);return
r&amp;&amp;r&lt;n.length-1?t=&quot;center&quot;:&quot;|&quot;===n[0]&amp;&amp;&quot;|&quot;===n.slice(-1)?t=&quot;none&quot;:r===n.length-1?t=&quot;right&quot;:r||(t=&quot;left&quot;),{column:t,width:/\|+/.exec(n)[0].length,marginLeft:/^=*/.exec(n)[0].length,marginRight:/=*$/.exec(n)[0].length}}}});t(p).forEach(function(e){p[e].canFollow=[null,&quot;br&quot;,&quot;hr&quot;,&quot;bulleted&quot;,&quot;numbered&quot;,&quot;heading&quot;,&quot;align&quot;,&quot;column&quot;,&quot;escapedLine&quot;],p[e].cannotFollow=[&quot;text&quot;]});var
f=s(c,{twine1Macro:{fn:function(){return{type:&quot;error&quot;,message:&quot;Harlowe
macros use a different syntax to Twine 1, SugarCube, and Yarn
macros.&quot;}}},emBack:{fn:function(){return{matches:{emFront:&quot;em&quot;},cannotCross:[&quot;verbatimOpener&quot;]}}},strongBack:{fn:function(){return{matches:{strongFront:&quot;strong&quot;},cannotCross:[&quot;verbatimOpener&quot;]}}},strongFront:{fn:function(){return{isFront:!0}}},emFront:{fn:function(){return{isFront:!0}}},boldOpener:{fn:a(&quot;boldOpener&quot;,&quot;bold&quot;)},italicOpener:{fn:a(&quot;italicOpener&quot;,&quot;italic&quot;)},strikeOpener:{fn:a(&quot;strikeOpener&quot;,&quot;strike&quot;)},supOpener:{fn:a(&quot;supOpener&quot;,&quot;sup&quot;)},commentFront:{fn:function(){return{isFront:!0}}},commentBack:{fn:function(){return{matches:{commentFront:&quot;comment&quot;}}}},scriptStyleTag:{fn:o},tag:{fn:o},url:{fn:o},hookPrependedFront:{fn:function(e){return{name:e[1],hidden:&quot;)&quot;===e[2],isFront:!0,tagPosition:&quot;prepended&quot;}}},hookFront:{fn:function(){return{isFront:!0}}},hookBack:{fn:function(){return{matches:{hookPrependedFront:&quot;hook&quot;,hookFront:&quot;hook&quot;},cannotCross:[&quot;verbatimOpener&quot;]}}},hookAppendedBack:{fn:function(e){return{name:e[2],hidden:&quot;(&quot;===e[1],tagPosition:&quot;appended&quot;,matches:{hookFront:&quot;hook&quot;},cannotCross:[&quot;verbatimOpener&quot;]}}},unclosedHook:{fn:o},unclosedHookPrepended:{fn:function(e){return{type:&quot;unclosedHook&quot;,name:e[1],hidden:&quot;)&quot;===e[2]}}},verbatimOpener:{fn:function(e){var
t=e[0].length,n={};return
n[&quot;verbatim&quot;+t]=&quot;verbatim&quot;,{type:&quot;verbatim&quot;+t,isFront:!0,matches:n}}},unclosedCollapsed:{fn:o},collapsedFront:{fn:function(){return{isFront:!0}}},collapsedBack:{fn:function(){return{matches:{collapsedFront:&quot;collapsed&quot;},cannotCross:[&quot;verbatimOpener&quot;]}}},escapedLine:{fn:o},legacyLink:{fn:function(e){return{type:&quot;twineLink&quot;,innerText:e[1],passage:e[2],innerMode:c}}},br:{fn:o}}),d=n(s(u,{macroFront:{fn:function(e){return{isFront:!0,name:e[1]}}},groupingBack:{fn:function(){return{matches:{groupingFront:&quot;grouping&quot;,macroFront:&quot;macro&quot;},cannotCross:[&quot;singleStringOpener&quot;,&quot;doubleStringOpener&quot;]}}},passageLink:{fn:function(e){var
t=e[1]||&quot;&quot;,n=e[2]||&quot;&quot;,r=e[3]||&quot;&quot;;return{type:&quot;twineLink&quot;,innerText:n?r:t,passage:t?r:n,innerMode:c}}},simpleLink:{fn:function(e){return{type:&quot;twineLink&quot;,innerText:e[1]||&quot;&quot;,passage:e[1]||&quot;&quot;,innerMode:c}}},variable:{cannotFollow:[&quot;macroFront&quot;],fn:i(&quot;name&quot;)},tempVariable:{cannotFollow:[&quot;macroFront&quot;],fn:i(&quot;name&quot;)}}),{hookFront:f.hookFront,hookBack:f.hookBack}),h=s(u,n({macroName:{canFollow:[&quot;macroFront&quot;],fn:i(&quot;name&quot;)},groupingFront:{fn:function(){return{isFront:!0}}},property:{fn:i(&quot;name&quot;),canFollow:[&quot;variable&quot;,&quot;hookName&quot;,&quot;property&quot;,&quot;tempVariable&quot;,&quot;colour&quot;,&quot;itsProperty&quot;,&quot;belongingItProperty&quot;,&quot;macro&quot;,&quot;grouping&quot;,&quot;string&quot;,&quot;datatype&quot;,&quot;hook&quot;,&quot;boolean&quot;,&quot;number&quot;]},possessiveOperator:{fn:o},itsProperty:{cannotFollow:[&quot;text&quot;],fn:i(&quot;name&quot;)},itsOperator:{cannotFollow:[&quot;text&quot;],fn:o},belongingItProperty:{cannotFollow:[&quot;text&quot;],fn:i(&quot;name&quot;)},belongingItOperator:{cannotFollow:[&quot;text&quot;],fn:o},belongingProperty:{cannotFollow:[&quot;text&quot;],fn:i(&quot;name&quot;)},belongingOperator:{cannotFollow:[&quot;text&quot;],fn:o},escapedStringChar:{fn:function(){return{type:&quot;text&quot;}}},singleStringOpener:{fn:function(){return{isFront:!0,matches:{singleStringOpener:&quot;string&quot;},innerMode:l}}},doubleStringOpener:{fn:function(){return{isFront:!0,matches:{doubleStringOpener:&quot;string&quot;},innerMode:l}}},hookName:{fn:i(&quot;name&quot;)},cssTime:{fn:function(e){return{value:+e[1]*(&quot;s&quot;===e[2].toLowerCase()?1e3:1)}}},datatype:{cannotFollow:[&quot;text&quot;],fn:function(e){return{name:e[0].toLowerCase()}}},colour:{cannotFollow:[&quot;text&quot;],fn:function(e){var
t=e[0].toLowerCase(),n={red:&quot;e61919&quot;,orange:&quot;e68019&quot;,yellow:&quot;e5e619&quot;,lime:&quot;80e619&quot;,green:&quot;19e619&quot;,cyan:&quot;19e5e6&quot;,aqua:&quot;19e5e6&quot;,blue:&quot;197fe6&quot;,navy:&quot;1919e6&quot;,purple:&quot;7f19e6&quot;,fuchsia:&quot;e619e5&quot;,magenta:&quot;e619e5&quot;,white:&quot;fff&quot;,black:&quot;000&quot;,gray:&quot;888&quot;,grey:&quot;888&quot;};return{colour:Object.hasOwnProperty.call(n,t)?&quot;#&quot;+n[t]:t}}},number:{fn:function(e){return{value:parseFloat(e[0])}}},inequality:{fn:function(e){return{operator:e[2],negate:e[1].indexOf(&quot;not&quot;)&gt;-1}}},augmentedAssign:{fn:function(e){return{operator:e[0][0]}}},identifier:{fn:i(&quot;name&quot;),cannotFollow:[&quot;text&quot;]},whitespace:{fn:o,cannotFollow:&quot;text&quot;},incorrectOperator:{fn:function(e){var
t={&quot;=&gt;&quot;:&quot;&gt;=&quot;,&quot;=&lt;&quot;:&quot;&lt;=&quot;,gte:&quot;&gt;=&quot;,lte:&quot;&lt;=&quot;,gt:&quot;&gt;&quot;,lt:&quot;&lt;&quot;,eq:&quot;is&quot;,isnot:&quot;is
not&quot;,neq:&quot;is not&quot;,isa:&quot;is
a&quot;,are:&quot;is&quot;,x:&quot;*&quot;,&quot;or
a&quot;:&quot;or&quot;}[e[0].toLowerCase().replace(/\s+/g,&quot; &quot;)];return{type:&quot;error&quot;,message:&quot;Please
say &quot;+(t?&quot;'&quot;+t+&quot;'&quot;:&quot;something else&quot;)+&quot;
instead of '&quot;+e[0]+&quot;'.&quot;,explanation:&quot;In the interests of
readability, I want certain operators to be in a specific
form.&quot;}},cannotFollow:&quot;text&quot;}},[&quot;boolean&quot;,&quot;is&quot;,&quot;to&quot;,&quot;into&quot;,&quot;where&quot;,&quot;when&quot;,&quot;via&quot;,&quot;making&quot;,&quot;each&quot;,&quot;and&quot;,&quot;or&quot;,&quot;not&quot;,&quot;isNot&quot;,&quot;contains&quot;,&quot;doesNotContain&quot;,&quot;isIn&quot;,&quot;isA&quot;,&quot;isNotA&quot;,&quot;isNotIn&quot;,&quot;matches&quot;,&quot;doesNotMatch&quot;,&quot;bind&quot;].reduce(function(e,t){return
e[t]={fn:o,cannotFollow:[&quot;text&quot;]},e},{}),[&quot;comma&quot;,&quot;spread&quot;,&quot;typeSignature&quot;,&quot;addition&quot;,&quot;subtraction&quot;,&quot;multiplication&quot;,&quot;division&quot;].reduce(function(e,t){return
e[t]={fn:o},e},{}))),y=s(l,{singleStringCloser:h.singleStringOpener,doubleStringCloser:h.doubleStringOpener,escapedStringChar:h.escapedStringChar});c.push.apply(c,_toConsumableArray(t(p)).concat(_toConsumableArray(t(d)),_toConsumableArray(t(f)))),u.push.apply(u,_toConsumableArray(t(d)).concat(_toConsumableArray(t(h)))),l.push.apply(l,_toConsumableArray(t(y)));var
m=n({},p,f,d,h,y);t(m).forEach(function(t){var n=e[t];m[t].pattern=&quot;string&quot;!=typeof
n?n:RegExp(&quot;^(?:&quot;+n+&quot;)&quot;,&quot;i&quot;),e[t+&quot;Peek&quot;]&amp;&amp;(m[t].peek=e[t+&quot;Peek&quot;])}),n(r.rules,m);var
g=r.modes;return
g.start=g.markup=c,g.macro=u,g.string=l,r}(r).lex,Patterns:e})}&quot;object&quot;===(&quot;undefined&quot;==typeof
module?&quot;undefined&quot;:_typeof(module))?(e=require(&quot;./patterns&quot;),module.exports=r(require(&quot;./lexer&quot;))):&quot;function&quot;==typeof
define&amp;&amp;define.amd?define(&quot;markup&quot;,[&quot;lexer&quot;,&quot;patterns&quot;],function(t,n){return
e=n,r(t)}):this&amp;&amp;this.loaded&amp;&amp;this.modules?(e=this.modules.Patterns,this.modules.Markup=r(this.modules.Lexer)):(e=this.Patterns,this.TwineMarkup=r(this.TwineLexer))}.call(eval(&quot;this&quot;)||(&quot;undefined&quot;!=typeof
global?global:window)),define(&quot;utils/polyfills&quot;,[],function(){var
e=Array.prototype;&quot;function&quot;!=typeof e.includes&amp;&amp;(e.includes=function(t){var
n=arguments.length&gt;1&amp;&amp;void
0!==arguments[1]?arguments[1]:0;if(!Number.isNaN(t)&amp;&amp;Number.isFinite(n)&amp;&amp;void
0!==t)return e.indexOf.call(this,t,n)&gt;-1;var
r=Object(this),i=parseInt(r.length);if(i&lt;=0)return!1;for(var
a=n&gt;=0?n:Math.max(0,i+n);a&lt;i;){if(Object.is(t,r[a]))return!0;a+=1}return!1}),!window.Symbol&amp;&amp;(window.Symbol={iterator:&quot;_es6-shim
iterator_&quot;})}),define(&quot;utils&quot;,[&quot;jquery&quot;,&quot;markup&quot;,&quot;utils/polyfills&quot;],function(e){var
t=String.fromCharCode,n=&quot;audio,blockquote,canvas,div,h1,h2,h3,h4,h5,hr,ol,p,pre,table,ul,video,tw-align,tw-story,tw-passage,tw-sidebar,tw-columns,tw-column,tw-meter&quot;.split(&quot;,&quot;),r=&quot;a,b,i,em,strong,sup,sub,abbr,acronym,s,strike,del,big,small,script,img,button,input,tw-link,tw-broken-link,tw-verbatim,tw-collapsed,tw-error,tw-colour,tw-icon&quot;.split(&quot;,&quot;),i=[&quot;audio&quot;],a=[function(e){return
t(e)!==t(e).toLowerCase()},function(e){return
t(e)!==t(e).toUpperCase()},function(e){return
t(e).toLowerCase()!==t(e).toUpperCase()}].map(function(e){return&quot;[&quot;+Array.from(Array(57343)).map(function(e,t){return
t}).filter(e).map(function(e,n,r){return
e===r[n-1]+1&amp;&amp;e===r[n+1]-1?&quot;-&quot;:t(e)}).join(&quot;&quot;).replace(/\-+/g,&quot;-&quot;)+&quot;]&quot;}),o=_slicedToArray(a,3),s=o[0],c=o[1],u=o[2];function
l(e){return&quot;instant&quot;===e?0:800}var p=void 0,f=[],d={},h=0,y={},m=0,g={},v=void
0;function b(e,t,n,r,i){var a=null,o=0,s=t+n;function
c(n){1&amp;e[0].compareDocumentPosition(document)&amp;&amp;(s=0),a&amp;&amp;(s-=n-a,o+=n-a),a=n,r&gt;0&amp;&amp;h+m&gt;0&amp;&amp;(s-=r,e.css(&quot;animation-delay&quot;,(v.cssTimeUnit(e.css(&quot;animation-delay&quot;))||0)-r+&quot;ms&quot;)),s&lt;=0?i(o):requestAnimationFrame(c),s&lt;=t&amp;&amp;e.css(&quot;visibility&quot;,&quot;&quot;)}s?requestAnimationFrame(c):c()}return
e(document.documentElement).on(&quot;keydown keyup mousedown
mouseup&quot;,function(e){var
t=e.key,n=e.button,r=e.type.includes(&quot;down&quot;),i=t?d:y,a=t&amp;&amp;v.insensitiveName(t)||n;i[a]&amp;&amp;!r?t?h=Math.max(h-1,0):m=Math.max(m-1,0):!i[a]&amp;&amp;r&amp;&amp;(t?h+=1:m+=1),i[a]=r}).on(&quot;mousemove&quot;,function(e){var
t=e.pageX,n=e.pageY;g.x=t,g.y=n}),v={lockProperty:function(e,t,n){var
r=Object.create({configurable:0,writable:0});return
n&amp;&amp;(r.value=n),Object.defineProperty(e,t,r),e},permutations:function(){for(var
e=arguments.length,t=Array(e),n=0;n&lt;e;n++)t[n]=arguments[n];for(var
r=t.length,i=[[].concat(t)],a=Array(r).fill(0),o=1,s=void 0,c=void
0;o&lt;r;)a[o]&lt;o?(s=o%2&amp;&amp;a[o],c=t[o],t[o]=t[s],t[s]=c,++a[o],o=1,i.push([].concat(t))):(a[o]=0,++o);return
i},shuffled:function(){for(var
e=arguments.length,t=Array(e),n=0;n&lt;e;n++)t[n]=arguments[n];return
t.reduce(function(e,t,n){var r=Math.random()*(n+1)|0;return
r===n?e.push(t):(e.push(e[r]),e[r]=t),e},[])},matMul:function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];var
a;if(r.length&gt;0)return(a=v).matMul.apply(a,[v.matMul(e,t)].concat(r));if(!t)return
e;for(var o=[],s=0;s&lt;e.length;s++){o[s]=[];for(var
c=0;c&lt;t[0].length;c++){for(var u=0,l=0;l&lt;e[0].length;l++)u+=e[s][l]*t[l][c];o[s][c]=u}}return
o},cssTimeUnit:function(e){return&quot;ms&quot;===(e=e.toLowerCase()).slice(-2)?+e.slice(0,-2)||0:&quot;s&quot;===e.slice(-1)&amp;&amp;1e3*+e.slice(0,-1)||0},nth:function(e){var
t=(+e+&quot;&quot;).slice(-1);return e+(&quot;1&quot;===t?&quot;st&quot;:&quot;2&quot;===t?&quot;nd&quot;:&quot;3&quot;===t?&quot;rd&quot;:&quot;th&quot;)},plural:function(e,t){return
e+&quot;
&quot;+t+(e&gt;1?&quot;s&quot;:&quot;&quot;)},andList:function(e){return
1===e.length?e[0]:e.slice(0,-1).join(&quot;, &quot;)+&quot; and
&quot;+e[e.length-1]},realWhitespace:&quot;[
\\n\\r\\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]&quot;,anyRealLetter:&quot;[\\dA-Za-z\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]&quot;,anyUppercase:s,anyLowercase:c,anyCasedLetter:u,anyNewline:&quot;(?:\\n|\\r|\\r\\n)&quot;,unescape:function(e){return
e.replace(/&amp;(?:amp|lt|gt|quot|nbsp|zwnj|#39|#96);/g,function(e){return{&quot;&amp;amp;&quot;:&quot;&amp;&quot;,&quot;&amp;gt;&quot;:&quot;&gt;&quot;,&quot;&amp;lt;&quot;:&quot;&lt;&quot;,&quot;&amp;quot;&quot;:'&quot;',&quot;&amp;#39;&quot;:&quot;'&quot;,&quot;&amp;nbsp;&quot;:String.fromCharCode(160),&quot;&amp;zwnj;&quot;:String.fromCharCode(8204)}[e]})},escape:function(e){return
e.replace(/[&amp;&gt;&lt;&quot;']/g,function(e){return{&quot;&amp;&quot;:&quot;&amp;amp;&quot;,&quot;&gt;&quot;:&quot;&amp;gt;&quot;,&quot;&lt;&quot;:&quot;&amp;lt;&quot;,'&quot;':&quot;&amp;quot;&quot;,&quot;'&quot;:&quot;&amp;#39;&quot;}[e]})},insensitiveName:function(e){return(e+&quot;&quot;).toLowerCase().replace(/-|_/g,&quot;&quot;)},allKeysDown:function(){for(var
e=arguments.length,t=Array(e),n=0;n&lt;e;n++)t[n]=arguments[n];return
t.every(function(e){return d[e]})},someKeysDown:function(){for(var
e=arguments.length,t=Array(e),n=0;n&lt;e;n++)t[n]=arguments[n];return
t.some(function(e){return d[e]})},buttonsDown:function(){for(var
e=arguments.length,t=Array(e),n=0;n&lt;e;n++)t[n]=arguments[n];return
t.every(function(e){return y[e]})},anyInputDown:function(){return h+m&gt;0},mouseCoords:g,parentColours:function(e){for(var
t={colour:null,backgroundColour:null},n=/^\w+a\(.+?,\s*0\s*\)$|^transparent$/;e.length&amp;&amp;e[0]!==document;e=e.parent()){if(!t.backgroundColour){var
r=e.css(&quot;background-color&quot;);r.match(n)||(t.backgroundColour=r)}if(!t.colour){var
i=e.css(&quot;color&quot;);i.match(n)||(t.colour=i)}if(t.colour&amp;&amp;t.backgroundColour)return
t}return{colour:&quot;#fff&quot;,backgroundColour:&quot;#000&quot;}},childrenProbablyInline:function(e){var
t=[];return[].every.call(e.findAndFilter(&quot;*&quot;),function(e){return!!(e.hidden||/none|inline/.test(e.style.display)||/display:
(none|inline)/.test(e.getAttribute(&quot;style&quot;)))||!n.includes(e.tagName.toLowerCase())&amp;&amp;!/display:
(?!none|inline|inherit|unset)/.test(e.getAttribute(&quot;style&quot;))&amp;&amp;(!!r.includes(e.tagName.toLowerCase())||(t.push(e),!0))})&amp;&amp;t.every(function(e){return
window.getComputedStyle(e).display.includes(&quot;inline&quot;)})},transitionReplace:function(t,n,r){var
i=t.closest(&quot;tw-hook&quot;);i.length&gt;0&amp;&amp;(t=i);var
a=e(&quot;&lt;tw-transition-container&gt;&quot;).css(&quot;position&quot;,&quot;relative&quot;);a.insertBefore(t.first());var
o=void
0;n&amp;&amp;(o=e(&quot;&lt;tw-transition-container&gt;&quot;).appendTo(a),n.appendTo(o));var
s=e(&quot;&lt;tw-transition-container&gt;&quot;).css(&quot;position&quot;,&quot;absolute&quot;).prependTo(a);t.detach().appendTo(s),v.transitionOut(s,r),n&amp;&amp;v.transitionIn(o,r,function(){o.unwrap().children().first().unwrap()})},transitionOut:function(e,t,n){var
r=arguments.length&gt;3&amp;&amp;void
0!==arguments[3]?arguments[3]:0,i=arguments.length&gt;4&amp;&amp;void
0!==arguments[4]?arguments[4]:0,a=arguments.length&gt;5&amp;&amp;void
0!==arguments[5]?arguments[5]:0,o=arguments.length&gt;6&amp;&amp;void
0!==arguments[6]?arguments[6]:void
0;0!==e.length&amp;&amp;(n=n||l(t),(e.length&gt;1||!v.childrenProbablyInline(e)||![&quot;tw-hook&quot;,&quot;tw-passage&quot;,&quot;tw-expression&quot;].includes(e.tag()))&amp;&amp;(e=e.wrapAll(&quot;&lt;tw-transition-container&gt;&quot;).parent()),o&amp;&amp;e.css(&quot;transform-origin&quot;,o),e.attr(&quot;data-t8n&quot;,t).addClass(&quot;transition-out&quot;).css({&quot;animation-duration&quot;:n+&quot;ms&quot;,&quot;animation-delay&quot;:r-a+&quot;ms&quot;}),requestAnimationFrame(function(){v.childrenProbablyInline(e)?e.css(&quot;display&quot;,&quot;inline&quot;):e.parent().is(&quot;tw-backdrop,tw-story&quot;)||e[0].setAttribute(&quot;style&quot;,e[0].getAttribute(&quot;style&quot;)+&quot;display:block
!important;width:100%&quot;)}),b(e,n,r-a,i,function(){e.remove()}))},transitionIn:function(t,n,r){var
a=arguments.length&gt;3&amp;&amp;void 0!==arguments[3]?arguments[3]:0,o=arguments.length&gt;4&amp;&amp;void
0!==arguments[4]?arguments[4]:0,s=arguments.length&gt;5&amp;&amp;void
0!==arguments[5]?arguments[5]:0,c=arguments.length&gt;6&amp;&amp;void
0!==arguments[6]?arguments[6]:void 0;if(0!==t.length){r=r||l(n);var
u=t.length&gt;1||!v.childrenProbablyInline(t)||![&quot;tw-hook&quot;,&quot;tw-passage&quot;,&quot;tw-expression&quot;].includes(t.tag());u&amp;&amp;(t=t.wrapAll(&quot;&lt;tw-transition-container&gt;&quot;).parent()),c&amp;&amp;t.css(&quot;transform-origin&quot;,c),t.attr(&quot;data-t8n&quot;,n).addClass(&quot;transition-in&quot;).css(Object.assign({&quot;animation-duration&quot;:r+&quot;ms&quot;,&quot;animation-delay&quot;:a-s+&quot;ms&quot;},a-s?{visibility:&quot;hidden&quot;}:{})),requestAnimationFrame(function(){v.childrenProbablyInline(t)?t.css(&quot;display&quot;,&quot;inline&quot;):t.parent().is(&quot;tw-backdrop,tw-story&quot;)||t[0].setAttribute(&quot;style&quot;,t[0].getAttribute(&quot;style&quot;)+&quot;display:block
!important;width:100%&quot;)}),b(t,r,a-s,o,function(n){var r=0===t.filter(i.join(&quot;,&quot;)).length;u&amp;&amp;r?(t.find(&quot;tw-transition-container&quot;).each(function(t,r){(r=e(r)).css(&quot;animation-delay&quot;,v.cssTimeUnit(r.css(&quot;animation-delay&quot;)||0)-n+&quot;ms&quot;)}),t.contents().unwrap()):t.removeClass(&quot;transition-in&quot;).removeAttr(&quot;data-t8n&quot;)})}},debounce:function(e){var
t=void 0,n=void 0,r=0,i=function i(){Date.now()-r&gt;300?(t=0,e.apply(void
0,_toConsumableArray(n))):t=requestAnimationFrame(i)};return
function(){r=Date.now(),n=arguments,t&amp;&amp;cancelAnimationFrame(t),t=requestAnimationFrame(i)}},impossible:function(e,t){window.console&amp;&amp;console.error(e+&quot;():
&quot;+t)},assertMustHave:function(e,t){if(window.console)for(var
n=0;n&lt;t.length;n+=1)t[n]in e||console.error(&quot;Assertion failed: object
lacks property &quot;+t[n])},assertOnlyHas:function(e,t){if(window.console)for(var
n in e)t.includes(n)||console.error(&quot;Assertion failed: object had
unexpected property
'&quot;+n+&quot;'!&quot;)},onStartup:function(e){f?f.push(e):e()},get
storyElement(){return
p}},e(function(){p=e(&quot;tw-story&quot;),f.forEach(function(e){return
e()}),f=null}),Object.freeze(v)}),define(&quot;utils/naturalsort&quot;,[],function(){return
function(e){var t=arguments.length&gt;1&amp;&amp;void
0!==arguments[1]?arguments[1]:String;return function(n,r){var
i,a,o,s,c=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,u=/(^([\w
]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w
]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+,
\d{4})/,l=/^0x[0-9a-f]+$/i,p=/^0/,f=t(n).trim(),d=t(r).trim(),h=f.replace(c,&quot;\0$1\0&quot;).replace(/\0$/,&quot;&quot;).replace(/^\0/,&quot;&quot;).split(&quot;\0&quot;),y=d.replace(c,&quot;\0$1\0&quot;).replace(/\0$/,&quot;&quot;).replace(/^\0/,&quot;&quot;).split(&quot;\0&quot;),m=parseInt(f.match(l))||1!==h.length&amp;&amp;f.match(u)&amp;&amp;Date.parse(f),g=parseInt(d.match(l))||m&amp;&amp;d.match(u)&amp;&amp;Date.parse(d)||null;if(e&amp;&amp;window.Intl&amp;&amp;window.Intl.Collator&amp;&amp;(o=window.Intl.Collator(e)),g){if(m&lt;g)return-1;if(m&gt;g)return
1}for(var
v=0,b=Math.max(h.length,y.length);v&lt;b;v++){if(i=!(h[v]||&quot;&quot;).match(p)&amp;&amp;parseFloat(h[v])||h[v]||0,a=!(y[v]||&quot;&quot;).match(p)&amp;&amp;parseFloat(y[v])||y[v]||0,isNaN(i)!==isNaN(a))return
isNaN(i)?1:-1;if((void 0===i?&quot;undefined&quot;:_typeof(i))!==(void
0===a?&quot;undefined&quot;:_typeof(a)))i+=&quot;&quot;,a+=&quot;&quot;;else
if(&quot;string&quot;==typeof
i&amp;&amp;o&amp;&amp;0!==(s=o.compare(i,a)))return
s;if(i&lt;a)return-1;if(i&gt;a)return 1}return
0}}}),define(&quot;twinescript/compiler&quot;,[&quot;utils&quot;],function(e){var
t=e.impossible,n=JSON.stringify;function r(e,t){for(var n=0;n&lt;e.length;n+=1)if(t.includes(e[n].type))return
n;return NaN}function i(e,t){var n=[];return
e.length?([[&quot;error&quot;],[&quot;comma&quot;],[&quot;to&quot;,&quot;into&quot;],[&quot;where&quot;,&quot;when&quot;,&quot;via&quot;],[&quot;making&quot;,&quot;each&quot;],[&quot;typeSignature&quot;],[&quot;augmentedAssign&quot;],[&quot;and&quot;,&quot;or&quot;],[&quot;is&quot;,&quot;isNot&quot;],[&quot;contains&quot;,&quot;doesNotContain&quot;,&quot;isIn&quot;,&quot;isNotIn&quot;],[&quot;isA&quot;,&quot;isNotA&quot;,&quot;matches&quot;,&quot;doesNotMatch&quot;],[&quot;inequality&quot;],[&quot;addition&quot;,&quot;subtraction&quot;],[&quot;multiplication&quot;,&quot;division&quot;],{rightAssociative:[&quot;spread&quot;,&quot;bind&quot;]},{rightAssociative:[&quot;not&quot;,&quot;positive&quot;,&quot;negative&quot;]},{rightAssociative:[&quot;belongingProperty&quot;,&quot;belongingItProperty&quot;,&quot;belongingOperator&quot;,&quot;belongingItOperator&quot;]},[&quot;property&quot;,&quot;itsProperty&quot;,&quot;possessiveOperator&quot;,&quot;itsOperator&quot;],[&quot;twineLink&quot;],[&quot;macro&quot;],[&quot;grouping&quot;]][&quot;most&quot;===t?&quot;reverse&quot;:&quot;valueOf&quot;]().some(function(t){var
i=void 0;if(i=t.rightAssociative?r(e,t.rightAssociative):function(e,t){return
e.length-1-r.apply(void
0,[[].concat(_toConsumableArray(e)).reverse(),t])}(e,t),!Number.isNaN(i)&amp;&amp;i&gt;-1)return
n=[e[i],i],!0}),n):n}function a(e){if(&quot;inequality&quot;===e.type){var
t=e.operator;return e.negate?{&quot;&gt;&quot;:&quot;&lt;=&quot;,&quot;&lt;&quot;:&quot;&gt;=&quot;,&quot;&gt;=&quot;:&quot;&lt;&quot;,&quot;&lt;=&quot;:&quot;&gt;&quot;}[t]:t}return
e.type}function o(e){var
t=a(e);return{&quot;&gt;&quot;:&quot;&lt;&quot;,&quot;&lt;&quot;:&quot;&gt;&quot;,&quot;&gt;=&quot;:&quot;&lt;=&quot;,&quot;&lt;=&quot;:&quot;&gt;=&quot;,contains:&quot;isIn&quot;,doesNotContain:&quot;isNotIn&quot;,isIn:&quot;contains&quot;,isA:&quot;typifies&quot;,typifies:&quot;isA&quot;,isNotA:&quot;untypifies&quot;,untypifies:&quot;isNotA&quot;}[t]||t}var
s=[&quot;inequality&quot;,&quot;is&quot;,&quot;isNot&quot;,&quot;isIn&quot;,&quot;contains&quot;,&quot;doesNotContain&quot;,&quot;isNotIn&quot;,&quot;isA&quot;,&quot;typifies&quot;,&quot;isNotA&quot;,&quot;untypifies&quot;,&quot;matches&quot;,&quot;doesNotMatch&quot;];return
function e(r){var c=arguments.length&gt;1&amp;&amp;void
0!==arguments[1]?arguments[1]:{},u=c.isVarRef,l=c.isTypedVar,p=c.whitespaceError,f=c.elidedComparison,d=c.testNeedsRight,h=&quot;Operations.Identifiers.it&quot;;if(!(r=[].concat(r)).length)return
u&amp;&amp;p?&quot;TwineError.create('operation',&quot;+n(p)+&quot;)&quot;:&quot;&quot;;var
y=void 0;if(1===r.length){var m=(y=r[0]).type;if(&quot;identifier&quot;===m)return
u?&quot;VarRef.create(Operations.Identifiers,&quot;+n(y.text)+&quot;)&quot;:&quot;Operations.Identifiers.&quot;+y.text.toLowerCase()+&quot;
&quot;;if(&quot;variable&quot;===m||&quot;tempVariable&quot;===m){var
g=&quot;VarRef.create(&quot;+(&quot;tempVariable&quot;===m?&quot;section.stackTop.tempV&quot;:&quot;State.v&quot;)+&quot;ariables,&quot;+n(y.name)+&quot;)&quot;+(u||l?&quot;&quot;:&quot;.get()&quot;);return
l?&quot;TypedVar.create(Datatype.create('any'),&quot;+g+&quot;)&quot;:g}if(&quot;hookName&quot;===m)return&quot;HookSet.create({type:'name',
data:'&quot;+y.name+&quot;'}) &quot;;if(&quot;string&quot;===m)return
y.text.replace(/\n/g,&quot;\\n&quot;);if(&quot;hook&quot;===m)return&quot;CodeHook.create(&quot;+n(y.text.slice(1,-1))+&quot;,&quot;+n(y.html||&quot;&quot;)+&quot;)&quot;;if(&quot;colour&quot;===m)return&quot;Colour.create(&quot;+n(y.colour)+&quot;)&quot;;if(&quot;datatype&quot;===m)return&quot;Datatype.create(&quot;+n(y.name)+&quot;)&quot;;if(&quot;blockedValue&quot;===m)return&quot;section.blockedValue()&quot;;if(&quot;root&quot;===m)return
e(y.children);if(&quot;whitespace&quot;===m&amp;&amp;u&amp;&amp;p)return&quot;TwineError.create('operation',&quot;+n(p)+&quot;)&quot;}var
v,b=i(r,&quot;least&quot;),w=_slicedToArray(b,2);y=w[0],v=w[1];var
T=(y||{}).type,S=r.slice(0,v),x=r.slice(v+1),k=function(e,t){return{isVarRef:!0,isTypedVar:t,whitespaceError:&quot;I
need usable data to be on the &quot;+e+' of
&quot;'+y.text+'&quot;.'}},O=&quot;must&quot;,j=&quot;mustn't&quot;,A=&quot;may&quot;,C=void
0,E=void
0,_=&quot;&quot;,N=&quot;&quot;,P=&quot;&quot;,I=O,M=O,D=!1;if(T)if(&quot;comma&quot;===T)N=&quot;,&quot;,M=A;else
if(&quot;spread&quot;===T)_=&quot;Operations.makeSpreader(&quot;,P=&quot;)&quot;,I=A;else
if(&quot;bind&quot;===T)_=&quot;VarBind.create(&quot;,E=e(x,k(&quot;right&quot;)),P=(y.text.startsWith(&quot;2&quot;)?&quot;,'two
way'&quot;:&quot;&quot;)+&quot;)&quot;,I=j;else
if(&quot;to&quot;===T)_=&quot;Operations.makeAssignmentRequest(Operations.setIt(&quot;,E=e(x,k(&quot;right&quot;)),N=&quot;),&quot;,C=e(S,k(&quot;left&quot;,!0)),P=&quot;,'to')&quot;;else
if(&quot;into&quot;===T)_=&quot;Operations.makeAssignmentRequest(&quot;,E=e(S,k(&quot;left&quot;)),N=&quot;,Operations.setIt(&quot;,C=e(x,k(&quot;right&quot;,!0)),P=&quot;),'into')&quot;;else
if(&quot;typeSignature&quot;===T)_=&quot;TypedVar.create(&quot;,N=&quot;,&quot;,E=e(x,k(&quot;right&quot;)),P=&quot;)&quot;,l=!1;else
if(&quot;where&quot;===T||&quot;when&quot;===T||&quot;via&quot;===T)_=&quot;Lambda.create(&quot;,C=e(S,{isVarRef:!0,whitespaceError:null}).trim()||&quot;undefined&quot;,N=&quot;,&quot;+n(y.type)+&quot;,&quot;,E=n(e(x)),P=&quot;,&quot;+n(r.map(function(e){return
e.text}).join(&quot;&quot;))+&quot;)&quot;;else
if(&quot;making&quot;===T||&quot;each&quot;===T)&quot;each&quot;===T?(_=&quot;Lambda.create(&quot;,E=e(x,k(&quot;right&quot;)).trim(),P=&quot;,'where','true',&quot;+n(r.map(function(e){return
e.text}).join(&quot;&quot;))+&quot;)&quot;,I=A):(_=&quot;Lambda.create(&quot;,C=e(S,{isVarRef:!0,whitespaceError:null}).trim()||&quot;undefined&quot;,N=&quot;,&quot;+n(y.type)+&quot;,&quot;,E=e(x,k(&quot;right&quot;)).trim(),P=&quot;,&quot;+n(r.map(function(e){return
e.text}).join(&quot;&quot;))+&quot;)&quot;);else
if(&quot;augmentedAssign&quot;===T)_=&quot;Operations.makeAssignmentRequest(&quot;,C=e(S,k(&quot;left&quot;)),N=&quot;,&quot;,E=&quot;Operations[&quot;+n(y.operator)+&quot;](&quot;+e(S)+&quot;,&quot;+e(x)+&quot;)&quot;,P=&quot;,&quot;+n(y.operator)+&quot;)&quot;;else
if(&quot;and&quot;===T||&quot;or&quot;===T){var R=function e(t){var
n=i(t,&quot;least&quot;),r=_slicedToArray(n,2),a=r[0],o=r[1];if(a)return
s.includes(a.type)?a:[&quot;and&quot;,&quot;or&quot;].includes(a.type)?e(t.slice(0,o))||e(t.slice(o+1)):void
0},L=R(S),q=R(x),F=&quot;TwineError.create('operation', 'This use of \&quot;is
not\&quot; and \&quot;&quot;+T+&quot;\&quot; is grammatically ambiguous','Maybe
try rewriting this as \&quot;__ is not __ &quot;+T+&quot; __ is not __\&quot;')
&quot;;if(_=&quot;Operations.&quot;+T+&quot;(&quot;,N=&quot;,&quot;,P=&quot;)&quot;,f===y.type)_=P=&quot;&quot;,C=e(S,{isVarRef:u,elidedComparison:f}).trim(),E=e(x,{elidedComparison:f}).trim();else
if(L&amp;&amp;!q){var
V=L,H=n(a(V));if(&quot;isNot&quot;===V.type||&quot;isNotA&quot;===V.type||&quot;untypifies&quot;===V.type)return
F;E=&quot;Operations.elidedComparisonOperator(&quot;+n(y.type)+&quot;,&quot;+H+&quot;,&quot;+e(x,{elidedComparison:T})+&quot;)&quot;}else
if(!L&amp;&amp;q){var
z=q,$=r.indexOf(z),B=n(o(z));if(&quot;isNot&quot;===z.type||&quot;isNotA&quot;===z.type||&quot;untypifies&quot;===z.type)return
F;E=&quot;Operations.elidedComparisonOperator(&quot;+n(y.type)+&quot;,&quot;+B+&quot;,&quot;+e(S,{elidedComparison:T})+&quot;)&quot;,C=e([].concat(_toConsumableArray(r.slice($+1)),[Object.assign(Object.create(z),_defineProperty({},&quot;inequality&quot;===z.type?&quot;operator&quot;:&quot;type&quot;,o(z)))],_toConsumableArray(r.slice(v+1,$))))}u=!1}else
if(s.includes(T))D=!0,u=!1,_=&quot;Operations[&quot;+n(a(y))+&quot;](&quot;,N=&quot;,&quot;,P=&quot;)&quot;;else
if(&quot;addition&quot;===T||&quot;subtraction&quot;===T){if(!e(S,{testNeedsRight:!0}).trim())return
y.type={addition:&quot;positive&quot;,subtraction:&quot;negative&quot;}[T],e(r,{isVarRef:u,whitespaceError:p,elidedComparison:f,testNeedsRight:d});u=!1,_=&quot;Operations[&quot;+n(y.text)+&quot;](&quot;,N=&quot;,&quot;,P=&quot;)&quot;}else
if(&quot;multiplication&quot;===T||&quot;division&quot;===T)u=!1,_=&quot;Operations[&quot;+n(y.text)+&quot;](&quot;,N=&quot;,&quot;,P=&quot;)&quot;;else
if(&quot;positive&quot;===T||&quot;negative&quot;===T)u=!1,C=&quot;negative&quot;===T?&quot;-1&quot;:&quot;1&quot;,_=&quot;Operations['*'](&quot;,N=&quot;,&quot;,P=&quot;)&quot;;else
if(&quot;not&quot;===T)_=&quot;Operations.not(&quot;,E=e(x),P=&quot;)&quot;,I=A;else
if(&quot;belongingProperty&quot;===T)_=&quot;VarRef.create(&quot;,E=e(x,k(&quot;right&quot;)),P=&quot;,&quot;+n(y.name)+&quot;)&quot;+(u?&quot;&quot;:&quot;.get()&quot;),I=A;else
if(&quot;belongingOperator&quot;===T||&quot;belongingItOperator&quot;===T)C=y.type.includes(&quot;It&quot;)?h:e(x,k(&quot;right&quot;)),E=e(S),_=&quot;VarRef.create(&quot;,N=&quot;,{computed:true,value:&quot;,P=&quot;})&quot;+(u?&quot;&quot;:&quot;.get()&quot;);else
if(&quot;property&quot;===T)_=&quot;VarRef.create(&quot;,C=e(S,k(&quot;left&quot;)),P=&quot;,&quot;+n(y.name)+&quot;)&quot;+(u?&quot;&quot;:&quot;.get()&quot;),M=A;else
if(&quot;itsProperty&quot;===T||&quot;belongingItProperty&quot;===T)_=&quot;VarRef.create(&quot;,C=h,P=&quot;,&quot;+n(y.name)+&quot;)&quot;+(u?&quot;&quot;:&quot;.get()&quot;),I=M=A;else
if(&quot;possessiveOperator&quot;===T||&quot;itsOperator&quot;===T)y.type.includes(&quot;it&quot;)&amp;&amp;(C=h,I=A),_=&quot;VarRef.create(&quot;,N=&quot;,{computed:true,value:&quot;,P=&quot;})&quot;+(u?&quot;&quot;:&quot;.get()&quot;),l=!1;else
if(&quot;twineLink&quot;===T)N='Macros.run(&quot;link-goto&quot;,
[section,'+n(y.innerText)+&quot;,&quot;+n(y.passage)+&quot;])&quot;,I=M=j;else
if(&quot;macro&quot;===T){var
W=y.children[0],U=&quot;$&quot;===W.text[0]||&quot;_&quot;===W.text[0];&quot;macroName&quot;===W.type||U||t(&quot;Compiler.compile&quot;,&quot;macro
token had no macroName child token&quot;),N=&quot;Macros.run&quot;+(U?&quot;Custom&quot;:&quot;&quot;)+&quot;(&quot;+(U?&quot;VarRef.create(&quot;+(&quot;_&quot;===W.text[0]?&quot;section.stackTop.tempV&quot;:&quot;State.v&quot;)+&quot;ariables,&quot;+n(W.text.trim().slice(1,-1))+&quot;).get()&quot;:'&quot;'+y.name+'&quot;')+&quot;,
[section,&quot;+e(y.children.slice(1),{isTypedVar:l})+&quot;])&quot;,I=M=j}else
if(&quot;grouping&quot;===T)N=&quot;(&quot;+e(y.children,{isVarRef:u})+&quot;)&quot;,I=M=j;else
if(&quot;error&quot;===T)return&quot;TwineError.create('syntax',&quot;+n(y.message)+(y.explanation?&quot;,
&quot;+n(y.explanation):&quot;&quot;)+&quot;)&quot;;return
v&gt;-1?(C=(C||e(S,{isVarRef:u,isTypedVar:l})).trim(),E=(E||e(x)).trim(),D&amp;&amp;!C&amp;&amp;(C=h),I===O&amp;&amp;!C||M===O&amp;&amp;!E?d&amp;&amp;M&amp;&amp;!E?&quot;&quot;:&quot;TwineError.create('operation','I
need usable code to be &quot;+(I===O?&quot;left
&quot;:&quot;&quot;)+(I===O&amp;&amp;M===O?&quot;and
&quot;:&quot;&quot;)+(M===O?&quot;right &quot;:&quot;&quot;)+'of
&quot;'+y.text+&quot;\&quot;')&quot;:I===j&amp;&amp;C||M===j&amp;&amp;E?&quot;TwineError.create('operation','There
can't be code to the &quot;+(I===j?&quot;left
&quot;:&quot;&quot;)+(I===j&amp;&amp;M===j?&quot;or
&quot;:&quot;&quot;)+(M===j?&quot;right &quot;:&quot;&quot;)+'of
&quot;'+y.text+&quot;\&quot;')&quot;:_+C+N+E+P):1===r.length?((&quot;value&quot;in
r[0]?r[0].value:r[0].text)+&quot;&quot;).trim()||&quot;
&quot;:r.reduce(function(t,n){return
t+e(n,{isVarRef:u,isTypedVar:l})},&quot;&quot;)}}),define(&quot;internaltypes/twineerror&quot;,[&quot;jquery&quot;,&quot;utils&quot;],function(e,t){var
n=t.impossible,r=t.escape;e(document.documentElement).on(&quot;click&quot;,&quot;tw-folddown&quot;,function(t){var
n=t.target;for((n=e(n)).toggleClass(&quot;open&quot;);n&amp;&amp;!n.next().length;)n=n.parent();n&amp;&amp;n.next().toggle()});var
i={syntax:&quot;The markup seems to contain a mistake.&quot;,saving:&quot;I
tried to save or load the game, but I couldn't do it.&quot;,operation:&quot;I
tried to perform an operation on some data, but the data's type was
incorrect.&quot;,macrocall:&quot;I tried to use a macro, but its call wasn't
written correctly.&quot;,datatype:&quot;I tried to use a macro, but was given
the wrong type of data to it.&quot;,custommacro:&quot;I tried to use a custom
macro, but its code hook had a mistake in it.&quot;,infinite:&quot;I almost
ended up doing the same thing over and over, forever.&quot;,property:&quot;I
tried to access a value in a string/array/datamap, but I couldn't find
it.&quot;,unimplemented:&quot;I currently don't have this particular feature.
I'm sorry.&quot;,javascript:&quot;This error message was reported by your
browser's Javascript engine. I don't understand it either, but it usually means
that an expression was badly written.&quot;,propagated:&quot;Click the 'Open'
button to see the code hook as it was executed.&quot;,user:&quot;This is a
custom error created by (error:). It usually means you used a custom macro
incorrectly.&quot;,assertion:&quot;This command exists to provide a helpful
error if a certain important condition wasn't
true.&quot;},a={error:[],warning:[]},o={create:function(e,t,r,a){return
t&amp;&amp;&quot;string&quot;==typeof
t||n(&quot;TwineError.create&quot;,&quot;has a bad message string&quot;),r||e
in i||n(&quot;TwineError.create&quot;,&quot;no error explanation
given&quot;),&quot;user&quot;!==e&amp;&amp;(t=t[0].toUpperCase()+t.slice(1)),Object.assign(Object.create(this),{type:e,message:t,explanation:r,source:void
0,innerDOM:a,appendTitleText:!1})},fromError:function(e){return
o.create(&quot;javascript&quot;,&quot;\u2615
&quot;+e.message)},containsError:function(){for(var e=arguments.length,t=Array(e),n=0;n&lt;e;n++)t[n]=arguments[n];return
t.reduce(function(e,t){return e||(t instanceof
Error?t:o.isPrototypeOf(t)?t:!!Array.isArray(t)&amp;&amp;o.containsError.apply(o,_toConsumableArray(t)))},!1)},createWarning:function(e,t){return
Object.assign(this.create(e,t),{warning:!0})},render:function(n){var
o=this;n=n||this.source||&quot;&quot;;var s=e(&quot;&lt;tw-error
class='&quot;+(&quot;javascript&quot;===this.type?&quot;javascript
&quot;:&quot;&quot;)+(this.warning?&quot;warning&quot;:&quot;error&quot;)+&quot;'
title='&quot;+r(n)+&quot;'&gt;&quot;+r(this.message+(this.appendTitleText?&quot;
&quot;+n:&quot;&quot;))+&quot;&lt;/tw-error&gt;&quot;),c=e(&quot;&lt;tw-error-explanation&gt;&quot;).text(this.explanation||i[this.type]).hide(),u=e(&quot;&lt;tw-folddown
tabindex=0&gt;&quot;);return
this.innerDOM&amp;&amp;e(&quot;&lt;tw-open-button&gt;&quot;).on(&quot;click&quot;,function(){var
n=e(&quot;&lt;tw-backdrop&gt;&lt;tw-dialog&gt;&lt;/tw-backdrop&gt;&quot;);n.find(&quot;tw-dialog&quot;).prepend(o.innerDOM,e(&quot;&lt;tw-link
tabindex=0&gt;OK&lt;/tw-link&gt;&quot;).on(&quot;click&quot;,function(){o.innerDOM.detach(),n.remove()}).wrap(&quot;&lt;tw-dialog-links&gt;&quot;).parent()),t.storyElement.prepend(n)}).appendTo(s),s.append(u).append(c),s.data(&quot;TwineError&quot;,this),a.error.forEach(function(e){return
e(o,n)}),s},on:function(e,t){if(e in a)return&quot;function&quot;!=typeof
t||a[e].includes(t)||a[e].push(t),o;n(&quot;TwineError.on&quot;,&quot;invalid
event name&quot;)}};return
o}),define(&quot;renderer&quot;,[&quot;utils&quot;,&quot;markup&quot;,&quot;twinescript/compiler&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r){var
i=e.escape,a=e.impossible,o=e.insensitiveName,s=void 0;function
c(e,t){return&quot;&lt;&quot;+t+&quot;&gt;&quot;+e+&quot;&lt;/&quot;+t+&quot;&gt;&quot;}function
u(e,t){var n=s.render(e.children);return n&amp;&amp;c(n,t)}var
l,p,f=&quot;text-align: center; max-width:50%;
&quot;,d=RegExp(t.Patterns.macroFront+t.Patterns.macroName,&quot;ig&quot;);return
s={options:{debug:!1,blockerMacros:[],metadataMacros:[]},preprocess:function(e){var
i=s.options.metadataMacros;if(!(e.match(d)||[]).some(function(e){return
i.some(function(t){return o(e.slice(1,-1))===t})}))return{};var a=!1,c={};return
t.lex(e).children.forEach(function
e(t){if(&quot;macro&quot;===t.type){if(i.some(function(e){return
t.name===e})){if(r.isPrototypeOf(c[t.name]))return;if(a)return
void(c[t.name]=r.create(&quot;syntax&quot;,&quot;The (&quot;+t.name+&quot;:)
macro can't appear after non-metadata macros.&quot;));if(c[t.name])return
void(c[t.name]=r.create(&quot;syntax&quot;,&quot;There is more than one
(&quot;+t.name+&quot;:) macro.&quot;));c[t.name]={code:n(t),source:t.text}}else
a=!0;t.children.forEach(function
e(t){&quot;macro&quot;===t.type&amp;&amp;i.some(function(e){return
t.name===e})?c[t.name]=r.create(&quot;syntax&quot;,&quot;The
(&quot;+t.name+&quot;:) macro can't be inside another
macro.&quot;):t.children.forEach(e)})}else
t.children.forEach(e)}),c},exec:(l=void 0,p=void
0,function(e){return&quot;string&quot;!=typeof
e?(a(&quot;Renderer.exec&quot;,&quot;source was not a string, but &quot;+(void
0===e?&quot;undefined&quot;:_typeof(e))),&quot;&quot;):e===l?p:(l=e,p=s.render(t.lex(e).children))}),render:function
e(a){var l=&quot;&quot;,p=[];if(!a)return l;for(var
d=a.length,h=0;h&lt;d;h+=1){var
y=a[h];switch(y.type){case&quot;error&quot;:l+=r.create(&quot;syntax&quot;,y.message,y.explanation).render(i(y.text))[0].outerHTML;break;case&quot;numbered&quot;:case&quot;bulleted&quot;:var
m=&quot;numbered&quot;===y.type?&quot;ol&quot;:&quot;ul&quot;;l+=&quot;&lt;&quot;+m+&quot;&gt;&quot;;for(var
g=1;h&lt;d&amp;&amp;a[h];){if(&quot;br&quot;===a[h].type){if(l+=&quot;&lt;/li&gt;&quot;,!a[h+1]||a[h+1].type!==y.type)break}else
a[h].type===y.type?(l+=(&quot;&lt;&quot;+m+&quot;&gt;&quot;).repeat(Math.max(0,a[h].depth-g)),l+=(&quot;&lt;/&quot;+m+&quot;&gt;&quot;).repeat(Math.max(0,g-a[h].depth)),l+=&quot;&lt;li&gt;&quot;,g=a[h].depth):l+=e([a[h]]);h+=1}l+=(&quot;&lt;/&quot;+m+&quot;&gt;&quot;).repeat(g+1);break;case&quot;align&quot;:for(;y&amp;&amp;&quot;align&quot;===y.type;){var
v=y.align,b=h+=1;if(&quot;left&quot;===v){h-=1;break}for(;h&lt;d&amp;&amp;a[h]&amp;&amp;&quot;align&quot;!==a[h].type;)h+=1;var
w=e(a.slice(b,h)),T=&quot;&quot;;switch(v){case&quot;center&quot;:T+=f+&quot;margin-left:
auto; margin-right:
auto;&quot;;break;case&quot;justify&quot;:case&quot;right&quot;:T+=&quot;text-align:
&quot;+v+&quot;;&quot;;break;default:+v&amp;&amp;(T+=f+&quot;margin-left:
&quot;+v+&quot;%;&quot;)}l+=&quot;&lt;tw-align
&quot;+(T?'style=&quot;'+T+'&quot;':&quot;&quot;)+&quot;&gt;&quot;+w+&quot;&lt;/tw-align&gt;\n&quot;,y=a[h]}break;case&quot;column&quot;:for(var
S=[];y&amp;&amp;&quot;column&quot;===y.type;){var
x=y.column,k=h+=1;if(&quot;none&quot;===x){h-=1;break}for(;h&lt;d&amp;&amp;a[h]&amp;&amp;&quot;column&quot;!==a[h].type;)h+=1;S.push({text:y.text,type:x,body:e(a.slice(k,h)),width:y.width,marginLeft:y.marginLeft,marginRight:y.marginRight}),y=a[h]}S.length&amp;&amp;function(){var
e=S.reduce(function(e,t){return
e+t.width},0);l+=&quot;&lt;tw-columns&gt;&quot;+S.map(function(t){return&quot;&lt;tw-column
type=&quot;+t.type+'  style=&quot;width:'+t.width/e*100+&quot;%; margin-left:
&quot;+t.marginLeft+&quot;em; margin-right: &quot;+t.marginRight+'em;&quot;&gt;'+t.body+&quot;&lt;/tw-column&gt;\n&quot;}).join(&quot;&quot;)+&quot;&lt;/tw-columns&gt;&quot;}();break;case&quot;heading&quot;:for(l+=&quot;&lt;h&quot;+y.depth+&quot;&gt;&quot;;++h&lt;d&amp;&amp;a[h];){if(&quot;br&quot;===a[h].type){l+=&quot;&lt;/h&quot;+y.depth+&quot;&gt;&quot;;break}l+=e([a[h]])}break;case&quot;br&quot;:if(!p.length||/td|th/.test(p[0])){l+=&quot;&lt;br&gt;&quot;;for(var
O=a[h+1];O&amp;&amp;(&quot;br&quot;===O.type||&quot;tag&quot;===O.type&amp;&amp;/^&lt;br\b/i.test(O.text));)l+=&quot;&lt;tw-consecutive-br&quot;+(&quot;tag&quot;===O.type?&quot;
data-raw&quot;:&quot;&quot;)+&quot;&gt;&lt;/tw-consecutive-br&gt;&quot;,O=a[(h+=1)+1]}break;case&quot;hr&quot;:l+=&quot;&lt;hr&gt;&quot;;break;case&quot;escapedLine&quot;:case&quot;comment&quot;:break;case&quot;inlineUrl&quot;:l+='&lt;a
class=&quot;link&quot;
href=&quot;'+i(y.text)+'&quot;&gt;'+y.text+&quot;&lt;/a&gt;&quot;;break;case&quot;scriptStyleTag&quot;:case&quot;tag&quot;:var
j=y.text.toLowerCase();/^&lt;\/?(?:table|thead|tbody|tr|tfoot|td|th)\b/.test(j)&amp;&amp;p[y.text.startsWith(&quot;&lt;/&quot;)?&quot;shift&quot;:&quot;unshift&quot;](j),l+=y.text.startsWith(&quot;&lt;/&quot;)?y.text:y.text.replace(/&gt;$/,&quot;
data-raw&gt;&quot;);break;case&quot;sub&quot;:case&quot;sup&quot;:case&quot;strong&quot;:case&quot;em&quot;:l+=u(y,y.type);break;case&quot;strike&quot;:l+=u(y,&quot;s&quot;);break;case&quot;bold&quot;:l+=u(y,&quot;b&quot;);break;case&quot;italic&quot;:l+=u(y,&quot;i&quot;);break;case&quot;twineLink&quot;:var
A=_slicedToArray(t.lex(&quot;(link-goto:&quot;+JSON.stringify(y.innerText)+&quot;,&quot;+JSON.stringify(y.passage)+&quot;)&quot;).children,1)[0];l+='&lt;tw-expression
type=&quot;macro&quot; name=&quot;link-goto&quot;'+(s.options.debug?'
title=&quot;'+i(y.text)+'&quot;':&quot;&quot;)+' js=&quot;'+i(n(A))+'&quot;&gt;&lt;/tw-expression&gt;';break;case&quot;hook&quot;:l+=&quot;&lt;tw-hook
&quot;+(y.hidden?&quot;hidden &quot;:&quot;&quot;)+(y.name?'name=&quot;'+o(y.name)+'&quot;':&quot;&quot;)+(s.options.debug&amp;&amp;y.name?'
title=&quot;Hook: ?'+y.name+'&quot;':&quot;&quot;)+'
source=&quot;'+i(y.innerText)+'&quot;&gt;&lt;/tw-hook&gt;';break;case&quot;unclosedHook&quot;:return
l+=&quot;&lt;tw-hook &quot;+(y.hidden?&quot;hidden
&quot;:&quot;&quot;)+(y.name?'name=&quot;'+o(y.name)+'&quot;':&quot;&quot;)+'source=&quot;'+i(a.slice(h+1,d).map(function(e){return
e.text}).join(&quot;&quot;))+'&quot;&gt;&lt;/tw-hook&gt;';case&quot;verbatim&quot;:l+=c(i(y.innerText).replace(/\n/g,&quot;&lt;br&gt;&quot;),&quot;tw-verbatim&quot;);break;case&quot;collapsed&quot;:l+=u(y,&quot;tw-collapsed&quot;);break;case&quot;unclosedCollapsed&quot;:return
l+=&quot;&lt;tw-collapsed&gt;&quot;+e(a.slice(h+1,d))+&quot;&lt;/tw-collapsed&gt;&quot;;case&quot;variable&quot;:case&quot;tempVariable&quot;:case&quot;macro&quot;:var
C=function(){var t=[],a=[];if(&quot;macro&quot;===y.type&amp;&amp;function
n(r){&quot;string&quot;!==r.type&amp;&amp;&quot;hook&quot;!==r.type&amp;&amp;r.children.every(n);var
i=r.firstChild();if(&quot;macro&quot;===r.type&amp;&amp;i&amp;&amp;&quot;macroName&quot;===i.type&amp;&amp;s.options.blockerMacros.includes(o(i.text.slice(0,-1))))t.push(r);else
if(&quot;hook&quot;===r.type){if(!r.everyLeaf(function(e){return&quot;error&quot;!==e.type||(a.push(e),!1)}))return!1;r.html=e(r.children)}return!0}(y),a.length)return{v:r.create(&quot;syntax&quot;,&quot;This
code hook's markup contained &quot;+a.length+&quot;
error&quot;+(a.length?&quot;s&quot;:&quot;&quot;)+&quot;:&lt;br&gt;\u2014&quot;+a.map(function(e){return
e.message}).join(&quot;&lt;br&gt;\u2014&quot;)).render(i(y.text))[0].outerHTML};var
c=t.length&amp;&amp;t.map(function(e){var t=n(e);return
e.type=&quot;blockedValue&quot;,t});l+='&lt;tw-expression
type=&quot;'+y.type+'&quot;
name=&quot;'+i(y.name||y.text)+'&quot;'+(s.options.debug?'
title=&quot;'+i(y.text)+'&quot;':&quot;&quot;)+(t.length?'
blockers=&quot;'+i(JSON.stringify(c))+'&quot;':&quot;&quot;)+'
js=&quot;'+i(n(y))+'&quot;&gt;&lt;/tw-expression&gt;',t.forEach(function(e){return
e.type=&quot;macro&quot;})}();if(&quot;object&quot;===(void 0===C?&quot;undefined&quot;:_typeof(C)))return
C.v;break;default:l+=y.children&amp;&amp;y.children.length?e(y.children):y.text}}return
l}},Object.freeze(s)}),define(&quot;passages&quot;,[&quot;jquery&quot;,&quot;utils/naturalsort&quot;,&quot;utils&quot;,&quot;markup&quot;,&quot;renderer&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,a){var
o=n.unescape,s=n.onStartup,c=Object.assign;function u(e){var
t=o(e.html()),n=i.preprocess(t);return c(new
Map([[&quot;source&quot;,t],[&quot;tags&quot;,(e.attr(&quot;tags&quot;)||&quot;&quot;).split(/\s/)||[]],[&quot;name&quot;,e.attr(&quot;name&quot;)]]),{TwineScript_TypeName:&quot;a
passage datamap&quot;,TwineScript_ObjectName:&quot;a passage
datamap&quot;,metadata:n})}var l=c(new Map,{TwineScript_ObjectName:&quot;the
Passages datamap&quot;,getTagged:function(e){var
n=t(&quot;en&quot;,function(e){return e.get(&quot;name&quot;)}),r=[];return
this.forEach(function(t){var n=t instanceof Map&amp;&amp;t.get(&quot;tags&quot;);Array.isArray(n)&amp;&amp;n.includes(e)&amp;&amp;r.push(t)}),r.sort(n)},getStorylets:function(e,n){var
r=n?n.filter(e,[].concat(_toConsumableArray(l.values()))):[].concat(_toConsumableArray(l.values()));if(a.containsError(r))return
r;var i=[],o=-1/0,s=r.reduce(function(t,n){if(t)return t;var
r=n.get(&quot;storylet&quot;);if(r){var
s=e.speculate(r,n.get(&quot;name&quot;),&quot;a (storylet:)
macro&quot;);if(a.containsError(s))return s.message=&quot;There's an error in
the storylet passage \&quot;&quot;+n.get(&quot;name&quot;)+'&quot;:\n'+s.message,s.source=r.TwineScript_ToSource(),s;if(s){var
c=n.get(&quot;exclusivity&quot;);o=Math.max(o,&quot;number&quot;==typeof
c?c:0),i.push(n)}}},void 0);if(s)return s;var c=t(&quot;en&quot;);return
i.filter(function(e){var
t=e.get(&quot;exclusivity&quot;);return(t=&quot;number&quot;==typeof t?t:0)===o}).sort(function(e,t){var
n=e.get(&quot;urgency&quot;),r=t.get(&quot;urgency&quot;);return(n=&quot;number&quot;==typeof
n?n:0)!==(r=&quot;number&quot;==typeof
r?r:0)?r-n:c(e.get(&quot;name&quot;),t.get(&quot;name&quot;))})},allStorylets:function(){return[].concat(_toConsumableArray(l.values())).filter(function(e){return
e.get(&quot;storylet&quot;)})},loadMetadata:function(e){var t=[];return
l.forEach(function(n){n.metadata&amp;&amp;Object.keys(n.metadata).forEach(function(r){if(a.containsError(n.metadata[r]))t.push(n.metadata[r]);else{var
i=n.metadata[r],o=i.code,s=i.source,c=e.speculate(o,n.get(&quot;name&quot;),&quot;a
(&quot;+r+&quot;:) macro&quot;),u='In
&quot;'+n.get(&quot;name&quot;)+'&quot;:\n';if(a.containsError(c))return
c.message=u+c.message,c.source=s,void t.push(c);c instanceof
Map?c.forEach(function(e,t){return l(t,e)}):l(r,c)}function
l(e,r){n.has(e)?t.push(a.create(&quot;syntax&quot;,&quot;This passage's datamap
already has a '&quot;+JSON.stringify(e)+&quot;' data
name.&quot;)):n.set(e,r)}}),n.metadata=void 0}),t},hasValid:function(e){var
t=this.get(e);return t&amp;&amp;t instanceof
Map&amp;&amp;t.has(&quot;source&quot;)},create:u});return
s(function(){Array.from(e(&quot;tw-storydata &gt;
tw-passagedata&quot;)).forEach(function(t){t=e(t),l.set(t.attr(&quot;name&quot;),new
u(t))})}),l}),define(&quot;utils/operationutils&quot;,[&quot;utils/naturalsort&quot;,&quot;utils&quot;,&quot;internaltypes/twineerror&quot;,&quot;patterns&quot;],function(e,t,n,r){var
i=t.impossible,a=t.nth,o=t.insensitiveName,s=t.permutations,c=r.validPropertyName,u=&quot;object&quot;,l=&quot;boolean&quot;,p=&quot;string&quot;,f=&quot;number&quot;,d=&quot;function&quot;;function
h(e){return!!e&amp;&amp;((void
0===e?&quot;undefined&quot;:_typeof(e))===u||(void
0===e?&quot;undefined&quot;:_typeof(e))===d)}function y(e){return e&amp;&amp;Object.getPrototypeOf(e)===Object.prototype}function
m(e){return Array.isArray(e)?&quot;array&quot;:e instanceof
Map?&quot;datamap&quot;:e instanceof Set?&quot;dataset&quot;:(void
0===e?&quot;undefined&quot;:_typeof(e))===p?p:e&amp;&amp;(void
0===e?&quot;undefined&quot;:_typeof(e))===u?u:&quot;&quot;}function
g(e){if(!h(e))return e;if(_typeof(e.TwineScript_Clone)===d)return
e.TwineScript_Clone();if(Array.isArray(e))return[].concat(_toConsumableArray(e));if(e
instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if((void
0===e?&quot;undefined&quot;:_typeof(e))===d)return
Object.assign(e.bind(),e);switch(Object.getPrototypeOf(e)){case Object.prototype:return
Object.assign({},e);case null:return
Object.assign(Object.create(null),e)}return
i(&quot;OperationUtils.clone&quot;,&quot;The value &quot;+e+&quot; cannot be
cloned!&quot;),e}function v(e){return h(e)&amp;&amp;&quot;TwineScript_ObjectName&quot;in
e?e.TwineScript_ObjectName:Array.isArray(e)?&quot;an array&quot;:e instanceof
Map?&quot;a datamap&quot;:e instanceof Set?&quot;a dataset&quot;:(void
0===e?&quot;undefined&quot;:_typeof(e))===l?&quot;the boolean value
'&quot;+e+&quot;'&quot;:(void 0===e?&quot;undefined&quot;:_typeof(e))===p||(void
0===e?&quot;undefined&quot;:_typeof(e))===f?&quot;the &quot;+(void
0===e?&quot;undefined&quot;:_typeof(e))+&quot; &quot;+JSON.stringify(e):void
0===e?&quot;an empty variable&quot;:&quot;...whatever this is&quot;}function
b(e,t){return(void 0===e?&quot;undefined&quot;:_typeof(e))!==u&amp;&amp;(void
0===t?&quot;undefined&quot;:_typeof(t))!==u?e===t:Array.isArray(e)&amp;&amp;Array.isArray(t)?e.length===t.length&amp;&amp;e.every(function(e,n){return
b(t[n],e)}):e instanceof Map&amp;&amp;t instanceof
Map?b(Array.from(e.entries()).sort(),Array.from(t.entries()).sort()):e
instanceof Set&amp;&amp;t instanceof
Set?b([].concat(_toConsumableArray(e)),[].concat(_toConsumableArray(t))):e&amp;&amp;_typeof(e.TwineScript_is)===d?e.TwineScript_is(t):e&amp;&amp;(void
0===e?&quot;undefined&quot;:_typeof(e))===u&amp;&amp;t&amp;&amp;(void
0===t?&quot;undefined&quot;:_typeof(t))===u&amp;&amp;y(e)&amp;&amp;y(t)?b(Object.getOwnPropertyNames(e).map(function(t){return[t,e[t]]}),Object.getOwnPropertyNames(t).map(function(e){return[e,t[e]]})):Object.is(e,t)}return
Object.freeze({isObject:h,isPureObject:y,singleTypeCheck:function
e(t,n){if(null===n)return void 0===t;var r=void
0===t?&quot;undefined&quot;:_typeof(t);if((void
0===n?&quot;undefined&quot;:_typeof(n))!==d&amp;&amp;n.pattern){if(&quot;optional&quot;===n.pattern||&quot;zero
or more&quot;===n.pattern)return void
0===t||e(t,n.innerType);if(&quot;either&quot;===n.pattern)return
n.innerType.some(function(n){return
e(t,n)});if(&quot;lambda&quot;===n.pattern&amp;&amp;e(t,n.innerType))return
n.clauses.includes(&quot;where&quot;)===&quot;where&quot;in
t&amp;&amp;n.clauses.includes(&quot;making&quot;)===&quot;making&quot;in
t&amp;&amp;n.clauses.includes(&quot;via&quot;)===&quot;via&quot;in
t&amp;&amp;n.clauses.includes(&quot;with&quot;)===&quot;with&quot;in
t;if(&quot;insensitive set&quot;===n.pattern)return
n.innerType.includes(o(t));if(&quot;range&quot;===n.pattern)return
n.range(t);if(&quot;wrapped&quot;===n.pattern)return e(t,n.innerType)}return(void
0===n||void
0!==t)&amp;&amp;(&quot;anything&quot;===n.TwineScript_TypeName&amp;&amp;void
0!==t&amp;&amp;!t.TwineScript_Unstorable||&quot;everything&quot;===n.TwineScript_TypeName&amp;&amp;void
0!==t||(n===String?r===p:n===Boolean?r===l:n===parseInt?r===f&amp;&amp;!Number.isNaN(t)&amp;&amp;!(t+&quot;&quot;).includes(&quot;.&quot;):n===Number?r===f&amp;&amp;!Number.isNaN(t):n===Array?Array.isArray(t):n===Map||n===Set?t
instanceof
n:Object.isPrototypeOf.call(n,t)))},isValidDatamapName:function(e,t){if(e
instanceof Map||i(&quot;isValidDatamapName&quot;,&quot;called with
non-Map&quot;),n.containsError(t))return t;if((void
0===t?&quot;undefined&quot;:_typeof(t))!==p&amp;&amp;(void
0===t?&quot;undefined&quot;:_typeof(t))!==f)return
n.create(&quot;property&quot;,&quot;Only strings and numbers can be used as
data names for &quot;+v(e)+&quot;, not &quot;+v(t)+&quot;.&quot;);var r=(void
0===t?&quot;undefined&quot;:_typeof(t))===p?+t:&quot;&quot;+t;return!(!Number.isNaN(r)&amp;&amp;e.has(r))||n.create(&quot;property&quot;,&quot;You
mustn't use both &quot;+v(t)+&quot; and &quot;+v(r)+&quot; as data names in the
same datamap.&quot;)},collectionType:m,isSequential:function(e){return(void
0===e?&quot;undefined&quot;:_typeof(e))===p||Array.isArray(e)||_typeof(e.hooks)===d},unstorableValue:function
e(t){return
t&amp;&amp;t.TwineScript_Unstorable&amp;&amp;t||Array.isArray(t)&amp;&amp;t.find(e)||t
instanceof Map&amp;&amp;[].concat(_toConsumableArray(t.values())).find(e)||t
instanceof Set&amp;&amp;[].concat(_toConsumableArray(t)).find(e)},clone:g,objectName:v,typeName:function
e(t){var n=y(t);if(n&amp;&amp;t.innerType)return
t.typeName?t.typeName:&quot;insensitive set&quot;===t.pattern?&quot;a
case-insensitive string
name&quot;:&quot;either&quot;===t.pattern?(Array.isArray(t.innerType)||i(&quot;typeName&quot;,'&quot;either&quot;
pattern had non-array inner type'),t.innerType.map(e).join(&quot; or
&quot;)):&quot;optional&quot;===t.pattern?&quot;(optional)
&quot;+e(t.innerType):e(t.innerType);if(n&amp;&amp;t.pattern&amp;&amp;&quot;range&quot;===t.pattern){if(t.name)return
t.name;var r=t.min,a=t.max;return&quot;a&quot;+(r&gt;0?&quot;
positive&quot;:&quot;&quot;)+(t.integer?&quot; whole&quot;:&quot;&quot;)+&quot;
number&quot;+(0===r?&quot; between 0 and &quot;+a:a&lt;1/0?&quot; up to
&quot;+a:&quot;&quot;)}return t===String||t===Number||t===Boolean?&quot;a
&quot;+_typeof(t()):t===parseInt?&quot;a whole number&quot;:t===Map?&quot;a
datamap&quot;:t===Set?&quot;a dataset&quot;:t===Array?&quot;an array&quot;:h(t)&amp;&amp;&quot;TwineScript_TypeName&quot;in
t?t.TwineScript_TypeName:v(t)},typeID:function(e){var t=void
0===e?&quot;undefined&quot;:_typeof(e);return[l,p,f].includes(t)?t:Array.isArray(e)?&quot;array&quot;:e
instanceof Map?&quot;datamap&quot;:e instanceof
Set?&quot;dataset&quot;:e.TwineScript_TypeID||&quot;&quot;},toSource:function
t(r,o){return n.containsError(r)&amp;&amp;i(&quot;toSource&quot;,&quot;received
a
TwineError&quot;),_typeof(r.TwineScript_ToSource)===d?r.TwineScript_ToSource():y(r)&amp;&amp;&quot;first&quot;in
r&amp;&amp;&quot;last&quot;in
r?(r.first&lt;0?(-1!==r.first?a(-r.first):&quot;&quot;)+&quot;last&quot;:a(r.first+1))+&quot;to&quot;+(r.last&lt;0?(-1!==r.last?a(-r.last):&quot;&quot;)+&quot;last&quot;:a(r.last+1)):Array.isArray(r)?&quot;(a:&quot;+(&quot;property&quot;===o?r.map(function(e){return
e+(e&gt;0)}):r).map(t)+&quot;)&quot;:r instanceof
Map?&quot;(dm:&quot;+Array.from(r.entries()).sort(function(t,n){return[t[0],n[0]].sort(e(&quot;en&quot;))[0]===t[0]?-1:1}).map(function(e){return
e.map(t)})+&quot;)&quot;:r instanceof Set?&quot;(ds:&quot;+Array.from(r).sort(e(&quot;en&quot;)).map(t)+&quot;)&quot;:(void
0===r?&quot;undefined&quot;:_typeof(r))===f&amp;&amp;&quot;property&quot;===o?r&lt;0?-1===r?&quot;last&quot;:a(-r)+&quot;last&quot;:a(r+1):(void
0===r?&quot;undefined&quot;:_typeof(r))===p&amp;&amp;&quot;property&quot;===o?RegExp(c).test(r)?r:&quot;(&quot;+JSON.stringify(r)+&quot;)&quot;:JSON.stringify(r)},is:b,contains:function(e,t){if(e||&quot;&quot;===e){if((void
0===e?&quot;undefined&quot;:_typeof(e))===p)return(void
0===t?&quot;undefined&quot;:_typeof(t))!==p?n.create(&quot;operation&quot;,v(e)+&quot;
can only contain strings, not &quot;+v(t)+&quot;.&quot;):e.includes(t);if(Array.isArray(e))return
e.some(function(e){return b(e,t)});if(e instanceof Set||e instanceof Map)return
Array.from(e.keys()).some(function(e){return b(e,t)})}return
n.create(&quot;operation&quot;,v(e)+&quot; cannot contain any values, let alone
&quot;+v(t))},isA:function(e,t){return _typeof(t.TwineScript_IsTypeOf)===d?t.TwineScript_IsTypeOf(e):n.create(&quot;operation&quot;,'&quot;is
a&quot; should only be used to compare type names, not
'+v(t)+&quot;.&quot;)},matches:function e(t,r){var
i=!1;if(t&amp;&amp;_typeof(t.TwineScript_IsTypeOf)===d){var
a=t.TwineScript_IsTypeOf(r);if(n.containsError(a))return
a;i|=a}if(r&amp;&amp;_typeof(r.TwineScript_IsTypeOf)===d){var
o=r.TwineScript_IsTypeOf(t);if(n.containsError(o))return
o;i|=o}if(i)return!0;if(Array.isArray(t)&amp;&amp;Array.isArray(r)){for(var
c=0,u=0,l=!0;l&amp;&amp;c&lt;t.length&amp;&amp;u&lt;r.length;){var
p=t[c],f=r[u];if(p.rest){for(;u&lt;r.length&amp;&amp;e(p,f);)f=r[u+=1];c+=1}else
if(f.rest){for(;c&lt;t.length&amp;&amp;e(p,f);)p=t[c+=1];u+=1}else
e(p,f)?(c+=1,u+=1):l=!1}return
l&amp;&amp;c&gt;=t.length&amp;&amp;u&gt;=r.length}return t instanceof
Map&amp;&amp;r instanceof Map?e(Array.from(t.entries()).sort(),Array.from(r.entries()).sort()):t
instanceof Set&amp;&amp;r instanceof
Set?(t=[].concat(_toConsumableArray(t)),s.apply(void
0,_toConsumableArray(r)).some(function(n){return
e(t,n)})):b(t,r)},subset:function e(t,r,i){if(!r||!i)return
n.create(&quot;macrocall&quot;,&quot;The sub&quot;+m(t)+&quot; index value must
not be &quot;+(r&amp;&amp;i)+&quot;.&quot;);var a=(void
0===t?&quot;undefined&quot;:_typeof(t))===p;if(a&amp;&amp;(t=Array.from(t)),r&lt;0&amp;&amp;(r=Math.max(0,t.length+r+1)),i&lt;0&amp;&amp;(i=Math.max(0,t.length+i+1)),r&gt;i)return
e(arguments[0],i,r);var o=t.slice(r&gt;0?r-1:r,i).map(g);return
a?o.join(&quot;&quot;):o},range:function e(t,n){if(t&gt;n)return e(n,t);var
r=[t];for(n-=t;n-- &gt;0;)r.push(++t);return r},printBuiltinValue:function
e(t){return
n.containsError(t)?t:t&amp;&amp;_typeof(t.TwineScript_Print)===d?t.TwineScript_Print():t
instanceof Map?(t=Array.from(t.entries()),n.containsError(t)?t:t.reduce(function(t,n){var
r=_slicedToArray(n,2),i=r[0],a=r[1];return
t+&quot;&lt;tr&gt;&lt;td&gt;`&quot;+e(i)+&quot;`&lt;/td&gt;&lt;td&gt;`&quot;+e(a)+&quot;`&lt;/td&gt;&lt;/tr&gt;&quot;},&quot;&lt;table
class=datamap&gt;&quot;)+&quot;&lt;/table&gt;&quot;):t instanceof
Set?Array.from(t.values()).map(e)+&quot;&quot;:Array.isArray(t)?t.map(e)+&quot;&quot;:t&amp;&amp;_typeof(t.jquery)===p?t:h(t)?n.create(&quot;unimplemented&quot;,&quot;I
don't know how to print this value
yet.&quot;):t+&quot;&quot;},unique:function(e,t,n){return!n.slice(t+1).some(function(t){return
b(e,t)})}})}),define(&quot;utils/renderutils&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;renderer&quot;],function(e,t,n){var
r=RegExp(t.realWhitespace+&quot;+&quot;),i=RegExp(t.realWhitespace+&quot;+&quot;,&quot;g&quot;);function
a(e,t,n){var r=e.textContent.length;if(!(t&gt;=r)){var i=void
0,a=[i=0===t?e:e.splitText(t)];return
n&amp;&amp;(n&lt;=0&amp;&amp;(n=r-n),n&lt;r&amp;&amp;a.push(i.splitText(n-t))),a}}var
o,s=(o=void 0,function(){if(void 0!==o)return o;var
t=e(&quot;&lt;p&gt;&quot;);return
t[0].normalize?(t.append(document.createTextNode(&quot;0-&quot;),document.createTextNode(&quot;2&quot;),document.createTextNode(&quot;&quot;))[0].normalize(),o=1===t.contents().length):o=!1});var
c=&quot;tw-collapsed,[collapsing=true]&quot;;var u=/^(=*)([^=]+)=*$/;return
Object.freeze({dialog:function(){var r=arguments.length&gt;0&amp;&amp;void
0!==arguments[0]?arguments[0]:{},i=r.section,a=r.parent,o=void
0===a?t.storyElement:a,s=r.cd,c=r.message,u=void
0===c?&quot;&quot;:c,l=r.defaultValue,p=r.buttons,f=void 0===p?[{name:&quot;OK&quot;,confirm:!0,callback:Object}]:p,d=e(&quot;&lt;tw-backdrop&gt;&lt;tw-dialog&gt;&quot;+(l||&quot;&quot;===l?&quot;&lt;input
type=text style='display:block;margin:0
auto'&gt;&lt;/input&gt;\n&quot;:&quot;&quot;)+&quot;&lt;tw-dialog-links&gt;&quot;+(f.length?f.reduce(function(e,t,n){var
r=t.name;return e+&quot;&lt;tw-link style='margin:0
&quot;+(n===f.length-1?&quot;0 0 0.5em&quot;:0===n?&quot;0.5em 0
0&quot;:&quot;0.5em&quot;)+&quot;'
tabindex=0&gt;&quot;+r+&quot;&lt;/tw-link&gt;&quot;},&quot;&quot;):&quot;&lt;tw-link
tabindex=0&gt;&quot;+f[0].name+&quot;&lt;/tw-link&gt;&quot;)+&quot;&lt;/tw-dialog-links&gt;&lt;/tw-dialog&gt;&lt;/tw-backdrop&gt;&quot;),h=d.find(&quot;tw-dialog&quot;);if(o.append(d),i){i.renderInto(u,h,Object.assign({},s,{append:&quot;prepend&quot;}));var
y=s&amp;&amp;s.transition&amp;&amp;d.find(&quot;tw-dialog &gt;
tw-transition-container&quot;);y&amp;&amp;y.length&amp;&amp;y.appendTo(d).append(h.prepend(y.contents().detach()))}else
h.prepend(n.exec(u));if(l){var m=d.find(&quot;input&quot;).last();m.val(l).on(&quot;keypress&quot;,function(e){13===e.which&amp;&amp;(d.remove(),f.filter(function(e){return
e.confirm}).forEach(function(e){return
e.callback()}))}),setTimeout(function(){return m.focus()},100)}return
f.reverse().forEach(function(t,n){e(d.find(&quot;tw-link&quot;).get(-n-1)).on(&quot;click&quot;,function(){d.remove(),t.callback()})}),d},realWhitespace:r,textNodeToChars:function(e){var
t=[].concat(_toConsumableArray(e.textContent));return
1===t.length?[e]:t.reduce(function(e,t){return
t.match(r)&amp;&amp;e.length&amp;&amp;e[e.length-1].match(r)?e[e.length-1]+=t:e.push(t),e},[]).reduce(function(t,n){var
r=e;return
n.length&lt;e.textContent.length&amp;&amp;(e=e.splitText(n.length)),t.concat(r)},[])},findTextInNodes:function
e(t,n){var r=[],i=&quot;&quot;,o=[];if(!t.length||!n)return
o;for(;t.length&gt;0;){r.push(t[0]),i+=t[0].textContent,t.shift();var
s=i.indexOf(n);if(s&gt;-1){for(var
c,u=i.length-(s+n.length);s&gt;=r[0].textContent.length;)s-=r[0].textContent.length,r.shift();if(1===r.length){var
l=a(r[0],s,s+n.length);o.push(l[0]),l[1]&amp;&amp;t.unshift(l[1]);break}o.push(a(r[0],s,r[0].length)[0]),(c=o).push.apply(c,_toConsumableArray(r.slice(1,-1)));var
p=a(r[r.length-1],0,r[r.length-1].textContent.length-u);o.push(p[0]),p[1]&amp;&amp;t.unshift(p[1]),o=o.filter(Boolean);break}}return[o].concat(_toConsumableArray(e(t,n)))},collapse:function(t){function
n(t){return 0===e(this||t).parentsUntil(c).filter(&quot;tw-verbatim,
tw-expression, [collapsing=false]&quot;).length}var r=function e(t){var
n=t[0],r=t.parent();if(!r.length||t.findAndFilter(&quot;tw-story&quot;).length)return
null;var i=r.textNodes().filter(function(e){var t=e.compareDocumentPosition(n);return
4&amp;t&amp;&amp;!(8&amp;t)});return(i=i[i.length-1])||e(r)}(t);e(r).parents(c).length||(r=null);var
a=function e(t){var
n=t[0],r=t.parent();if(!r.length||t.findAndFilter(&quot;tw-story&quot;).length)return
null;var i=r.textNodes().filter(function(e){var t=e.compareDocumentPosition(n);return
2&amp;t&amp;&amp;!(8&amp;t)})[0];return
i||e(r)}(t);e(a).parents(c).length||(a=null);var
o=&quot;br:not([data-raw]),tw-consecutive-br:not([data-raw])&quot;;t.find(o).filter(n).replaceWith(document.createTextNode(&quot;
&quot;));var u=(t=e(t.get().map(function(t){return e(t).filter(n).is(o)?e(document.createTextNode(&quot;
&quot;)).replaceAll(t)[0]:t}))).textNodes(),l=0;u.reduce(function(e,t){return
n(t)?(t.textContent=t.textContent.replace(i,&quot; &quot;),&quot;
&quot;!==t.textContent[0]||e&amp;&amp;e.textContent&amp;&amp;!(e.textContent.search(/\s$/)&gt;-1)||(t.textContent=t.textContent.slice(1)),t):document.createTextNode(&quot;A&quot;)},r),[].concat(_toConsumableArray(u)).reverse().every(function(e){return!!n(e)&amp;&amp;(e.textContent.match(/^\s*$/)?(l+=e.textContent.length,e.textContent=&quot;&quot;,!0):(e.textContent=e.textContent.replace(/\s+$/,function(e){return
l+=e.length,&quot;&quot;}),!1))}),l&gt;0&amp;&amp;a&amp;&amp;(u[u.length-1].textContent+=&quot;
&quot;),t[0]&amp;&amp;s()&amp;&amp;t[0].normalize()},geomStringRegExp:u,geomParse:function(e){var
t=e.length,n=u.exec(e)||[],r=_slicedToArray(n,3),i=r[0],a=r[1],o=r[2];return
i?{marginLeft:a.length/t*100,size:o.length/t*100}:{marginLeft:0,size:0}}})}),define(&quot;datatypes/hookset&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;utils/renderutils&quot;,&quot;utils/operationutils&quot;],function(e,t,n,r){var
i=n.textNodeToChars,a=n.realWhitespace,o=n.findTextInNodes,s=r.toSource;function
c(n){var r=n.dom,s=e();this.next&amp;&amp;(s=s.add(c.call(this.next,n)));var
u=function(t,n){if(Array.isArray(n))return n.reduce(function(e,n){return
e.add(t.get(n))},e());if(n&amp;&amp;&quot;object&quot;===(void
0===n?&quot;undefined&quot;:_typeof(n))&amp;&amp;&quot;first&quot;in
n&amp;&amp;&quot;last&quot;in n){var r=n.first,o=n.last,s=t.length;r&lt;0&amp;&amp;(r+=s),o&lt;0&amp;&amp;(o+=s);for(var
c=[t.get(r)];r!==o;)r+=Math.sign(o-r),c.push(t.get(r));return
e(c)}if(&quot;string&quot;==typeof n){if(&quot;chars&quot;===n){var
u=[],l=!0,p=!1,f=void 0;try{for(var d,h=t.textNodes(&quot;:not(tw-error,
tw-error *)&quot;)[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var
y=d.value,m=!0,g=!1,v=void 0;try{for(var
b,w=i(y)[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var
T=b.value;T.textContent.match(a)||u.push(T)}}catch(e){g=!0,v=e}finally{try{!m&amp;&amp;w.return&amp;&amp;w.return()}finally{if(g)throw
v}}}}catch(e){p=!0,f=e}finally{try{!l&amp;&amp;h.return&amp;&amp;h.return()}finally{if(p)throw
f}}return e(u)}if(&quot;links&quot;===n)return t.findAndFilter(&quot;tw-link,
.enchantment-link&quot;);if(&quot;visited&quot;===n)return
t.findAndFilter(&quot;tw-link.visited&quot;);if(&quot;lines&quot;===n){var
S=t.findAndFilter(&quot;br:not(tw-sidebar *),tw-consecutive-br:not(tw-sidebar
*)&quot;).get(),x=[[]];return t.textNodes(&quot;:not(tw-error, tw-error
*):not(tw-sidebar, tw-sidebar
*)&quot;).forEach(function(e){S.length&amp;&amp;2&amp;e.compareDocumentPosition(S[0])&amp;&amp;(S.shift(),x.push([])),x[x.length-1]=x[x.length-1].concat(e)}),x=x.map(function(t){return
t.map(function(n){for(var
r=n.parentNode;e(r).textNodes().every(function(e){return
t.includes(e)})&amp;&amp;!t.every(function(t){return
e(r).has(t).length});){r=(n=r).parentNode}return n})}),e(x.map(function(t){return
e(t).wrapAll(&quot;&lt;tw-pseudo-hook&gt;&quot;).parent()[0]}))}}return
e(t.get(n))};if(this.selector){var l=void
0;if(&quot;string&quot;===this.selector.type)l=function(t,n){var
r=o(n.textNodes(),t),i=e();return r.forEach(function(t){i=i.add(e(t).wrapAll(&quot;&lt;tw-pseudo-hook&gt;&quot;).parent())}),i}(this.selector.data,r);else{if(&quot;base&quot;===this.selector.type)return
s.add(u(c.call(this.selector.data,n),this.property));var p=function(e){var
n='tw-hook[name=&quot;'+(e=t.insensitiveName(e).replace(/&quot;/g,&quot;&amp;quot;&quot;))+'&quot;],tw-enchantment[name=&quot;'+e+'&quot;]';return
n+={page:&quot;, tw-story&quot;,passage:&quot;,
tw-passage&quot;,sidebar:&quot;, tw-sidebar&quot;,link:&quot;, tw-link,
.enchantment-link&quot;}[e]||&quot;&quot;}(this.selector.data);l=r.findAndFilter(p).add(r.parentsUntil(t.storyElement.parent())).filter(p)}s=this.property?s.add(u(l,this.property)):s.add(l)}return
s}function u(e){if(!e)return[];var
n=e.selector,r=e.property,i=e.next;return[JSON.stringify([&quot;base&quot;===n.type?u(n.data):t.insensitiveName(n.data),r])].concat(_toConsumableArray(u(i))).sort()}var
l=Object.freeze({forEach:function(t,n){var r=c.call(this,t).each(function(t){n(e(this),t)});return
t.dom.findAndFilter(&quot;tw-pseudo-hook&quot;).contents().unwrap(),r},hooks:function(e){return
c.call(this,e)},get TwineScript_ObjectName(){return
this.property||this.next?&quot;a complex hook name&quot;:&quot;?&quot;+this.selector.data+&quot;
(a hook
name)&quot;},TwineScript_TypeID:&quot;hookName&quot;,TwineScript_TypeName:&quot;a
hook name (like
?this)&quot;,TwineScript_Unstorable:!0,TwineScript_ToSource:function(){var
e=&quot;&quot;,n=this.selector,r=n.type,i=n.data;return&quot;name&quot;===r?i.match(RegExp(&quot;^&quot;+t.anyRealLetter+&quot;+$&quot;))?e+=&quot;?&quot;+i:e+=&quot;(hooks-named:&quot;+JSON.stringify(i)+&quot;)&quot;:&quot;string&quot;===r?e+=JSON.stringify(i):&quot;base&quot;===r&amp;&amp;(e+=i.TwineScript_ToSource()+&quot;'s
&quot;+s(this.property,&quot;property&quot;)),this.next&amp;&amp;(e+=&quot; +
&quot;+this.next.TwineScript_ToSource()),e},&quot;TwineScript_+&quot;:function(e){for(var
t=this.TwineScript_Clone(),n=t;n.next;)n=n.next;return
n.next=e,t},TwineScript_is:function(e){return
u(this)+&quot;&quot;==u(e)+&quot;&quot;},TwineScript_GetProperty:function(e){return
l.create({type:&quot;base&quot;,data:this},e,void 0)},TwineScript_Properties:[&quot;chars&quot;,&quot;links&quot;,&quot;lines&quot;,&quot;visited&quot;],TwineScript_Clone:function(){return
l.create(this.selector,this.property,this.next)},create:function(e,t){var
n=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]?arguments[2]:void
0;return Object.assign(Object.create(this||l),{selector:Object.freeze(e),property:t,next:n})},from:function(e){return
l.isPrototypeOf(e)||&quot;string&quot;==typeof
e||t.impossible(&quot;HookSet.from() was given a non-HookSet
non-string.&quot;),l.isPrototypeOf(e)?e:l.create({type:&quot;string&quot;,data:e})}});return
l}),define(&quot;internaltypes/changedescriptor&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;renderer&quot;,&quot;datatypes/hookset&quot;],function(e,t,n,r){var
i=t.assertOnlyHas,a=t.impossible,o=t.transitionIn,s=n.exec,c=Object.assign,u=Object.keys,l=Object.create,p=Object.seal,f=function(e){return
e.split(/\n/g).reduce(function(e,t,n,r){var i=r.length;return
e.concat(document.createTextNode(t),n!==i-1&amp;&amp;document.createElement(t.length?&quot;br&quot;:&quot;tw-consecutive-br&quot;))},[])},d=void
0,h={source:&quot;&quot;,appendSource:null,enabled:!0,enablers:null,verbatim:!1,target:null,append:&quot;&quot;,newTargets:null,transition:&quot;&quot;,transitionTime:null,transitionDeferred:!1,transitionDelay:0,transitionSkip:0,transitionOrigin:null,loopVars:null,styles:null,attr:null,data:null,functions:null,section:null,timestamp:0,summary:function(){var
e=this;return[&quot;source&quot;,&quot;appendSource&quot;,&quot;enabled&quot;,&quot;verbatim&quot;,&quot;target&quot;,&quot;append&quot;,&quot;newTargets&quot;,&quot;transition&quot;,&quot;transitionTime&quot;,&quot;transitionDeferred&quot;,&quot;transitionDelay&quot;,&quot;transitionSkip&quot;,&quot;transitionOrigin&quot;,&quot;functions&quot;,&quot;enablers&quot;].filter(function(t){return
e.hasOwnProperty(t)}).concat([this.attr.length&amp;&amp;&quot;attr&quot;,this.styles.length&amp;&amp;&quot;styles&quot;,u(this.loopVars).length&amp;&amp;&quot;loopVars&quot;,u(this.data).length&amp;&amp;&quot;data&quot;].filter(Boolean))},create:function(e,t){var
n=c(l(this),{attr:[].concat(this.attr||[]),styles:[].concat(this.styles||[]),loopVars:this.loopVars||{},data:this.data||{}},e);return
t&amp;&amp;t.run(n),n},update:function(){var
e=this,t=this.section,n=this.newTargets,i=this.transition,a=this.transitionDeferred,s=this.append,c=this.target;&quot;function&quot;==typeof
c&amp;&amp;(c=c());var l=function(t){if(Array.isArray(e.styles)&amp;&amp;e.styles.length&gt;0){var
n=e.styles.reduce(function(e,t){return u(t).forEach(function(n){var
r=t[n];e[+(&quot;function&quot;==typeof
r)][n]=r}),e},[{},{}]),r=_slicedToArray(n,2),i=r[0],a=r[1];t.css(i),setTimeout(function(){return
t.css(a)})}e.attr&amp;&amp;e.attr.forEach(function(e){return t.attr(e)}),e.data&amp;&amp;t.data(e.data)};if(Array.isArray(n)&amp;&amp;n.length&amp;&amp;(c=n.map(function(e){return
e.target})),[].concat(c).forEach(function(e){r.isPrototypeOf(e)?e.forEach(t,l):l(e)}),i&amp;&amp;!a&amp;&amp;!s){var
p=c,f=void 0;do{!(f=p.data(&quot;timestamp&quot;))&amp;&amp;(p=p.parent())}while(!f&amp;&amp;p.length);o(c,i,this.transitionTime,this.transitionDelay,this.transitionSkip,f?Date.now()-f:0,this.transitionOrigin)}},render:function(){var
t=this,n=this.source,u=this.transition,l=this.transitionTime,p=this.transitionDeferred,y=this.enabled,m=this.enablers,g=this.data,v=this.section,b=this.newTargets,w=this.functions,T=this.appendSource,S=this.target,x=this.target,k=this.append;if(&quot;function&quot;==typeof
S&amp;&amp;(S=S()),i(this,d),!k)return
a(&quot;ChangeDescriptor.render&quot;,&quot;This doesn't have an 'append'
method chosen.&quot;),e();if(m&amp;&amp;m.length){var
O=m[0],j=O.descriptor,A=O.changer,C=j.render();if(A){var
E=h.create({section:v,target:C});A.run(E),E.update()}return C}if(!y||void
0!==S.attr(&quot;hidden&quot;))return
h.create({target:S,data:c({},g,{originalSource:n,hidden:!0})}).update(),e();if(Array.isArray(b)&amp;&amp;b.length&amp;&amp;(S=b),!S)return
a(&quot;ChangeDescriptor.render&quot;,&quot;ChangeDescriptor has source but not
a target!&quot;),e();var
_=e();if([].concat(S).filter(function(e){return!e.jquery}).map(function(e){var t=k,n=void
0;if(e.target&amp;&amp;e.append){var
r=e;t=r.append,n=r.before,e=e.target}return{elements:e.hooks(v,x).filter(function(){return!(n&amp;&amp;1&amp;this.compareDocumentPosition(document)&amp;&amp;2&amp;this.compareDocumentPosition(x[0]))}),append:t}},[]).forEach(function(n){var
r=n.elements,i=n.append;r.each(function(n,r){r=e(r),_=_.add(t.create({target:r,append:i,newTargets:null}).render()),r.filter(&quot;tw-pseudo-hook&quot;).contents().unwrap()})}),_.length||Array.isArray(S)||r.isPrototypeOf(S))return
_;if(!(k in S)){if(&quot;replace&quot;!==k)return a(&quot;ChangeDescriptor.render&quot;,&quot;The
target doesn't have a '&quot;+k+&quot;' method.&quot;),e();S[0]instanceof
Text?k=&quot;replaceWith&quot;:(S.empty(),k=&quot;append&quot;)}return
S[0]instanceof
Text&amp;&amp;(&quot;append&quot;===k&amp;&amp;(k=&quot;after&quot;),&quot;prepend&quot;===k&amp;&amp;(k=&quot;before&quot;)),_=e(n&amp;&amp;(this.verbatim?f(n):e.parseHTML(s(n),document,!0))),Array.isArray(T)&amp;&amp;T.forEach(function(n){var
r=n.source,i=n.append,a=e(t.verbatim?f(r):e.parseHTML(s(r),document,!0));_=&quot;append&quot;===i?_.add(a):&quot;prepend&quot;===i?a.add(_):a}),S[k](_.length?_:void
0),S.data(&quot;timestamp&quot;,Date.now()),this.update(),u&amp;&amp;!p&amp;&amp;o(&quot;replace&quot;===k?S:_,u,l,this.transitionDelay,this.transitionSkip,this.expedite,this.transitionOrigin),w&amp;&amp;w.forEach(function(e){return
e(S)}),_}};return
d=u(h),p(h)}),define(&quot;datatypes/changercommand&quot;,[&quot;utils&quot;,&quot;utils/operationutils&quot;,&quot;internaltypes/changedescriptor&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r){var
i=e.impossible,a=t.is,o=t.toSource,s={},c={TwineScript_TypeID:&quot;changer&quot;,TwineScript_TypeName:&quot;a
changer&quot;,TwineScript_Print:function(){return&quot;`[A
(&quot;+this.macroName+&quot;:) changer]`&quot;},TwineScript_ToSource:function(){return&quot;(&quot;+this.macroName+&quot;:&quot;+(&quot;else&quot;===this.name?&quot;&quot;:this.params.map(o))+&quot;)&quot;+(this.next?&quot;+&quot;+this.next.TwineScript_ToSource():&quot;&quot;)},summary:function(){var
e=n.create();return this.run(e),e.summary()},create:function(e){var
t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:[],n=arguments.length&gt;2&amp;&amp;void
0!==arguments[2]?arguments[2]:null;return
Array.isArray(t)||i(&quot;ChangerCommand.create&quot;,&quot;params was not an
array but
&quot;+t),Object.assign(Object.create(this),{macroName:e,params:t,next:n,TwineScript_ObjectName:&quot;a
(&quot;+e+&quot;:)
changer&quot;})},&quot;TwineScript_+&quot;:function(e){for(var
t=this.TwineScript_Clone(),n=t;n.next;)n=n.next;return
n.next=e,t},TwineScript_is:function(e){if(c.isPrototypeOf(e))return
this.macroName===e.macroName&amp;&amp;a(this.params,e.params)&amp;&amp;a(this.next,e.next)},TwineScript_Clone:function(){return
this.create(this.macroName,this.params,this.next)},run:function(e){var
t=s[this.macroName].apply(s,[e].concat(_toConsumableArray(this.params)));if(r.containsError(t))return
t;this.next&amp;&amp;this.next.run(e)},register:function(e,t){s[e]=t}};return
Object.freeze(c)}),define(&quot;state&quot;,[&quot;utils&quot;,&quot;passages&quot;,&quot;datatypes/changercommand&quot;,&quot;internaltypes/twineerror&quot;,&quot;utils/operationutils&quot;,&quot;markup&quot;,&quot;twinescript/compiler&quot;],function(e,t,n,r,i,a,o){var
s=e.impossible,c=i.objectName,u=i.toSource,l=a.lex,p=Object.assign,f=Object.create,d=[&quot;localStorage&quot;,&quot;sessionStorage&quot;].map(function(e){try{return!!window[e]&amp;&amp;(window[e].setItem(&quot;test&quot;,&quot;1&quot;),window[e].removeItem(&quot;test&quot;),!0)}catch(e){return!1}}),h=p(f(null),{TwineScript_ObjectName:&quot;this
story's variables&quot;,TwineScript_TypeDefs:f(null),TwineScript_VariableStore:!0,TwineScript_MockVisits:null}),y={passage:&quot;&quot;,variables:h,create:function(e,t){var
n=f(y);return
n.passage=e||&quot;&quot;,n.variables=p(f(this.variables),t),n}},m=[],g=-1,v=y.create(),b=void
0,w={forward:[],back:[],load:[]},T=void 0;function
S(e){v=(m[g]||y).create(e),function(){if(T.hasSessionStorage){var
e=T.serialise();if(&quot;string&quot;==typeof
e)try{sessionStorage.setItem(&quot;Saved
Session&quot;,e)}catch(e){return}}}()}return T=p({get passage(){return
v.passage},get variables(){return v.variables},get pastLength(){return g},get
futureLength(){return m.length-1-g},get mockVisits(){return
v.variables.TwineScript_MockVisits||[]},set
mockVisits(e){v.variables.TwineScript_MockVisits=e},passageNameVisited:function(e){var
n=0;if(!t.get(e))return 0;for(var r=0;r&lt;=g;r++)n+=+(e===m[r].passage);return
n},passageNameLastVisited:function(e){if(!t.get(e))return
1/0;if(e===v.passage)return 0;for(var n=g;n&gt;0;n--)if(m[n].passage===e)return
g-n+1;return 1/0},pastPassageNames:function(){for(var
e=[],t=g-1;t&gt;=0;t--)e.unshift(m[t].passage);return
e},timelinePassageNames:function(){return m.map(function(e){return
e.passage})},play:function(e){v||s(&quot;State.play&quot;,&quot;present is
undefined!&quot;),v.passage=e,m=m.slice(0,g+1).concat(v),g+=1,S(e),w.forward.forEach(function(t){return
t(e)})},rewind:function(e){var t=1,n=!1;if(e)if(&quot;string&quot;==typeof
e){if((t=this.passageNameLastVisited(e))===1/0)return}else&quot;number&quot;==typeof
e&amp;&amp;(t=e);for(;t&gt;0&amp;&amp;g&gt;0;t--)n=!0,g-=1;return n&amp;&amp;(S(m[g].passage),w.back.forEach(function(e){return
e()})),n},fastForward:function(e){var t=1,n=!1;for(&quot;number&quot;==typeof
e&amp;&amp;(t=e);t&gt;0&amp;&amp;m.length&gt;0;t--)n=!0,g+=1;return
n&amp;&amp;(S(m[g].passage),w.forward.forEach(function(e){return
e(m[g].passage,&quot;fastForward&quot;)})),n},on:function(e,t){if(e in
w)return&quot;function&quot;!=typeof
t||w[e].includes(t)||w[e].push(t),T;s(&quot;State.on&quot;,&quot;invalid event
name&quot;)},reset:function(){m=[],g=-1,v=y.create(),b=void
0,w.load.forEach(function(e){return
e(m)})},hasStorage:d[0],hasSessionStorage:d[1]},function(){function
e(e,t){Object.keys(t).forEach(function(n){return!n.startsWith(&quot;TwineScript_&quot;)&amp;&amp;(t[n]=e.eval(o(l(t[n],0,&quot;macro&quot;))))})}return{serialise:function(){var
e=m.slice(0,g+1),t=e.map(function(e){return
Object.keys(e.variables).filter(function(t){return e.variables[t]&amp;&amp;(n=e.variables[t],i=void
0===n?&quot;undefined&quot;:_typeof(n),!(!r.containsError(n)&amp;&amp;(&quot;function&quot;==typeof
n.TwineScript_ToSource||Array.isArray(n)||n instanceof Map||n instanceof
Set||&quot;string&quot;===i||&quot;number&quot;===i||&quot;boolean&quot;===i||Object.isPrototypeOf.call(h.TwineScript_TypeDefs,n))));var
n,i}).map(function(t){return[t,e.variables[t]]})});if(b||(b=t.reduce(function(e,t,n){var
r=_slicedToArray(t,2),i=r[0],a=r[1];return e||i&amp;&amp;[i,a,n+1]},void
0)),b){var n=_slicedToArray(b,3),i=n[0],a=n[1],o=n[2];return
r.create(&quot;saving&quot;,&quot;The variable $&quot;+i+&quot; holds
&quot;+c(a)+&quot; (which is, or contains, a complex data value) on turn
&quot;+o+&quot;; the game can no longer be saved.&quot;)}try{return
JSON.stringify(e,function(e,t){return
this.TwineScript_VariableStore?&quot;TwineScript_TypeDefs&quot;===e?Object.keys(t).reduce(function(e,n){return
e[n]=u(t[n]),e},{}):u(t):t})}catch(e){return!1}},deserialise:function(n,r){var
i,a=void 0,o=h,s=&quot;The save data is
unintelligible.&quot;;try{a=JSON.parse(r)}catch(e){return Error(s)}return
Array.isArray(a)?(i=(a=a.map(function(r){if(&quot;object&quot;!==(void 0===r?&quot;undefined&quot;:_typeof(r))||!r.hasOwnProperty(&quot;passage&quot;)||!r.hasOwnProperty(&quot;variables&quot;))return
Error(s);if(!t.hasValid(r.passage))return Error(&quot;The data refers to a
passage named '&quot;+r.passage+&quot;', but it isn't in this
story.&quot;);if(r.variables=p(f(o),r.variables),Object.hasOwnProperty.call(r.variables,&quot;TwineScript_TypeDefs&quot;)){var
i=r.variables.TwineScript_TypeDefs=p(f(o.TwineScript_TypeDefs),r.variables.TwineScript_TypeDefs);try{e(n,i)}catch(e){return
Error(s)}}try{e(n,r.variables)}catch(e){return Error(s)}return
o=r.variables,p(f(y),r)})).find(function(e){return e instanceof
Error}))?i:(m=a,w.load.forEach(function(e){return
e(m)}),g=m.length-1,S(m[g].passage),!0):Error(s)}}}()),Object.seal(y),Object.freeze(T)}),define(&quot;internaltypes/varref&quot;,[&quot;state&quot;,&quot;internaltypes/twineerror&quot;,&quot;utils&quot;,&quot;utils/operationutils&quot;,&quot;datatypes/hookset&quot;],function(e,t,n,r,i){var
a=n.impossible,o=n.andList,s=n.nth,c=r.is,u=r.isObject,l=r.toSource,p=r.isSequential,f=r.objectName,d=r.typeName,h=r.clone,y=r.isValidDatamapName,m=r.subset,g=r.collectionType,v=r.unstorableValue,b=r.matches,w=void
0,T=0,S={set:[],delete:[]};function x(e,n){var r=void 0;if(e instanceof
Map&amp;&amp;(r=t.containsError(y(e,n))))return r;if(p(e)){var a=void
0,s=&quot;You can only access position strings/numbers ('4th', 'last', '2ndlast',
(2), etc.) or slices ('1stTo2ndlast', '3rdTo5th'), &quot;,c=&quot;You can't
access the '0th' or '0thlast' position of
&quot;+f(e)+&quot;.&quot;;if(&quot;number&quot;==typeof n){if(0===n)return
t.create(&quot;property&quot;,&quot;You can't access elements at position 0 of
&quot;+f(e)+&quot;.&quot;,&quot;Only positive and negative position values
exist.&quot;);n&gt;0&amp;&amp;(n-=1)}else if(&quot;string&quot;==typeof
n&amp;&amp;(a=/^(\d+)(?:st|[nr]d|th)last$/i.exec(n))){if(&quot;0&quot;===a[1])return
t.create(&quot;property&quot;,c);n=-a[1]}else if(&quot;string&quot;==typeof
n&amp;&amp;(a=/^(\d+)(?:st|[nr]d|th)$/i.exec(n))){if(&quot;0&quot;===a[1])return
t.create(&quot;property&quot;,c);n=a[1]-1}else if(&quot;string&quot;==typeof
n&amp;&amp;(a=/^(?:(\d+)(?:st|[nr]d|th)(last)?|last)to(?:(\d+)(?:st|[nr]d|th)(last)?|last)$/i.exec(n))){var
u=_slicedToArray(a,5),l=u[1],d=void 0===l?0:l,h=u[2],m=u[3],g=void
0===m?0:m;n={last:g=u[4]?-g:g-1,first:d=h?-d:d-1}}else
if(&quot;last&quot;===n)n=-1;else
if(&quot;random&quot;===n){if(!e.length)return
t.create(&quot;property&quot;,&quot;I can't get a random value from
&quot;+f(e)+&quot;, because it's empty&quot;);n=Math.random()*Array.from(e).length|0}else{if(i.isPrototypeOf(e)&amp;&amp;!i.TwineScript_Properties.includes(n))return
t.create(&quot;property&quot;,s+o(i.TwineScript_Properties.map(function(e){return&quot;'&quot;+e+&quot;'&quot;}))+&quot;
of &quot;+f(e)+&quot;, not
&quot;+f(n)+&quot;.&quot;);if(![&quot;length&quot;,&quot;any&quot;,&quot;all&quot;,&quot;start&quot;,&quot;end&quot;,&quot;random&quot;].includes(n)&amp;&amp;!i.isPrototypeOf(e))return
t.create(&quot;property&quot;,s+&quot;'length', 'any', 'all', 'start', 'end',
and 'random' of &quot;+f(e)+&quot;, not &quot;+f(n)+&quot;.&quot;)}}else if(e
instanceof
Set){if(![&quot;length&quot;,&quot;any&quot;,&quot;all&quot;].includes(n))return
t.create(&quot;property&quot;,&quot;You can only get the 'length', 'any' and
'all' of &quot;+f(e)+&quot;.&quot;,&quot;To check contained values, use the
'contains'
operator.&quot;);&quot;length&quot;===n&amp;&amp;(n=&quot;size&quot;)}else{if(Array.isArray(e.TwineScript_Properties)&amp;&amp;!e.TwineScript_Properties.includes(n))return
t.create(&quot;property&quot;,&quot;You can only get the
&quot;+o(e.TwineScript_Properties.map(function(e){return&quot;'&quot;+e+&quot;'&quot;}))+&quot;
of &quot;+f(e)+&quot;, not
&quot;+f(n)+&quot;.&quot;);if(&quot;number&quot;==typeof
e||&quot;boolean&quot;==typeof e)return t.create(&quot;property&quot;,&quot;You
can't get data values from &quot;+f(e)+&quot;.&quot;)}return n}function
k(e,t){return
t-0&lt;0&amp;&amp;Math.abs(t)&lt;=e.length?e.length+(t-0):t}function
O(e,t){if(void 0===e)return e;if(e instanceof Map||w.isPrototypeOf(e))return
e.get(t);if(&quot;any&quot;===t||&quot;all&quot;===t||&quot;start&quot;===t||&quot;end&quot;===t)return
function(e,t){var n=&quot;'&quot;+t+&quot;'
value&quot;+(&quot;any&quot;===t?&quot;&quot;:&quot;s&quot;)+&quot; of
&quot;;return{determiner:t,array:[].concat(_toConsumableArray(e)),string:&quot;string&quot;==typeof
e&amp;&amp;e,TwineScript_ObjectName:n+f(e),TwineScript_TypeName:n+&quot;a data
structure&quot;,TwineScript_Unstorable:!0,TwineScript_Print:function(){return&quot;`[&quot;+this.TwineScript_TypeName+&quot;]`&quot;}}}(e,t);if(&quot;string&quot;==typeof
e&amp;&amp;(e=[].concat(_toConsumableArray(e))),p(e)&amp;&amp;Number.isFinite(t)&amp;&amp;(t=k(e,t)),e.TwineScript_GetProperty)return
e.TwineScript_GetProperty(t);var n=e[t];return&quot;function&quot;!=typeof
n?n:void 0}function j(e){if(e.computed){var t=e.value;return
w.isPrototypeOf(t)&amp;&amp;(t=t.get()),&quot;string&quot;==typeof
t?&quot;('&quot;+t+&quot;')&quot;:&quot;(&quot;+t+&quot;)&quot;}return&quot;number&quot;==typeof
e?s(e):&quot;'&quot;+e+&quot;'&quot;}function
A(n,r,a){if(n.TwineScript_VariableStore){if(n.TwineScript_TypeDefs&amp;&amp;r
in n.TwineScript_TypeDefs){var o=n.TwineScript_TypeDefs[r];if(&quot;const&quot;===o.name){if(void
0!==n[r])return t.create(&quot;operation&quot;,&quot;I can't alter
&quot;+(n===e.variables?&quot;$&quot;:&quot;_&quot;)+r+&quot; because it's been
restricted to a constant value.&quot;,&quot;This variable can't be changed for
the rest of the story.&quot;)}else if(!b(o,a))return t.create(&quot;operation&quot;,&quot;I
can't set &quot;+(n===e.variables?&quot;$&quot;:&quot;_&quot;)+r+&quot; to
&quot;+d(a)+&quot; because it's been restricted to &quot;+l(o)+&quot;-type
data.&quot;,&quot;You can restrict a variable or data name by giving a typed
variable to (set:) or (put:).&quot;)}return!0}return
Array.isArray(r)?r.map(function(e){return A(n,e)}):n instanceof
Map?&quot;string&quot;==typeof r||t.create(&quot;operation&quot;,f(n)+&quot;
can only have string data names, not
&quot;+f(r)+&quot;.&quot;):p(n)?[&quot;length&quot;,&quot;random&quot;,&quot;any&quot;,&quot;all&quot;,&quot;start&quot;,&quot;end&quot;].includes(r)?t.create(&quot;operation&quot;,&quot;I
can't forcibly alter the '&quot;+r+&quot;' of
&quot;+f(n)+&quot;.&quot;,&quot;start&quot;===r||&quot;end&quot;===r?&quot;Alter
the values at actual positions, like 1st or 2ndlast, rather than just the
'&quot;+r+&quot;'.&quot;:void
0):+r==(0|r)||t.create(&quot;property&quot;,f(n)+&quot; can only have position
keys ('3rd', '1st', (5), etc.), not
&quot;+j(r)+&quot;.&quot;):n.TwineScript_Identifiers&amp;&amp;r in
n?t.create(&quot;keyword&quot;,&quot;I can't alter the value of the
'&quot;+r+&quot;' identifier.&quot;,&quot;You can only alter data in variables
and hooks, not fixed identifiers.&quot;):t.create(&quot;operation&quot;,&quot;I
can't modify &quot;+f(n),n instanceof Set?&quot;You should use an (array:) if
you need to modify the data inside this dataset.&quot;:i.isPrototypeOf(n)?&quot;You
should alter hooks indirectly using macros like (replace:) or
(enchant:).&quot;:void 0)}function C(e,t,n){var r=t;e instanceof
Map?e.set(t,n):(p(e)&amp;&amp;(t=k(e,t)),e.TwineScript_Set?e.TwineScript_Set(t):e[t]=n),S.set.forEach(function(t){return
t(e,r,n)})}function E(e,t){var
n=t;p(e)&amp;&amp;(t=k(e,t)),Array.isArray(e)&amp;&amp;/^(?:[1-9]\d*|0)$/.exec(t)?e.splice(t,1):e
instanceof Map||e instanceof Set?e.delete(t):delete
e[t],S.delete.forEach(function(t){return t(e,n)})}function _(e){return Object.assign(Object.create(w),{error:e})}function
N(n,r){var a=arguments.length&gt;2&amp;&amp;void
0!==arguments[2]?arguments[2]:r;if(r&amp;&amp;&quot;object&quot;===(void
0===r?&quot;undefined&quot;:_typeof(r))&amp;&amp;&quot;last&quot;in
r&amp;&amp;&quot;first&quot;in r){if(i.isPrototypeOf(n))return
n.TwineScript_GetProperty(r);var s=r.first,c=r.last;return
m(n,s+(s&gt;=0),c+(c&gt;=0))}if(Array.isArray(r))return
i.isPrototypeOf(n)?n.TwineScript_GetProperty(r):r.map(function(e){return
N(n,e,e)})[&quot;string&quot;==typeof
n?&quot;join&quot;:&quot;valueOf&quot;](&quot;&quot;);var u=O(n,r);if(void 0===u){if(n===e.variables)return
T;if(n.TwineScript_VariableStore)return
t.create(&quot;property&quot;,&quot;There isn't a temp variable named
_&quot;+a+&quot; in this place.&quot;,&quot;Temp variables only exist inside
the same passage and hook in which they're
(set:).&quot;);if(Array.isArray(n)&amp;&amp;&quot;number&quot;==typeof r)return
t.create(&quot;property&quot;,&quot;This array of &quot;+(n.length+1)+&quot;
elements doesn't have a &quot;+j(a)+&quot; element.&quot;,n.length?&quot;It
contains: &quot;+o(n.map(f))+&quot;.&quot;:&quot;The array is empty.&quot;);var
l=Array.from(&quot;function&quot;==typeof n.keys&amp;&amp;n.keys());return
t.create(&quot;property&quot;,&quot;I can't find a &quot;+j(a)+&quot; data name
in &quot;+f(n),n instanceof Map&amp;&amp;l.length?&quot;Its names include:
&quot;+o(l)+&quot;.&quot;:void 0)}return u}function P(e,n){var
r=this,i=this.compiledPropertyChain.reduce(function(e,t){var n=void 0;return
n=0===e.length?r.object:N.apply(void 0,_toConsumableArray(e[e.length-1])),e.push([n,t])&amp;&amp;e},[]).reduceRight(e,n);return
t.containsError(i)?i:void 0}return w=Object.freeze({get:function(){return
this.error?this.error:N(this.deepestObject,this.compiledPropertyChain.slice(-1)[0],this.propertyChain.slice(-1)[0])},set:function(n){var
r=this;return
this.error?this.error:!this.object||this.object.TwineScript_VariableStore||this.object.TwineScript_Identifiers?P.call(this,function(n,i,a){var
o,s=_slicedToArray(i,2),c=s[0],l=s[1];if(o=t.containsError(n,c,l)||t.containsError(A(c,l,n)))return
o;var d;if(d=v(n))return t.create(&quot;operation&quot;,f(n)+&quot; can't be
stored&quot;+(g(n)?&quot; because it holds
&quot;+f(d)+&quot;.&quot;:&quot;&quot;));if(a&gt;0)c=h(c);else
if(c.TwineScript_VariableStore&amp;&amp;c!==e.variables){for(var y=c;y.TwineScript_VariableStore&amp;&amp;!y.hasOwnProperty(l);)y=Object.getPrototypeOf(y);y.TwineScript_VariableStore&amp;&amp;(c=y)}if(&quot;string&quot;==typeof
c){if(&quot;string&quot;!=typeof n)return t.create(&quot;datatype&quot;,&quot;I
can't put this non-string value, &quot;+f(n)+&quot;, in a
string.&quot;);if(n.length!==(Array.isArray(l)?l.length:1))return
t.create(&quot;datatype&quot;,f(n)+&quot;is not the right length to fit into
this string location.&quot;);c=[].concat(_toConsumableArray(c));var
m=[].concat(_toConsumableArray(n));[].concat(l).forEach(function(e){0+e&lt;0&amp;&amp;(e=c.length+(0+e)),c=[].concat(_toConsumableArray(c.slice(0,e)),[m.shift()],_toConsumableArray(c.slice(e+1)))}),c=c.join(&quot;&quot;)}else
u(c)&amp;&amp;(void
0!==n.TwineScript_KnownName&amp;&amp;(n.TwineScript_KnownName=r.TwineScript_ObjectName),Array.isArray(l)&amp;&amp;p(n)?(&quot;string&quot;==typeof
n&amp;&amp;(n=[].concat(_toConsumableArray(n))),l.map(function(e,t){return[e,n[t]]}).forEach(function(e){var
t=_slicedToArray(e,2),n=t[0],r=t[1];return C(c,n,r)})):C(c,l,n));return
c},n):t.create(&quot;macrocall&quot;,&quot;I can't (set:)
&quot;+f(this)+&quot;, if the &quot;+(f(this.object).match(/
(.+$)/)||[&quot;&quot;,&quot;value&quot;])[1]+&quot; isn't stored in a
variable.&quot;,&quot;Modifying data structures that aren't in variables won't
change the game state at all.&quot;)},delete:function(){return
this.error?this.error:P.call(this,function(e,n,r){var
i,a=_slicedToArray(n,2),o=a[0],s=a[1];if(i=t.containsError(e,o,s)||t.containsError(A(o,s)))return
i;if(r&gt;0&amp;&amp;(o=h(o)),null===e){var c=&quot;string&quot;==typeof
o;c&amp;&amp;(o=[].concat(_toConsumableArray(o))),Array.isArray(s)?(p(o)&amp;&amp;(s=[].concat(_toConsumableArray(new
Set(s)))).sort(function(e,t){return k(o,t)-k(o,e)}),s.forEach(function(e){return
E(o,e)})):E(o,s),c&amp;&amp;(o=o.join(&quot;&quot;))}else C(o,s,e);return
o},null)},defineType:function(e){var
n=this.object,r=this.compiledPropertyChain;if(!n||!n.TwineScript_VariableStore||1!==r.length||!n.TwineScript_TypeDefs)return
t.create(&quot;unimplemented&quot;,&quot;I can only restrict the datatypes of
variables, not data names or anything else.&quot;);var
i=r[0];Object.hasOwnProperty.call(n,&quot;TwineScript_TypeDefs&quot;)||(n.TwineScript_TypeDefs=Object.create(n.TwineScript_TypeDefs));var
a=n.TwineScript_TypeDefs,o=a[i];if(o&amp;&amp;!c(o,e))return
t.create(&quot;operation&quot;,&quot;I can't redefine the type of
&quot;+f(this)+&quot; to &quot;+(e.TwineScript_ObjectName||d(e))+&quot;, as it
is already
&quot;+(o.TwineScript_ObjectName||d(o))+&quot;.&quot;);a[i]=e,&quot;const&quot;===e.name&amp;&amp;(n[i]=void
0)},matches:function(e,t){return
this.object===e&amp;&amp;this.compiledPropertyChain[0]===t},getName:function(){return
this.compiledPropertyChain[0]},create:function(e,n){var r=void
0;if(r=t.containsError(e))return
_(r);n=[].concat(n),w.isPrototypeOf(e)&amp;&amp;(n=e.propertyChain.concat(n),e=e.object);var
i=function(e,n){return{compiledPropertyChain:n.reduce(function(r,i,a){var
o;return
i.computed&amp;&amp;(i=i.value),w.isPrototypeOf(i)&amp;&amp;(i=i.get()),i=Array.isArray(i)?i.map(function(t){return
x(e,t)}):x(e,i),(o=t.containsError(r,i))?o:(a&lt;n.length-1&amp;&amp;(e=N(e,i)),r.push(i),r)},[]),deepestObject:e}}(e,n),a=i.compiledPropertyChain,o=i.deepestObject;return(r=t.containsError(a,o))?_(r):Object.assign(Object.create(w),{object:e,propertyChain:n,compiledPropertyChain:a,deepestObject:o})},TwineScript_ToSource:function(){var
t=this,n=function(e,n){return!n&amp;&amp;t.object.TwineScript_VariableStore?e:j(e)};return(this.object===e.variables?&quot;$&quot;:this.object.TwineScript_VariableStore?&quot;_&quot;:f(this.object)+&quot;'s
&quot;)+(1===this.propertyChain.length?n(this.propertyChain[0]):this.propertyChain.reduce(function(e,t,r){return
e+&quot;'s &quot;+n(t,r)}))},get TwineScript_ObjectName(){return
this.TwineScript_ToSource()+(this.object.TwineScript_VariableStoreName?&quot;
in
&quot;+this.object.TwineScript_VariableStoreName:&quot;&quot;)},on:function(e,t){if(e
in S)return&quot;function&quot;!=typeof t||S[e].includes(t)||S[e].push(t),w;a(&quot;VarRef.on&quot;,&quot;invalid
event
name&quot;)}})}),define(&quot;internaltypes/varscope&quot;,[],function(){return
Object.seal({TwineScript_ObjectName:&quot;the temporary
variables&quot;,TwineScript_VariableStore:!0,TwineScript_TypeDefs:Object.create(null)})}),define(&quot;internaltypes/twinenotifier&quot;,[&quot;jquery&quot;,&quot;utils&quot;],function(e,t){var
n=t.impossible,r={create:function(e){return
e||n(&quot;TwineNotifier.create&quot;,&quot;called with only 1
string.&quot;),Object.assign(Object.create(r),{message:e})},render:function(){return
e(&quot;&lt;tw-notifier&gt;&quot;).attr(&quot;message&quot;,this.message)}};return
r}),define(&quot;datatypes/custommacro&quot;,[&quot;jquery&quot;,&quot;utils/operationutils&quot;,&quot;internaltypes/changedescriptor&quot;,&quot;internaltypes/varref&quot;,&quot;internaltypes/varscope&quot;,&quot;internaltypes/twineerror&quot;,&quot;internaltypes/twinenotifier&quot;],function(e,t,n,r,i,a,o){var
s=t.objectName,c=t.matches,u=Object.assign,l=Object.create,p=function(t){return
function(c){for(var
p=arguments.length,f=Array(p&gt;1?p-1:0),d=1;d&lt;p;d++)f[d-1]=arguments[d];t.called+=1;var
h=t.varNames,y=t.params,m=t.body,g=u(l(i),{TwineScript_VariableStoreName:t.TwineScript_ObjectName+&quot;
call
#&quot;+t.called,TwineScript_TypeDefs:l(null)}),v=[],b=0;f.forEach(function(e,t){var
n=h[b];g.TwineScript_TypeDefs[n]=y[b].datatype.rest?y[b].datatype.create(&quot;array&quot;):y[b].datatype;var
i=r.create(g,n);if(y[b].datatype.rest){var a=(g[n]||[]).concat(e);if(t&lt;f.length-1)return
void(g[n]=a);i.set(a)}else i.set(e),b+=1;v.push(o.create(s(i)+&quot; is now
&quot;+s(g[n])))}),f.length&amp;&amp;(b+=1),y[b]&amp;&amp;y[b].datatype.rest&amp;&amp;(r.create(g,h[b]).set([]),g.TwineScript_TypeDefs[name]=y[b].datatype.create(&quot;array&quot;));var
w=void
0,T=e(&quot;&lt;p&gt;&quot;).append(m.html);c.stack.unshift({tempVariables:g,dom:T,output:function(e){w=e}}),c.execute(),c.stackTop.blocked&amp;&amp;c.stack.shift();var
S,x,k=T.find(&quot;tw-error&quot;);return k.length?(T.prepend(v.map(function(e){return
e.render()}),&quot;&lt;br&gt;&quot;),a.create(&quot;propagated&quot;,k.length+&quot;
error&quot;+(k.length&gt;1?&quot;s&quot;:&quot;&quot;)+&quot; occurred when
running &quot;+t.TwineScript_ObjectName+&quot;.&quot;,void 0,T)):void
0===w?a.create(&quot;custommacro&quot;,t.TwineScript_ObjectName+&quot; didn't
output any data or hooks using (output:) or (output-data:).&quot;):n.isPrototypeOf(w)?(S=w,x=u({TwineScript_TypeID:&quot;command&quot;,TwineScript_ObjectName:&quot;a
custom command&quot;,TwineScript_TypeName:&quot;a custom
command&quot;,TwineScript_Print:function(){return&quot;`[a custom
command]`&quot;},TwineScript_Attach:function(e){return e.run(S),x},TwineScript_Run:function(){return
S}})):w}},f=Object.freeze({TwineScript_TypeID:&quot;macro&quot;,TwineScript_TypeName:&quot;a
custom macro&quot;,get TwineScript_ObjectName(){return
this.TwineScript_KnownName?&quot;the &quot;+this.TwineScript_KnownName+&quot;
macro&quot;:&quot;a custom macro&quot;},TwineScript_GetProperty:function(e){if(&quot;params&quot;===e)return[].concat(_toConsumableArray(this.params))},TwineScript_Properties:[&quot;params&quot;],TwineScript_Print:function(){return&quot;`[&quot;+this.TwineScript_ObjectName+&quot;]`&quot;},TwineScript_Clone:function(){return
u(l(f),this)},TwineScript_ToSource:function(){return&quot;(macro:&quot;+this.params.map(function(e){return
e.TwineScript_ToSource()}).concat(&quot;&quot;)+this.body.TwineScript_ToSource()+&quot;)&quot;},create:function(e,t){var
n=u(l(this),{params:e,called:0,varNames:e.map(function(e){return
e.varRef.propertyChain[0]}),typeSignature:e.map(function(e){var t=void 0;return
t=e.datatype.toTypeSignatureObject?e.datatype.toTypeSignatureObject({rest:e.rest}):{pattern:&quot;range&quot;,range:function(t){return
c(e.datatype,t)}},e.rest?{pattern:&quot;zero or more&quot;,innerType:t}:t}),body:t,TwineScript_KnownName:&quot;&quot;});return
n.fn=p(n),n}});return
f}),define(&quot;datatypes/lambda&quot;,[&quot;utils/operationutils&quot;,&quot;internaltypes/varscope&quot;,&quot;internaltypes/varref&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r){var
i=e.objectName,a=Object.freeze({TwineScript_TypeID:&quot;lambda&quot;,TwineScript_TypeName:&quot;a
lambda&quot;,get TwineScript_ObjectName(){return'a
&quot;'+(&quot;making&quot;in this?&quot;making ...
&quot;:&quot;&quot;)+(&quot;where&quot;in this?&quot;where ...
&quot;:&quot;&quot;)+(&quot;when&quot;in this?&quot;when ...
&quot;:&quot;&quot;)+(&quot;via&quot;in this?&quot;via ...
&quot;:&quot;&quot;)+'&quot; lambda'},TwineScript_Print:function(){return&quot;`[A
lambda]`&quot;},TwineScript_is:function(e){return
e===this},TwineScript_ToSource:function(){return
this.source},TypeSignature:function(){for(var
e=arguments.length,t=Array(e),n=0;n&lt;e;n++)t[n]=arguments[n];return{pattern:&quot;lambda&quot;,innerType:a,clauses:t,typeName:'a
&quot;'+t.concat(&quot;&quot;).join(&quot; ...&quot;)+'&quot;
lambda'}},TwineScript_Clone:function(){return
Object.assign(Object.create(a),this)},create:function(e,o,s,c){var u=void
0;function l(e){var r=e&amp;&amp;e.varRef?e.varRef:e;return void
0===r||r&amp;&amp;n.isPrototypeOf(r)&amp;&amp;t.isPrototypeOf(r.object)&amp;&amp;1===r.propertyChain.length}if(&quot;making&quot;===o&amp;&amp;!l(s))return
r.create(&quot;syntax&quot;,&quot;I need a temp variable, or typed temp
variable, to the right of '&quot;+o+&quot;', not &quot;+i(s)+&quot;.&quot;);if(r.containsError(e))return
e;if(a.isPrototypeOf(e)){if(&quot;when&quot;===o||&quot;when&quot;in e)return
r.create(&quot;syntax&quot;,&quot;A 'when' lambda cannot have any other
clauses, such as '&quot;+o+&quot;'.&quot;);if(o in
e&amp;&amp;(&quot;where&quot;!==o||&quot;true&quot;!==e[o]))return
r.create(&quot;syntax&quot;,&quot;This lambda has two '&quot;+o+&quot;'
clauses.&quot;);u=e}else{if(&quot;when&quot;===o&amp;&amp;void 0!==e)return
r.create(&quot;syntax&quot;,&quot;A 'when' lambda shouldn't begin with a temp
variable (just use 'when' followed by the condition).&quot;);if(!l(e))return
r.create(&quot;syntax&quot;,&quot;This lambda needs to start with a single temp
variable, or typed temp variable, not &quot;+i(e)+&quot;.&quot;);(u=Object.create(this)).loop=e||&quot;&quot;}return
u.source=c.trim(),u[o]=s,u.making&amp;&amp;u.making.getName()===(u.loop&amp;&amp;u.loop.getName())?r.create(&quot;syntax&quot;,&quot;This
lambda has two variables named '&quot;+u.loop.getName()+&quot;'.&quot;,&quot;Lambdas
should have all-unique parameter names.&quot;):u},apply:function(e,n){var
i=n.loop,a=n.pos,o=n.making,s=n.ignoreVia,c=n.tempVariables;function
u(e,t){if(e)if(&quot;datatype&quot;in e&amp;&amp;&quot;varRef&quot;in e){var
n=e.varRef.create(c,e.varRef.propertyChain);n.defineType(e.datatype);var
i=n.set(t);if(r.containsError(i))return i}else c[e.getName()]=t}c=c||Object.create(e.stack.length?e.stackTop.tempVariables:t);var
l=u(this.loop,i)||u(this.making,o);if(r.containsError(l))return
l;e.stack.unshift(Object.assign(Object.create(e.stackTop||null),{tempVariables:c,lambdaPos:this.when?void
0:a}));var
p=e.eval(&quot;Operations&quot;);!i||this.making||this.when?p.initialiseIt(r.create(&quot;operation&quot;,&quot;I
can't use 'it', or an implied 'it', in
&quot;+this.TwineScript_ObjectName)):p.initialiseIt(i);var
f=!s&amp;&amp;this.via,d=e.eval(&quot;where&quot;in this||&quot;when&quot;in
this?&quot;Operations.where(&quot;+(this.where||this.when)+&quot;,&quot;+(f||&quot;true&quot;)+&quot;,null)&quot;:f||&quot;true&quot;);return
e.stack.shift(),d},filter:function(e,t){var
n=this,i=arguments.length&gt;2&amp;&amp;void
0!==arguments[2]?arguments[2]:null,a=void 0,o=t.reduce(function(t,o,s){if(a=r.containsError(t))return
a;var
c=n.apply(e,{loop:o,pos:s+1,ignoreVia:!0,tempVariables:i});return(a=r.containsError(c))?a:t.concat(c?[o]:[])},[]);return(a=r.containsError(o))?a:o}});return
a}),define(&quot;datatypes/codehook&quot;,[&quot;internaltypes/twineerror&quot;,&quot;renderer&quot;],function(e,t){var
n=t.exec;return Object.freeze({TwineScript_TypeName:&quot;a code
hook&quot;,TwineScript_ObjectName:&quot;a code
hook&quot;,TwineScript_Unstorable:!0,TwineScript_ToSource:function(){return&quot;[&quot;+this.source+&quot;]&quot;},create:function(t,r){r||(r=n(t));var
i=e.containsError(r);return i||Object.assign(Object.create(this),{source:t,html:r})}})}),define(&quot;datatypes/colour&quot;,[&quot;jquery&quot;,&quot;utils&quot;],function(e,t){var
n=t.matMul,r=Math.max,i=Math.min,a=Math.sin,o=Math.cos,s=Math.pow,c=Math.round,u=Math.floor,l=Math.atan2,p=Math.cbrt,f=Math.sqrt,d=Math.PI,h=Object.assign,y=Object.create,m=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,g=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,v=y(null);function
b(e){var
t=e.r,n=e.g,a=e.b,o=e.a,s=r(t/=255,n/=255,a/=255),u=i(t,n,a),l=(s+u)/2,p=s-u;if(s===u)return{h:0,s:0,l:l};var
f=void 0;switch(s){case t:f=(n-a)/p+(n&lt;a?6:0);break;case
n:f=(a-t)/p+2;break;case
a:f=(t-n)/p+4}return{h:f=c(60*f),s:l&gt;.5?p/(2-s-u):p/(s+u),l:l,a:o}}var
w=[.96422,1,.82521],T=24389/27,S=216/24389,x=function(e){return e.map(function(e){return[e]})},k=function(e){return
e.map(function(e){return e[0]})};function O(e){var
t=e.l,r=e.c,i=e.h,c=e.a;t*=100;var
u=[];u[1]=(t+16)/116,u[0]=r*o(i*d/180)/500+u[1],u[2]=u[1]-r*a(i*d/180)/200;var
l=[s(u[0],3)&gt;S?s(u[0],3):(116*u[0]-16)/T,t&gt;T*S?s((t+16)/116,3):t/T,s(u[2],3)&gt;S?s(u[2],3):(116*u[2]-16)/T].map(function(e,t){return
e*w[t]}),p=k(n([[.9555766,-.0230393,.0631636],[-.0282895,1.0099416,.0210077],[.0122982,-.020483,1.3299098]],n([[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],x(l)))).map(function(e){return
255*e}),f=_slicedToArray(p,3);return{r:f[0],g:f[1],b:f[2],a:c}}function
j(e){var t=O(e);return[t.r,t.g,t.b].every(function(e){return
e&gt;=0&amp;&amp;e&lt;=255})}var A=Object.freeze({TwineScript_TypeID:&quot;colour&quot;,TwineScript_TypeName:&quot;a
colour&quot;,TwineScript_ObjectName:&quot;a
colour&quot;,TwineScript_DebugName:function(){return&quot;a colour
&quot;+this.TwineScript_Print()},&quot;TwineScript_+&quot;:function(e){var
t=this.toRGBA(),n=e.toRGBA();return A.create({r:Math.min(Math.round(.6*(t.r+n.r)),255),g:Math.min(Math.round(.6*(t.g+n.g)),255),b:Math.min(Math.round(.6*(t.b+n.b)),255),a:(t.a+n.a)/2})},TwineScript_Print:function(){var
e=this.toRGBA();return&quot;&lt;tw-colour
style='background-color:rgba(&quot;+[e.r,e.g,e.b,e.a]+&quot;);'&gt;&lt;/tw-colour&gt;&quot;},TwineScript_is:function(e){if(!A.isPrototypeOf(e))return!1;if(e.lcha&amp;&amp;this.lcha)return
e.lcha.l===this.lcha.l&amp;&amp;e.lcha.c===this.lcha.c&amp;&amp;e.lcha.h===this.lcha.h&amp;&amp;e.a===this.a;var
t=this.toRGBA();return(e=e.toRGBA()).r===t.r&amp;&amp;e.g===t.g&amp;&amp;e.b===t.b&amp;&amp;e.a===t.a},TwineScript_Clone:function(){return
A.create(this)},toRGBAString:function(){var
e=this.toRGBA();return&quot;rgba(&quot;+e.r+&quot;, &quot;+e.g+&quot;,
&quot;+e.b+&quot;, &quot;+e.a+&quot;)&quot;},toHSLA:function(){return
b(this.toRGBA())},toRGBA:function(){return
this.lch?O(function(e){if(j(e))return e;var t=(e=h({},e)).c,n=0;for(e.c/=2;t-n&gt;1e-5;)j(e)?n=e.c:t=e.c,e.c=(t+n)/2;return
e}(h({},this.lch,{a:this.a}))):this},toLCHA:function(){return
this.lch?h({},this.lch):(t=(e=this).r,r=e.g,i=e.b,a=e.a,o=k(n([[1.0478112,.0228866,-.050127],[.0295424,.9904844,-.0170491],[-.0092345,.0150436,.7521316]],n([[.4124564,.3575761,.1804375],[.2126729,.7151522,.072175],[.0193339,.119192,.9503041]],x([t/255,r/255,i/255])))).map(function(e,t){return
e/w[t]}).map(function(e){return
e&gt;S?p(e):(T*e+16)/116}),c=[116*o[1]-16,500*(o[0]-o[1]),200*(o[1]-o[2])],u=180*l(c[2],c[1])/d,{l:c[0]/100,c:f(s(c[1],2)+s(c[2],2)),h:u&gt;=0?u:u+360,a:a});var
e,t,r,i,a,o,c,u},LCHRotate:function(e){e&lt;0&amp;&amp;(e=360+e);var
t=this.toLCHA();return t.h=(t.h+e)%360,t.a=this.a,A.create(t)},TwineScript_GetProperty:function(e){if(&quot;lch&quot;===e){var
t=this.toLCHA();return new
Map([[&quot;l&quot;,t.l],[&quot;c&quot;,t.c],[&quot;h&quot;,t.h]])}var
n=this.toRGBA();return&quot;h&quot;===e||&quot;s&quot;===e||&quot;l&quot;===e?b(n)[e]:&quot;r&quot;===e||&quot;g&quot;===e||&quot;b&quot;===e||&quot;a&quot;===e?n[e]:void
0},TwineScript_Properties:[&quot;h&quot;,&quot;s&quot;,&quot;l&quot;,&quot;r&quot;,&quot;g&quot;,&quot;b&quot;,&quot;a&quot;,&quot;lch&quot;],TwineScript_ToSource:function(){var
e=!this.lch&amp;&amp;b(this);if(e&amp;&amp;!e.h&amp;&amp;!e.s){if(1===e.l)return&quot;white&quot;;if(0===e.l)return&quot;black&quot;}return&quot;(&quot;+(this.lch?&quot;lch&quot;:&quot;hsl&quot;)+&quot;:&quot;+(this.lch?[this.lch.l,this.lch.c,this.lch.h]:[e.h,e.s,e.l])+(1!==this.a?&quot;,&quot;+this.a:&quot;&quot;)+&quot;)&quot;},create:function(t){return&quot;string&quot;==typeof
t?this.create((A.isHexString(t)?function(e){return&quot;string&quot;!=typeof
e?e:(e=(e=e.replace(&quot;#&quot;,&quot;&quot;)).replace(m,&quot;$1$1$2$2$3$3&quot;),{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)})}:function(t){if(t
in v)return v[t];var
n=e(&quot;&lt;p&gt;&quot;).css(&quot;background-color&quot;,t).css(&quot;background-color&quot;);return
n=&quot;transparent&quot;===n?{r:0,g:0,b:0,a:0}:n.startsWith(&quot;rgb&quot;)?n.match(/\d+/g).reduce(function(e,t,n){return
e[&quot;rgb&quot;[n]]=+t,e},{}):{r:192,g:192,b:192},v[t]=n,n})(t)):!(&quot;h&quot;in
t&amp;&amp;&quot;s&quot;in t&amp;&amp;&quot;l&quot;in t)||&quot;r&quot;in
t||&quot;g&quot;in t||&quot;b&quot;in t?(&quot;a&quot;in
t&amp;&amp;&quot;number&quot;==typeof t.a||(t.a=1),h(y(this),&quot;h&quot;in
t&amp;&amp;&quot;c&quot;in t&amp;&amp;!(&quot;s&quot;in
t)&amp;&amp;&quot;l&quot;in
t?{a:t.a,lch:{l:t.l,c:t.c,h:t.h}}:t)):this.create(function(e){var
t=e.h,n=e.s,r=e.l,i=e.a;if(0===n){var a=u(255*r);return{r:a,g:a,b:a}}var
o=r&lt;.5?r*(1+n):r+n-r*n,s=2*r-o;function c(e){return
e&lt;0&amp;&amp;(e+=1),e&gt;1&amp;&amp;(e-=1),e&lt;1/6?s+6*(o-s)*e:e&lt;.5?o:e&lt;2/3?s+(o-s)*(2/3-e)*6:s}return{r:u(255*c((t/=360)+1/3)),g:u(255*c(t)),b:u(255*c(t-1/3)),a:i}}(t))},isHexString:function(e){return&quot;string&quot;==typeof
e&amp;&amp;&quot;#&quot;===e[0]&amp;&amp;(e.slice(1).match(m)||e.slice(1).match(g))},isCSS3Function:function(e){return&quot;string&quot;==typeof
e&amp;&amp;/^(?:rgb|hsl)a?\(\s*\d+\s*,\s*\d+%?\s*,\s*\d+%?(?:,\s*\d+(?:\.\d+)?\s*)?\)$/.test(e)}});return
A}),define(&quot;datatypes/gradient&quot;,[&quot;utils/operationutils&quot;],function(e){var
t=e.toSource,n=Object.freeze({TwineScript_TypeID:&quot;gradient&quot;,TwineScript_TypeName:&quot;a
gradient&quot;,TwineScript_ObjectName:&quot;a
gradient&quot;,TwineScript_DebugName:function(){return&quot;a gradient
&quot;+this.TwineScript_Print()},TwineScript_GetProperty:function(e){var
t=this;return&quot;angle&quot;===e?this.angle:&quot;stops&quot;===e?this.stops.map(function(e){return
new
Map([[t.repeating?&quot;pixels&quot;:&quot;percent&quot;,e.stop],[&quot;colour&quot;,e.colour.TwineScript_Clone()]])}):void
0},TwineScript_Properties:[&quot;angle&quot;,&quot;stops&quot;],TwineScript_ToSource:function(){return&quot;(gradient:&quot;+this.angle+&quot;,&quot;+this.stops.map(function(e){return
t(e.stop)+&quot;,&quot;+t(e.colour)})+&quot;)&quot;},TwineScript_is:function(e){var
t=this;return e.angle===this.angle&amp;&amp;e.stops.length===this.stops.length&amp;&amp;e.stops.every(function(e,n){var
r=e.colour,i=e.stop;return
t.stops[n].stop===i&amp;&amp;t.stops[n].colour.TwineScript_is(r)})},TwineScript_Clone:function(){return
n.create(this.angle,[].concat(_toConsumableArray(this.stops)))},TwineScript_Print:function(){return&quot;&lt;tw-colour
style='background:&quot;+this.toLinearGradientString()+&quot;'&gt;&lt;/tw-colour&gt;&quot;},create:function(e,t){var
n=arguments.length&gt;2&amp;&amp;void
0!==arguments[2]&amp;&amp;arguments[2];return
Object.assign(Object.create(this),{angle:e,stops:t.sort(function(e,t){return
e.stop-t.stop}),repeating:n})},multiply:function(e){return
n.create(this.angle,this.stops.map(function(t){return{colour:t.colour,stop:t.stop*e}}))},toLinearGradientString:function(){var
e=this;return(this.repeating?&quot;repeating-&quot;:&quot;&quot;)+&quot;linear-gradient(&quot;+this.angle+&quot;deg,
&quot;+this.stops.reduce(function(t,n){var r=n.colour,i=n.stop;return
t+r.toRGBAString()+&quot;
&quot;+i*(e.repeating?1:100)+(e.repeating?&quot;px,&quot;:&quot;%,&quot;)},&quot;&quot;).slice(0,-1)+&quot;)&quot;}});return
n}),define(&quot;datatypes/datatype&quot;,[&quot;utils&quot;,&quot;utils/operationutils&quot;,&quot;datatypes/changercommand&quot;,&quot;datatypes/colour&quot;,&quot;datatypes/gradient&quot;,&quot;datatypes/lambda&quot;,&quot;datatypes/custommacro&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,a,o,s){var
c=e.realWhitespace,u=e.anyRealLetter,l=e.anyCasedLetter,p=e.anyNewline,f=t.objectName,d=Object.assign,h=Object.seal,y=Object.keys,m=Math.floor,g=Math.abs,v=void
0,b=void
0,w={TwineScript_TypeID:&quot;datatype&quot;,TwineScript_TypeName:&quot;a
datatype&quot;,TwineScript_Print:function(){return&quot;`[&quot;+this.TwineScript_ObjectName+&quot;]`&quot;},get
TwineScript_ObjectName(){return&quot;the
&quot;+(this.rest?&quot;...&quot;:&quot;&quot;)+this.name+&quot;
datatype&quot;},TwineScript_is:function(e){return
w.isPrototypeOf(e)&amp;&amp;e.name===this.name},TwineScript_Clone:function(){return
this.rest?this:Object.create(this)},TwineScript_ToSource:function(){return(this.rest?&quot;...&quot;:&quot;&quot;)+this.name},TwineScript_IsTypeOf:function(e){var
t=this.name,n=this.rest;return!!v[t]&amp;&amp;v[t](e,n)},toTypeSignatureObject:function(){var
e={pattern:&quot;range&quot;,range:v[this.name]};return
this.rest?{pattern:&quot;zero or
more&quot;,innerType:e}:e},create:function(e){var t=arguments.length&gt;1&amp;&amp;void
0!==arguments[1]&amp;&amp;arguments[1];e=&quot;datamap&quot;===e?&quot;dm&quot;:&quot;dataset&quot;===e?&quot;ds&quot;:&quot;number&quot;===e?&quot;num&quot;:&quot;string&quot;===e?&quot;str&quot;:&quot;color&quot;===e?&quot;colour&quot;:&quot;boolean&quot;===e?&quot;bool&quot;:&quot;alphanumeric&quot;===e?&quot;alnum&quot;:&quot;integer&quot;===e?&quot;int&quot;:e;var
n=Object.create(this);return n.name=e,n.rest=t,n},from:function(e){var
t=y(b).find(function(t){return b[t](e)});return
t?w.create(t):s.create(&quot;datatype&quot;,f(e)+&quot; doesn't correspond to a
datatype value.&quot;)}};return b={array:Array.isArray,dm:function(e){return e
instanceof Map},ds:function(e){return e instanceof Set},datatype:function(e){return
w.isPrototypeOf(e)},changer:function(e){return
n.isPrototypeOf(e)},colour:function(e){return
r.isPrototypeOf(e)},gradient:function(e){return
i.isPrototypeOf(e)},lambda:function(e){return
a.isPrototypeOf(e)},macro:function(e){return o.isPrototypeOf(e)},str:function(e){return&quot;string&quot;==typeof
e},num:function(e){return&quot;number&quot;==typeof
e},bool:function(e){return&quot;boolean&quot;==typeof
e}},v=d({},b,{even:function(e){return!isNaN(e)&amp;&amp;m(g(e))%2==0},odd:function(e){return!isNaN(e)&amp;&amp;m(g(e))%2==1},empty:function(e){return
e instanceof Map||e instanceof
Set?!e.size:!(!Array.isArray(e)&amp;&amp;&quot;string&quot;!=typeof
e)&amp;&amp;!e.length},int:function(e){return&quot;number&quot;==typeof
e&amp;&amp;e===(0|e)},uppercase:function(e){return&quot;string&quot;==typeof
e&amp;&amp;1===[].concat(_toConsumableArray(e)).length&amp;&amp;[].concat(_toConsumableArray(e)).every(function(e){return
e!==e.toLowerCase()})},lowercase:function(e){return&quot;string&quot;==typeof
e&amp;&amp;1===[].concat(_toConsumableArray(e)).length&amp;&amp;[].concat(_toConsumableArray(e)).every(function(e){return
e!==e.toUpperCase()})},whitespace:function(e){return&quot;string&quot;==typeof
e&amp;&amp;!!e.match(&quot;^&quot;+c+&quot;$&quot;)},digit:function(e){return&quot;string&quot;==typeof
e&amp;&amp;!!e.match(&quot;^\\d$&quot;)},alnum:function(e){return&quot;string&quot;==typeof
e&amp;&amp;!!e.match(&quot;^&quot;+u+&quot;$&quot;)},anycase:function(e){return&quot;string&quot;==typeof
e&amp;&amp;!!e.match(&quot;^&quot;+l+&quot;$&quot;)},linebreak:function(e){return&quot;string&quot;==typeof
e&amp;&amp;!!e.match(&quot;^&quot;+p+&quot;$&quot;)},any:function(){return!0},const:function(){return!0}}),h(w)}),define(&quot;datatypes/typedvar&quot;,[&quot;utils/operationutils&quot;,&quot;datatypes/datatype&quot;,&quot;internaltypes/varref&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r){var
i=e.typeName,a=e.matches,o=e.toSource,s=e.unstorableValue,c=Object.freeze,u=Object.assign,l=Object.create,p=c({TwineScript_TypeName:&quot;a
typed variable name&quot;,get TwineScript_ObjectName(){return this.TwineScript_ToSource()},TwineScript_Print:function(){return&quot;`[A
typed variable
name]`&quot;},TwineScript_Unstorable:!0,TwineScript_Clone:function(){return
u(l(p),{datatype:this.datatype.TwineScript_Clone(),varRef:this.varRef})},TwineScript_ToSource:function(){return
o(this.datatype)+&quot;-type
&quot;+this.varRef.TwineScript_ToSource()},TwineScript_GetProperty:function(e){return&quot;name&quot;===e?this.getName():this[e]},TwineScript_Properties:[&quot;datatype&quot;,&quot;name&quot;],TwineScript_IsTypeOf:function(e){return
a(this.datatype,e)},get:function(){var e;return(e=this.varRef).get.apply(e,arguments)},getName:function(){return
this.varRef.getName()},defineType:function(){if(&quot;any&quot;!==this.datatype.name)return
this.varRef.defineType(this.datatype)},create:function(e,t){var
n;if(n=r.containsError(t)||r.containsError(e)||t.error)return n;var
a=s(e);return
a&amp;&amp;!p.isPrototypeOf(a)?r.create(&quot;syntax&quot;,&quot;The -type
syntax can't have &quot;+i(a)+&quot; to its
left.&quot;):u(l(this),{datatype:e,varRef:t})}});return
p}),define(&quot;macros&quot;,[&quot;jquery&quot;,&quot;utils/naturalsort&quot;,&quot;utils&quot;,&quot;utils/operationutils&quot;,&quot;datatypes/changercommand&quot;,&quot;datatypes/custommacro&quot;,&quot;datatypes/lambda&quot;,&quot;datatypes/hookset&quot;,&quot;datatypes/codehook&quot;,&quot;datatypes/typedvar&quot;,&quot;datatypes/datatype&quot;,&quot;internaltypes/changedescriptor&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,a,o,s,c,u,l,p,f){var
d=n.insensitiveName,h=n.nth,y=n.plural,m=n.andList,g=n.lockProperty,v=(r.clone,r.objectName),b=r.typeName,w=r.singleTypeCheck,T=r.toSource,S=void
0,x={};function k(e,n,r){var i=n.fn,a=n.typeSignature,s=n.isChanger,u=void
0!==s&amp;&amp;s,l=r[0];r=function(e){return e.reduce(function(e,n){if(n&amp;&amp;!0===n.spreader){var
r=n.value,i=f.containsError(r);if(i)e.push(i);else
if(Array.isArray(r)||&quot;string&quot;==typeof r)for(var
a=0;a&lt;r.length;a++)e.push(r[a]);else r instanceof
Set?e.push.apply(e,_toConsumableArray(Array.from(r).sort(t(&quot;en&quot;)))):e.push(f.create(&quot;operation&quot;,&quot;I
can't spread out &quot;+v(r)+&quot;, because it is not a string, dataset, or
array.&quot;))}else e.push(n);return e},[])}(r.slice(1)),a=[].concat(a||[]);var
p=!e,d=p?&quot;&quot;:&quot;(&quot;+(Array.isArray(e)&amp;&amp;e.length&gt;1?e[0]:e)+&quot;:)&quot;;e=p?&quot;this
custom macro&quot;:&quot;the &quot;+d+&quot; macro&quot;;var g=void
0;g=a.length&gt;0?e+&quot; must only be given
&quot;+m(a.map(b))+(a.length&gt;1?&quot;, in that
order&quot;:&quot;.&quot;):e+&quot; must not be given any
data.&quot;+(p?&quot;&quot;:&quot; Just write &quot;+d);for(var T=void
0,x=function(t,n){var i=a[t],s=r[t];if(f.containsError(s))return{v:s};if(c.isPrototypeOf(s)&amp;&amp;u)return{v:f.create(&quot;syntax&quot;,&quot;Please
put this hook outside the parentheses of the changer macro, not inside
it.&quot;,&quot;Hooks should appear after a
macro&quot;+(p?&quot;.&quot;:&quot;: &quot;+d+&quot;[Some
text]&quot;))};if(t&gt;=a.length&amp;&amp;!T)return{v:f.create(&quot;datatype&quot;,r.length-a.length+&quot;
too many values were given to
&quot;+e+&quot;.&quot;,g)};if(i||(i=T),!i.innerType||&quot;rest&quot;!==i.pattern&amp;&amp;&quot;zero
or
more&quot;!==i.pattern||(T=i.innerType,&quot;rest&quot;===i.pattern&amp;&amp;(i=i.innerType)),!w(s,i)){if(void
0===s){var l=a.filter(function(e){return!(&quot;optional&quot;===e.pattern||&quot;zero
or
more&quot;===e.pattern)}).length;return{v:f.create(&quot;datatype&quot;,e+&quot;
needs &quot;+y(l-t,&quot;more value&quot;)+&quot;.&quot;,g)}}return
s&amp;&amp;s.TwineScript_Unstorable&amp;&amp;(i===S.TypeSignature.Any||i.innerType&amp;&amp;i.innerType===S.TypeSignature.Any)?{v:f.create(&quot;datatype&quot;,e+&quot;'s
&quot;+h(t+1)+&quot; value, &quot;+v(s)+&quot;, is not valid data for this
macro.&quot;,g)}:s&amp;&amp;o.isPrototypeOf(s)&amp;&amp;&quot;lambda&quot;===i.pattern?{v:f.create(&quot;datatype&quot;,e+&quot;'s
&quot;+h(t+1)+&quot; value (a lambda) should have
&quot;+m([&quot;where&quot;,&quot;when&quot;,&quot;making&quot;,&quot;via&quot;,&quot;with&quot;].filter(function(e){return
i.clauses.includes(e)}).map(function(e){return&quot;a '&quot;+e+&quot;'
clause&quot;}))+&quot;, not
&quot;+m([&quot;where&quot;,&quot;when&quot;,&quot;making&quot;,&quot;via&quot;,&quot;with&quot;].filter(function(e){return
e in s}).map(function(e){return&quot;a '&quot;+e+&quot;'
clause&quot;}))+&quot;.&quot;)}:&quot;insensitive
set&quot;===i.pattern?{v:f.create(&quot;datatype&quot;,v(s)+&quot; is not a
valid name string for &quot;+e+&quot;.&quot;,&quot;Only the following names are
recognised (capitalisation and hyphens ignored):
&quot;+m(i.innerType)+&quot;.&quot;)}:{v:f.create(&quot;datatype&quot;,e+&quot;'s
&quot;+h(t+1)+&quot; value is &quot;+v(s)+&quot;, but should be
&quot;+b(i)+&quot;.&quot;,i.message||g)}}},k=0,O=Math.max(r.length,a.length);k&lt;O;k+=1){var
j=x(k);if(&quot;object&quot;===(void
0===j?&quot;undefined&quot;:_typeof(j)))return j.v}return i.apply(void
0,[l].concat(_toConsumableArray(r)))}function O(e,t,n){var
r=arguments.length&gt;3&amp;&amp;void 0!==arguments[3]&amp;&amp;arguments[3],i={fn:t,typeSignature:n};r&amp;&amp;(i.isChanger=!0),Object.freeze(i),Array.isArray(e)?e.forEach(function(e){return
g(x,d(e),i)}):g(x,d(e),i)}return S={has:function(e){return
e=d(e),x.hasOwnProperty(e)},get:function(e){return
e=d(e),x.hasOwnProperty(e)&amp;&amp;x[e]},add:function e(t,n,r){return
O(t,n,r),e},addChanger:function e(t,n,r,a){return
O(t,n,a,!0),i.register(Array.isArray(t)?t[0]:t,r),e},addCommand:function
e(t,n,r,i){var a=!(arguments.length&gt;4&amp;&amp;void
0!==arguments[4])||arguments[4];return O(t,function(e,t,n,r){return function(i){for(var
a=arguments.length,o=Array(a&gt;1?a-1:0),s=1;s&lt;a;s++)o[s-1]=arguments[s];var
c=t.apply(void 0,o);if(c)return c;var
u=p.create(),l=Object.assign({TwineScript_TypeID:&quot;command&quot;,TwineScript_ObjectName:&quot;a
(&quot;+e+&quot;:) command&quot;,TwineScript_TypeName:&quot;a
(&quot;+e+&quot;:) command&quot;,TwineScript_Print:function(){return&quot;`[A
(&quot;+e+&quot;:)
command]`&quot;},TwineScript_ToSource:function(){return&quot;(&quot;+e+&quot;:&quot;+o.map(T)+&quot;)&quot;},TwineScript_is:function(e){return
T(this)===T(e)}},r?{TwineScript_Attach:function(e,t){return u.section=e,t.run(u),l},TwineScript_Run:function(e){return
n.apply(void 0,[u,e].concat(o))}}:{TwineScript_Run:function(e){return
n.apply(void 0,[e].concat(o))}});return
l}}([].concat(t)[0],n,r,a),i),e},TypeSignature:{optional:function(e){return{pattern:&quot;optional&quot;,innerType:e}},zeroOrMore:function(e){return{pattern:&quot;zero
or more&quot;,innerType:e}},either:function(){for(var
e=arguments.length,t=Array(e),n=0;n&lt;e;n++)t[n]=arguments[n];return{pattern:&quot;either&quot;,innerType:t}},rest:function(e){return{pattern:&quot;rest&quot;,innerType:e}},insensitiveSet:function(){for(var
e=arguments.length,t=Array(e),n=0;n&lt;e;n++)t[n]=arguments[n];return{pattern:&quot;insensitive
set&quot;,innerType:t}},numberRange:function(){var
e=arguments.length&gt;0&amp;&amp;void
0!==arguments[0]?arguments[0]:0,t=arguments.length&gt;1&amp;&amp;void
0!==arguments[1]?arguments[1]:1/0;return{pattern:&quot;range&quot;,min:e,max:t,range:function(n){return&quot;number&quot;==typeof
n&amp;&amp;!Number.isNaN(n)&amp;&amp;n&gt;=e&amp;&amp;n&lt;=t}}},nonNegativeInteger:{pattern:&quot;range&quot;,integer:!0,min:0,max:1/0,range:function(e){return&quot;number&quot;==typeof
e&amp;&amp;!Number.isNaN(e)&amp;&amp;e&gt;=0&amp;&amp;!(e+&quot;&quot;).includes(&quot;.&quot;)}},positiveInteger:{pattern:&quot;range&quot;,integer:!0,min:1,max:1/0,range:function(e){return&quot;number&quot;==typeof
e&amp;&amp;!Number.isNaN(e)&amp;&amp;e&gt;=1&amp;&amp;!(e+&quot;&quot;).includes(&quot;.&quot;)}},wrapped:function(e,t){return{pattern:&quot;wrapped&quot;,innerType:e,message:t}},Any:{TwineScript_TypeName:&quot;anything&quot;},Everything:{TwineScript_TypeName:&quot;everything&quot;}},run:function(e,t){return
S.has(e)?k(e,S.get(e),t):f.create(&quot;macrocall&quot;,&quot;I can't run the
macro '&quot;+e+&quot;' because it doesn't exist.&quot;,&quot;Did you mean to
run a macro? If you have a word written like (this:), it is regarded as a macro
name.&quot;)},runCustom:function(e,t){return
a.isPrototypeOf(e)?k(&quot;&quot;,e,t):f.create(&quot;macrocall&quot;,&quot;I
can't call &quot;+v(e)+&quot; because it isn't a custom macro.&quot;)}},Object.assign(S.TypeSignature,{positiveNumber:S.TypeSignature.numberRange(Math.pow(2,-52),1/0),nonNegativeNumber:S.TypeSignature.numberRange(0,1/0),percent:S.TypeSignature.numberRange(0,1)}),Object.freeze(S)}),define(&quot;datatypes/varbind&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;utils/operationutils&quot;,&quot;internaltypes/varref&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i){var
a=n.objectName;return
r.on(&quot;set&quot;,function(n,r){n.TwineScript_VariableStore&amp;&amp;e(t.storyElement).find(&quot;[data-2bind]&quot;).each(function(t,i){var
a=(i=e(i)).data(&quot;twoWayBindEvent&quot;);&quot;function&quot;==typeof
a&amp;&amp;a(i,n,r)})}),Object.freeze({TwineScript_TypeName:&quot;a bound
variable&quot;,TwineScript_ObjectName:&quot;a bound
variable&quot;,TwineScript_Unstorable:!0,TwineScript_ToSource:function(){return(&quot;two
way&quot;===this.bind?&quot;2&quot;:&quot;&quot;)+&quot;bind &quot;+this.varRef.TwineScript_ToSource()},set:function(e){var
t,n=this.varRef.set(e);if(t=i.containsError(n))return t},create:function(e){var
t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:&quot;one
way&quot;;return
r.isPrototypeOf(e)?e.error?e.error:Object.assign(Object.create(this),{varRef:e,bind:t}):i.create(&quot;operation&quot;,&quot;I
can only 'bind' a variable, not
&quot;+a(e)+&quot;.&quot;)}})}),define(&quot;datatypes/assignmentrequest&quot;,[&quot;utils/operationutils&quot;,&quot;datatypes/typedvar&quot;,&quot;datatypes/datatype&quot;,&quot;internaltypes/varref&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i){var
a=e.objectName,o=e.matches;return
Object.freeze({assignmentRequest:!0,TwineScript_TypeName:&quot;a 'to' or 'into'
expression&quot;,TwineScript_ObjectName:&quot;a 'to' or 'into'
expression&quot;,TwineScript_Unstorable:!0,set:function(){var
e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]&amp;&amp;arguments[0],s=void
0,c=[],u=function e(s,c){var u,l=!(arguments.length&gt;2&amp;&amp;void
0!==arguments[2])||arguments[2],p=[],f=void
0;if(f=c&amp;&amp;r.isPrototypeOf(c)?c.get():c,u=i.containsError(f))return
u;if(Array.isArray(f)&amp;&amp;Array.isArray(s)){for(var d=0,h=0;d&lt;s.length&amp;&amp;h&lt;f.length;){var
y=s[d],m=f[h];if(t.isPrototypeOf(y)&amp;&amp;y.datatype.rest||n.isPrototypeOf(y)&amp;&amp;y.rest){for(var
g=h;h&lt;f.length&amp;&amp;o(y,m);)m=f[h+=1];t.isPrototypeOf(y)?y.datatype=[y.datatype]:n.isPrototypeOf(y)&amp;&amp;(y=n.create(&quot;array&quot;)),p=p.concat(e(y,r.isPrototypeOf(c)?r.create(c,{first:g+1,last:h+1}):f.slice(g,h)))}else
p=p.concat(e(y,r.isPrototypeOf(c)?r.create(c,h+1):m)),h+=1;d+=1}return
d&lt;s.length?l&amp;&amp;i.create(&quot;operation&quot;,&quot;I can't unpack
this array because it needs &quot;+(s.length-d)+&quot; more value&quot;+(s.length-d&gt;0?&quot;s&quot;:&quot;&quot;)+&quot;.&quot;):p}if(s
instanceof Map&amp;&amp;f instanceof Map){var v=!0,b=!1,w=void 0;try{for(var
T,S=s.entries()[Symbol.iterator]();!(v=(T=S.next()).done);v=!0){var
x=_slicedToArray(T.value,2),k=x[0],O=x[1];if(!f.has(k))return
l&amp;&amp;i.create(&quot;operation&quot;,&quot;I can't unpack this datamap because
it needs a '&quot;+k+&quot;' data
name.&quot;);p=p.concat(e(O,r.isPrototypeOf(c)?r.create(c,k):f.get(k)))}}catch(e){b=!0,w=e}finally{try{!v&amp;&amp;S.return&amp;&amp;S.return()}finally{if(b)throw
w}}return p}if(t.isPrototypeOf(s)){if(&quot;function&quot;==typeof
s.datatype.destructure)return[{dest:s,value:f,src:c}].concat(s.datatype.destructure(f));if(!o(f,s.datatype))return[l&amp;&amp;i.create(&quot;operation&quot;,&quot;I
can't unpack &quot;+a(f)+&quot; into
&quot;+s.varRef.TwineScript_ToSource()+&quot; because it doesn't match &quot;+a(s.datatype)+&quot;.&quot;)];p=p.concat(e(s.datatype,f))}return
r.isPrototypeOf(s)||t.isPrototypeOf(s)?p.concat({dest:s,value:f,src:c}):&quot;function&quot;==typeof
s.destructure?p.concat(s.destructure(f)):o(f,s)?p:l&amp;&amp;i.create(&quot;operation&quot;,&quot;I
tried to unpack, but &quot;+a(s)+&quot; in the pattern didn't match
&quot;+a(f)+&quot;.&quot;)}(this.dest,this.src);if(s=i.containsError(u))return
s;if(!u.length)return i.create(&quot;operation&quot;,&quot;I can't store a new
value inside &quot;+a(this.dest)+&quot; that isn't in a
variable.&quot;,&quot;You need a variable, or a data structure containing
variables at certain positions, to store the value.&quot;);var l=!0,p=!1,f=void
0;try{for(var
d,h=u.reverse()[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var
y=d.value,m=y.dest,g=y.value,v=y.src;if(t.isPrototypeOf(m)){if(s=i.containsError(m.defineType()))return
s;m=m.varRef}if(s=m.set(g),i.isPrototypeOf(s))return
s;e&amp;&amp;v&amp;&amp;v.delete(),c.shift(a(m)+&quot; is now
&quot;+a(g))}}catch(e){p=!0,f=e}finally{try{!l&amp;&amp;h.return&amp;&amp;h.return()}finally{if(p)throw
f}}return c.join(&quot;; &quot;)},create:function(e,t,n){return Object.assign(Object.create(this),{dest:e,src:t,operator:n})}})}),define(&quot;twinescript/operations&quot;,[&quot;jquery&quot;,&quot;state&quot;,&quot;datatypes/assignmentrequest&quot;,&quot;utils/operationutils&quot;,&quot;internaltypes/varref&quot;,&quot;datatypes/typedvar&quot;,&quot;datatypes/datatype&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,a,o,s){var
c=r.isObject,u=r.collectionType,l=r.is,p=r.isA,f=r.clone,d=r.unique,h=r.contains,y=r.matches,m=r.objectName,g=void
0,v=0;function b(e,t,n,r){return n=n||&quot;do this
to&quot;,function(i,a){1===t.length&amp;&amp;(a=i);var
o;return(o=s.containsError(i,a))?o:(void 0===i?&quot;undefined&quot;:_typeof(i))!==e||(void
0===a?&quot;undefined&quot;:_typeof(a))!==e?s.create(&quot;operation&quot;,&quot;I
can only &quot;+n+&quot; &quot;+e+&quot;s, not &quot;+m((void
0===i?&quot;undefined&quot;:_typeof(i))!==e?i:a)+&quot;.&quot;,r):t(i,a)}}function
w(e){return function(t,n){var r;if(r=s.containsError(t,n))return r;if((void
0===t?&quot;undefined&quot;:_typeof(t))!==(void
0===n?&quot;undefined&quot;:_typeof(n))||c(t)&amp;&amp;&quot;TwineScript_TypeName&quot;in
t&amp;&amp;c(n)&amp;&amp;&quot;TwineScript_TypeName&quot;in
n&amp;&amp;t.TwineScript_TypeName!==n.TwineScript_TypeName||u(t)!==u(n)){var
i=m(t)+&quot; isn't the same type of data as &quot;+m(n);return
s.create(&quot;operation&quot;,i[0].toUpperCase()+i.slice(1))}return
e(t,n)}}function T(e,t){var n=arguments.length&gt;2&amp;&amp;void
0!==arguments[2]&amp;&amp;arguments[2];return function r(i,a){var o=void
0;if(o=s.containsError(i,a))return o;v=i;var c=i.determiner?[i,a]:a.determiner?[a,i]:[],u=_slicedToArray(c,2),l=u[0],p=u[1];if(l){var
f=l.determiner;if(&quot;start&quot;===f||&quot;end&quot;===f){if(t)return
s.create(&quot;operation&quot;,&quot;I can't use '&quot;+t+&quot;' with the
'start' or 'end' of &quot;+m(l)+&quot;.&quot;);if(p.determiner){if(&quot;start&quot;===p.determiner||&quot;end&quot;===p.determiner)return
s.create(&quot;operation&quot;,&quot;I can't compare one value's 'start' or
'end' with another value's 'start' or 'end'.&quot;,&quot;Please change one of
them to use an exact range, such as '1stto4th' or '2ndlasttolast'.&quot;);var
d=[p,l];l=d[0],p=d[1]}for(var h=l.string||l.array,y=0;y&lt;h.length+1;y+=1){var
g=y?&quot;end&quot;===f?h.slice(-y):h.slice(0,y):h.constructor(),b=l===i?r(g,a):r(i,g);if(o=s.containsError(b))return
o;if(b!==n)return b}return n}var w=&quot;all&quot;===f;return
l.array.reduce(function(e,t){var n,o=l===i?r(t,a):r(i,t);return(n=s.containsError(e,o))?n:w?e&amp;&amp;o:e||o},w)}return
e(i,a)}}function S(e,t){return T(function(t,n){var r=e(t,n);return
s.containsError(r)?r:!r},t,!0)}var x=&quot;If one of these values is a number,
you may want to write a check that it 'is not 0'. Also, if one is a string, you
may want to write a check that it 'is not \&quot;\&quot; '.&quot;;return
g={create:function(n){var r=Object.create(this);return
r.Identifiers={TwineScript_Identifiers:!0,get it(){return v},get time(){return
n.stackTop&amp;&amp;n.stackTop.evaluateOnly?s.create(&quot;operation&quot;,&quot;'time'
can't be used in
&quot;+n.stackTop.evaluateOnly+&quot;.&quot;):Date.now()-n.timestamp},get
visits(){var e=n.stackTop.speculativePassage,r=function(n){return
n===(e||t.passage)};return
t.pastPassageNames().filter(r).length+t.mockVisits.filter(r).length+(!e||e===t.passage)},get
visit(){return r.Identifiers.visits},get exits(){return
n.stackTop&amp;&amp;n.stackTop.evaluateOnly?s.create(&quot;operation&quot;,&quot;'exit'
and 'exits' can't be used in
&quot;+n.stackTop.evaluateOnly+&quot;.&quot;):n.dom.find(&quot;tw-enchantment,
tw-link&quot;).filter(function(t,n){return e(n).data(&quot;enchantmentEvent&quot;)||e(n).parent().data(&quot;linkPassageName&quot;)||e(n).parent().data(&quot;clickEvent&quot;)}).length},get
exit(){return r.Identifiers.exits},get pos(){return
n.stackTop&amp;&amp;!n.stackTop.evaluateOnly&amp;&amp;n.stackTop.lambdaPos?+n.stackTop.lambdaPos||1:s.create(&quot;operation&quot;,&quot;'pos'
can only be used in lambdas that aren't 'when'
lambdas.&quot;)}},r},elidedComparisonOperator:function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];return
r.reduce(function(n,r){return&quot;boolean&quot;==typeof r?r:g[e](n,g[t](v,r))},&quot;and&quot;===e)},and:b(&quot;boolean&quot;,w(function(e,t){return
e&amp;&amp;t}),&quot;use 'and' to
join&quot;,x),or:b(&quot;boolean&quot;,w(function(e,t){return e||t}),&quot;use
'or' to join&quot;,x),not:b(&quot;boolean&quot;,function(e){return!e},&quot;use
'not' to invert&quot;,x),&quot;+&quot;:w(function(e,t){if(Array.isArray(e))return[].concat(_toConsumableArray(e),_toConsumableArray(t));var
n=void 0;return e instanceof Map?(n=new Map(e),t.forEach(function(e,t){return
n.set(t,e)}),n):e instanceof Set?new
Set([].concat(_toConsumableArray(e),_toConsumableArray(t)).filter(d).map(f)):&quot;function&quot;==typeof
e[&quot;TwineScript_+&quot;]?e[&quot;TwineScript_+&quot;](t):&quot;string|number|boolean&quot;.includes(void
0===e?&quot;undefined&quot;:_typeof(e))?e+t:s.create(&quot;operation&quot;,&quot;I
can't use + on &quot;+m(e)+&quot;.&quot;)}),&quot;-&quot;:w(function(e,t){if(Array.isArray(e))return
e.filter(function(e){return!t.some(function(t){return l(e,t)})});if(e
instanceof Set){var n=[].concat(_toConsumableArray(t));return new
Set([].concat(_toConsumableArray(e)).filter(function(e){return!n.some(function(t){return
l(e,t)})}))}return&quot;string&quot;==typeof e?e.split(t).join(&quot;&quot;):&quot;number&quot;==typeof
e?e-t:s.create(&quot;operation&quot;,&quot;I can't use - on
&quot;+m(e)+&quot;.&quot;)}),&quot;*&quot;:b(&quot;number&quot;,w(function(e,t){return
e*t}),&quot;multiply&quot;),&quot;/&quot;:b(&quot;number&quot;,w(function(e,t){return
0===t?s.create(&quot;operation&quot;,&quot;I can't divide &quot;+m(e)+&quot; by
zero.&quot;):e/t}),&quot;divide&quot;),&quot;%&quot;:b(&quot;number&quot;,w(function(e,t){return
0===t?s.create(&quot;operation&quot;,&quot;I can't modulo &quot;+m(e)+&quot; by
zero.&quot;):e%t}),&quot;modulus&quot;),&quot;&lt;&quot;:T(b(&quot;number&quot;,w(function(e,t){return
e&lt;t}),&quot;do &lt;
to&quot;),&quot;&lt;&quot;),&quot;&gt;&quot;:T(b(&quot;number&quot;,w(function(e,t){return
e&gt;t}),&quot;do &gt; to&quot;),&quot;&gt;&quot;),&quot;&lt;=&quot;:T(b(&quot;number&quot;,w(function(e,t){return
e&lt;=t}),&quot;do &lt;=
to&quot;),&quot;&lt;=&quot;),&quot;&gt;=&quot;:T(b(&quot;number&quot;,w(function(e,t){return
e&gt;=t}),&quot;do &gt;=
to&quot;),&quot;&gt;=&quot;),is:T(l),isNot:S(l),contains:T(h,&quot;contains&quot;),doesNotContain:S(h,&quot;does
not contain&quot;),isIn:T(function(e,t){return h(t,e)},&quot;is in&quot;),isNotIn:S(function(e,t){return
h(t,e)},&quot;is not in&quot;),isA:T(p,&quot;is a&quot;),isNotA:S(p,&quot;is
not a&quot;),typifies:T(function(e,t){return
p(t,e)}),untypifies:S(function(e,t){return
p(t,e)}),matches:T(y),doesNotMatch:S(y),where:function(e,t,n){var
r;return(r=s.containsError(e))?r:&quot;boolean&quot;!=typeof
e?s.create(&quot;operation&quot;,&quot;This lambda's 'where' clause must
evaluate to true or false, not
&quot;+m(e)+&quot;.&quot;):e?t:n},makeSpreader:function(e){if(a.isPrototypeOf(e)||o.isPrototypeOf(e)){var
t=f(e);return(a.isPrototypeOf(e)?t.datatype:t).rest=!0,t}return{value:e,spreader:!0,TwineScript_TypeName:&quot;a
spreaded '...' value&quot;,TwineScript_ObjectName:&quot;a spreaded '...'
value&quot;,TwineScript_Unstorable:!0}},makeAssignmentRequest:function(e,t,r){var
i=s.containsError(e,t);return i||n.create(e,t,r)},setIt:function(e){return
i.isPrototypeOf(e)||a.isPrototypeOf(e)?(v=e.get(),e):e},initialiseIt:function(e){v=e}},Object.freeze(g)}),define(&quot;twinescript/environ&quot;,[&quot;macros&quot;,&quot;state&quot;,&quot;utils&quot;,&quot;datatypes/colour&quot;,&quot;datatypes/hookset&quot;,&quot;datatypes/lambda&quot;,&quot;datatypes/datatype&quot;,&quot;datatypes/varbind&quot;,&quot;datatypes/codehook&quot;,&quot;datatypes/typedvar&quot;,&quot;internaltypes/varref&quot;,&quot;internaltypes/twineerror&quot;,&quot;twinescript/operations&quot;],function(Macros,State,Utils,Colour,HookSet,Lambda,Datatype,VarBind,CodeHook,TypedVar,VarRef,TwineError,OperationsProto){return
function(section){&quot;object&quot;===(void
0===section?&quot;undefined&quot;:_typeof(section))&amp;&amp;section||Utils.impossible(&quot;TwineScript.environ&quot;,&quot;no
Section argument was given!&quot;);var Operations=OperationsProto.create(section);return
section.eval=function(){try{return eval(arguments[0])}catch(e){return
e}},section}}),define(&quot;section&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;renderer&quot;,&quot;twinescript/environ&quot;,&quot;twinescript/operations&quot;,&quot;state&quot;,&quot;utils/operationutils&quot;,&quot;utils/renderutils&quot;,&quot;datatypes/changercommand&quot;,&quot;datatypes/hookset&quot;,&quot;datatypes/colour&quot;,&quot;datatypes/lambda&quot;,&quot;internaltypes/changedescriptor&quot;,&quot;internaltypes/varscope&quot;,&quot;internaltypes/twineerror&quot;,&quot;internaltypes/twinenotifier&quot;],function(e,t,n,r,i,a,o,s,c,u,l,p,f,d,h,y){var
m,g=o.printBuiltinValue,v=o.objectName,b=o.typeID,w=s.collapse;function
T(e,n,r){if(n&amp;&amp;&quot;object&quot;===(void
0===n?&quot;undefined&quot;:_typeof(n))&amp;&amp;c.isPrototypeOf(n)){if(r.data(&quot;originalSource&quot;,r.popAttr(&quot;source&quot;)),!this.renderInto(r.data(&quot;originalSource&quot;),r,n)){var
i=t.insensitiveName(e.attr(&quot;name&quot;));if([&quot;if&quot;,&quot;elseif&quot;,&quot;unless&quot;,&quot;else&quot;,&quot;testfalse&quot;].includes(i)&amp;&amp;(e.addClass(&quot;false&quot;),&quot;elseif&quot;!==i&amp;&amp;(this.stackTop.lastHookShown=!1)),r.data(&quot;live&quot;)){var
a=r.data(&quot;live&quot;),o=a.delay,s=a.event;(function(e,n){var r=this,i=arguments.length&gt;2&amp;&amp;void
0!==arguments[2]?arguments[2]:20,a=arguments.length&gt;3&amp;&amp;void
0!==arguments[3]?arguments[3]:void
0;a&amp;&amp;t.assertMustHave(a,[&quot;when&quot;]);var
o=n.data(&quot;originalSource&quot;)||&quot;&quot;,s=_slicedToArray(this.stack,1)[0].tempVariables,c=this.whenUnblocked.bind(this,function(){if(r.inDOM()){var
t=a&amp;&amp;a.filter(r,[!0],s);h.containsError(t)?t.render(e.attr(&quot;title&quot;)).replaceAll(e):!a||t[0]?(r.renderInto(o,n,{append:&quot;replace&quot;}),t||n.find(&quot;tw-expression[name='stop']&quot;).length||r.inDOM()&amp;&amp;setTimeout(c,i)):setTimeout(c,i)}});setTimeout(c,i)}).call(this,e,r,o,s)}return}}else{if(!1===n)return
r.attr(&quot;source&quot;)&amp;&amp;(r.data(&quot;originalSource&quot;,r.popAttr(&quot;source&quot;)),r.data(&quot;hidden&quot;,!0)),e.addClass(&quot;false&quot;),void(this.stackTop.lastHookShown=!1);!0!==n&amp;&amp;e.replaceWith(h.create(&quot;datatype&quot;,v(n)+&quot;
cannot be attached to this hook.&quot;,&quot;Only Booleans and changers can be
attached to
hooks.&quot;).render(e.attr(&quot;title&quot;)))}this.stackTop.lastHookShown=!0}function
S(t){var n=(t instanceof e?t[0]:t).nextSibling;if(n&amp;&amp;(n instanceof
Text&amp;&amp;!n.textContent.trim()||[&quot;br&quot;,&quot;tw-consecutive-br&quot;].includes((n.tagName||&quot;&quot;).toLowerCase()))){var
r=S(n),i=r.whitespace,a=r.nextElem;return{whitespace:e(n).add(i),nextElem:a}}return{whitespace:e(),nextElem:e(n)}}var
x={add:[],remove:[]};return m={create:function(e){var
n=Object.assign(Object.create(this),{timestamp:Date.now(),dom:e||t.storyElement,stack:[],enchantments:[],unblockCallbacks:[]});return
n=r(n)},get stackTop(){return this.stack[0]},inDOM:function(){return
e(t.storyElement).find(this.dom).length&gt;0},evaluateTwineMarkup:function(t,n){var
r=e(&quot;&lt;p&gt;&quot;);this.stack.unshift({desc:f.create({target:r,source:t,section:this,append:&quot;append&quot;}),tempVariables:this.stackTop.tempVariables,evaluateOnly:n,finalIter:!0}),this.execute();var
i;return(i=r.find(&quot;tw-error&quot;)).length&gt;0?i:r},speculate:function(e,t,n){this.stack.unshift({evaluateOnly:n,finalIter:!0,tempVariables:Object.assign(Object.create(d),{TwineScript_VariableStoreName:n}),speculativePassage:t});var
r=void 0;return
r=p.isPrototypeOf(e)?e.apply(this,{fail:!1,pass:!0}):this.eval(e),this.stack.shift(),r},renderInto:function(t,n,r){var
i=this,a=arguments.length&gt;3&amp;&amp;void
0!==arguments[3]?arguments[3]:null,o=f.create({target:n,source:t,section:this,append:&quot;append&quot;});if(r)if(c.isPrototypeOf(r)){var
s=r.run(o);if(h.containsError(s))return
s.render(n.attr(&quot;title&quot;)).replaceAll(n),!1}else Object.assign(o,r);if((n=o.target,this.stack.length&gt;=50)&amp;&amp;this.stack.reduce(function(e,t){return
e+!!t.finalIter},0)&gt;=50)return h.create(&quot;infinite&quot;,&quot;Printing
this expression may have trapped me in an infinite
loop.&quot;).render(n.attr(&quot;title&quot;)).replaceAll(n),!1;var
u=function(t,r,a){var o=n instanceof
e&amp;&amp;n.is(&quot;tw-hook&quot;)&amp;&amp;n.parents(&quot;tw-collapsed,[collapsing=true]&quot;).length&gt;0;i.stack.unshift({desc:t,finalIter:a,tempVariables:r,collapses:o,evaluateOnly:i.stackTop&amp;&amp;i.stackTop.evaluateOnly})};if(a||(a=Object.create(this.stack.length?this.stackTop.tempVariables:d)),!a.hasOwnProperty(&quot;TwineScript_VariableStoreName&quot;)){var
l=n&amp;&amp;n.tag();a.TwineScript_VariableStoreName=&quot;tw-hook&quot;===l?n.attr(&quot;name&quot;)?&quot;?&quot;+n.attr(&quot;name&quot;):&quot;an
unnamed hook&quot;:&quot;tw-expression&quot;===l?&quot;a
&quot;+n.attr(&quot;type&quot;)+&quot; expression&quot;:&quot;tw-passage&quot;===l?&quot;this
passage&quot;:&quot;an unknown scope&quot;}return
Object.keys(o.loopVars).length?function(){var
e=Object.assign({},o.loopVars),t=Math.min.apply(Math,_toConsumableArray(Object.keys(e).map(function(t){return
e[t].length})));if(y.create(t+&quot; loop&quot;+(1!==t?&quot;s&quot;:&quot;&quot;)).render().prependTo(n),t){for(var
r=function(n){u(o,Object.keys(e).reduce(function(t,r){return
t[r]=e[r][n],t},Object.create(a),n===t-1))},s=t-1;s&gt;=0;s-=1)r(s);for(s=t-1;s&gt;=0&amp;&amp;!i.stackTop.blocked;s-=1)i.execute()}}():(u(o,a,!0),this.execute()),0===this.stack.length&amp;&amp;this.updateEnchantments(),o.enabled},execute:function(){var
n=this,r=this.stackTop,a=r.desc,o=r.dom,s=r.collapses,u=r.evaluateOnly;a&amp;&amp;!o&amp;&amp;(o=a.render(),this.stackTop.dom=o,this.stackTop.desc=void
0),o.findAndFilter(&quot;tw-hook,tw-expression&quot;).each(function(r,a){if(n.stackTop.blocked)return!1;switch((a=e(a)).tag()){case&quot;tw-hook&quot;:var
o=a.popAttr(&quot;source&quot;)||&quot;&quot;;if(o&amp;&amp;a.data(&quot;originalSource&quot;,o),a.data(&quot;tempVariables&quot;,n.stackTop.tempVariables),a.popAttr(&quot;hidden&quot;)){a.data(&quot;hidden&quot;,!0);break}o&amp;&amp;n.renderInto(o,a);break;case&quot;tw-expression&quot;:if(a.attr(&quot;blockers&quot;)){if(u)return
void
a.removeAttr(&quot;blockers&quot;).removeAttr(&quot;js&quot;).replaceWith(h.create(&quot;syntax&quot;,&quot;I
can't use a macro like (prompt:) or (confirm:) in
&quot;+u+&quot;.&quot;,&quot;Please rewrite this without putting such macros
here.&quot;).render(a.attr(&quot;title&quot;),a));var
s=[];try{s=JSON.parse(a.popAttr(&quot;blockers&quot;)),a.data(&quot;blockers&quot;,s)}catch(e){t.impossible(&quot;Section.execute&quot;,&quot;JSON.parse
blockers failed.&quot;)}}if(a.data(&quot;blockers&quot;)){var
p=a.data(&quot;blockers&quot;);if(p.length){n.stackTop.blocked=!0;var
d=n.eval(p.shift());return
h.containsError(d)&amp;&amp;(n.stackTop.blocked=!1,a.removeData(&quot;blockers&quot;).replaceWith(d.render(a.attr(&quot;title&quot;),a))),!1}a.removeData(&quot;blockers&quot;)}a.attr(&quot;js&quot;)&amp;&amp;function(n){var
r=this.eval(n.popAttr(&quot;js&quot;)||&quot;&quot;);this.stackTop.evaluateOnly&amp;&amp;r&amp;&amp;(c.isPrototypeOf(r)||&quot;function&quot;==typeof
r.TwineScript_Run)&amp;&amp;(r=h.create(&quot;syntax&quot;,&quot;I can't work
out what &quot;+this.stackTop.evaluateOnly+&quot; should evaluate to, because
it contains a &quot;+(c.isPrototypeOf(r)?&quot;changer.&quot;:&quot;command.&quot;),&quot;Please
rewrite this without putting changers or commands here.&quot;));var a=void
0,o=void 0,s=e();for(o=n;c.isPrototypeOf(r);){var
u=S(o);if(a=u.whitespace,(o=u.nextElem)[0]instanceof
Text&amp;&amp;&quot;+&quot;===o[0].textContent.trim()){var
p,d=o,m=S(d);if(p=m.whitespace,(o=m.nextElem).is(&quot;tw-expression&quot;)){var
w=this.eval(o.popAttr(&quot;js&quot;));if(h.containsError(w)){r=w;break}var
x=i[&quot;+&quot;](r,w);e(a).add(d).add(p).remove(),r=h.containsError(x)?h.create(&quot;operation&quot;,&quot;I
can't combine &quot;+v(r)+&quot; with &quot;+v(w)+&quot;.&quot;,&quot;function&quot;==typeof
w.TwineScript_Run?&quot;If you want to attach this changer to
&quot;+v(w)+&quot;, remove the + between them.&quot;:&quot;Changers can only be
added to other
changers.&quot;):x;continue}}if(o.is(&quot;tw-expression&quot;)){var
k=this.eval(o.popAttr(&quot;js&quot;));if(h.containsError(k)){r=k;break}if(k&amp;&amp;&quot;object&quot;===(void
0===k?&quot;undefined&quot;:_typeof(k))&amp;&amp;&quot;function&quot;==typeof
k.TwineScript_Attach){r=k.TwineScript_Attach(this,r);break}return
c.isPrototypeOf(k)?void
n.replaceWith(h.create(&quot;operation&quot;,&quot;Changers like
(&quot;+r.macroName+&quot;:) need to be combined using + between
them.&quot;,&quot;Place the + between the changer macros, or the variables
holding them. The + is absent only between a changer and its attached hook or
command.&quot;).render(n.attr(&quot;title&quot;))):void
n.replaceWith(h.create(&quot;operation&quot;,v(k)+&quot; can't have changers like
(&quot;+r.macroName+&quot;:) attached.&quot;,&quot;Changers placed just before
hooks, links and commands will attempt to attach, but in this case it didn't
work.&quot;).render(n.attr(&quot;title&quot;)))}if(o.is(&quot;tw-hook&quot;)){a.remove(),s=o;break}r.macroName||t.impossible(&quot;Section.runExpression&quot;,&quot;changer
has no macroName&quot;);var
O=n.attr(&quot;title&quot;)||&quot;(&quot;+r.macroName+&quot;:
...)&quot;;return void n.replaceWith(h.create(&quot;syntax&quot;,&quot;The
(&quot;+r.macroName+&quot;:) changer should be stored in a variable or attached
to a hook.&quot;,&quot;Macros like this should appear before a hook:
&quot;+O+&quot;[Some text]&quot;).render(n.attr(&quot;title&quot;)))}n.attr(&quot;return&quot;,b(r)),s=s.length?s:S(n).nextElem.filter(&quot;tw-hook&quot;);var
j=void 0;if(j=h.containsError(r))j instanceof
Error&amp;&amp;(j=h.fromError(j)),n.replaceWith(j.render(n.attr(&quot;title&quot;),n));else
if(y.isPrototypeOf(r))n.append(r.render());else if(r&amp;&amp;&quot;function&quot;==typeof
r.TwineScript_Run)if(r=r.TwineScript_Run(this),h.containsError(r))n.replaceWith(r.render(n.attr(&quot;title&quot;)));else
if(f.isPrototypeOf(r)){if(r.data&amp;&amp;r.data.live)return void
n.replaceWith(h.create(&quot;unimplemented&quot;,&quot;I currently can't attach
(live:) or (event:) macros to commands - only
hooks.&quot;).render(n.attr(&quot;title&quot;)));r.section=this,r.target=o,this.renderInto(&quot;&quot;,o,r)}else{if(&quot;blocked&quot;===r)return
this.stackTop.blocked=!0,void n.attr(&quot;js&quot;,&quot;section.blockedValue()&quot;);r&amp;&amp;t.impossible(&quot;Section.runExpression&quot;,&quot;TwineScript_Run()
returned a non-ChangeDescriptor &quot;+(void
0===r?&quot;undefined&quot;:_typeof(r))+':
&quot;'+r+'&quot;')}else!s.length&amp;&amp;(&quot;string&quot;==typeof
r||&quot;number&quot;==typeof r||r instanceof Map||r instanceof
Set||Array.isArray(r)||l.isPrototypeOf(r))||r&amp;&amp;&quot;function&quot;==typeof
r.TwineScript_Print&amp;&amp;!c.isPrototypeOf(r)?(r=g(r),h.containsError(r)?(r
instanceof
Error&amp;&amp;(r=h.fromError(r)),n.replaceWith(r.render(n.attr(&quot;title&quot;)))):&quot;string&quot;!=typeof
r?t.impossible(&quot;printBuiltinValue() produced a non-string &quot;+(void
0===r?&quot;undefined&quot;:_typeof(r))):this.renderInto(r,n)):s.length?T.call(this,n,r,s):c.isPrototypeOf(r)||&quot;boolean&quot;==typeof
r||t.impossible(&quot;Section.runExpression&quot;,&quot;The expression
evaluated to an unknown value: &quot;+r)}.call(n,a)}}),this.stackTop.blocked||(o.length&amp;&amp;s&amp;&amp;w(o),o.findAndFilter(&quot;tw-collapsed,[collapsing=true]&quot;).each(function(){w(e(this))}),this.stack.shift())},updateEnchantments:function(){this.enchantments.forEach(function(e){e.disenchant(),e.enchantScope()})},on:function(e,t){return
x[e].push(t),this},addEnchantment:function(e){var
t=this;this.enchantments.push(e),x.add.forEach(function(n){return
n(t,e)})},removeEnchantment:function(e){var
t=this,n=this.enchantments.indexOf(e);this.enchantments.splice(n,1),e.disenchant(),x.remove.forEach(function(n){return
n(t,e)})},unblock:function(e){for(this.stack.length||t.impossible(&quot;Section.unblock&quot;,&quot;stack
is empty&quot;),this.stackTop.blocked=!1,void
0!==e&amp;&amp;(this.stackTop.blockedValues=(this.stackTop.blockedValues||[]).concat(e));this.stack.length&amp;&amp;!this.stackTop.blocked;)this.execute();if(!this.stack.length)for(;this.unblockCallbacks.length&gt;0;){if(this.unblockCallbacks.shift()(),this.stackTop&amp;&amp;this.stackTop.blocked)return}},whenUnblocked:function(e){this.stack.length&amp;&amp;this.stackTop.blocked?this.unblockCallbacks=this.unblockCallbacks.concat(e):e()},blockedValue:function(){var
e=this.stackTop;return
e||t.impossible(&quot;Section.blockedValue&quot;,&quot;stack is
empty&quot;),e.blockedValues&amp;&amp;e.blockedValues.length||t.impossible(&quot;Section.blockedValue&quot;,&quot;blockedValues
is missing or empty&quot;),e.blockedValues.shift()}},Object.preventExtensions(m)}),define(&quot;engine&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;state&quot;,&quot;section&quot;,&quot;passages&quot;],function(e,t,n,r,i){var
a,o=t.escape,s=t.impossible,c=t.passageSelector,u=t.transitionOut,l=Object.create(null);function
p(e,t){return&quot;&lt;tw-include type=&quot;+e+&quot;
title='&quot;+o(t.get(&quot;name&quot;))+&quot;'&gt;&quot;+t.get(&quot;source&quot;)+&quot;&lt;/tw-include&gt;&quot;}function
f(a){var o=arguments.length&gt;1&amp;&amp;void
0!==arguments[1]?arguments[1]:{};t.assertOnlyHas(o,[&quot;stretch&quot;,&quot;transition&quot;]);var
f=i.get(a),d=t.storyElement,h=d.parent(),y=o.stretch,m=o.transition,g=(m=void
0===m?{}:m).depart,v=void 0===g?&quot;instant&quot;:g,b=m.arrive,w=void
0===b?&quot;dissolve&quot;:b,T=m.departOrigin,S=m.arriveOrigin,x=m.time;h.findAndFilter(&quot;tw-enchantment&quot;).each(function(t,n){var
r=(n=e(n)).data(&quot;enchantedProperties&quot;);r&amp;&amp;d.css(r.reduce(function(e,t){return
e[t]=&quot;&quot;,e},{})),n[0]===h[0]&amp;&amp;(h=d.unwrap().parent())}),i.hasValid(a)||s(&quot;Engine.showPassage&quot;,&quot;There's
no passage with the name \&quot;&quot;+a+'&quot;!');var
k,O,j,A,C=d.children(c).not(&quot;.transition-out, .transition-out
*&quot;),E=(f.get(&quot;tags&quot;)||[]).join(&quot;
&quot;),_=(k=e(&quot;&lt;tw-passage&gt;&lt;tw-sidebar&gt;&quot;),O=k.children(&quot;tw-sidebar&quot;),j=e('&lt;tw-icon
tabindex=0 alt=&quot;Undo&quot;
title=&quot;Undo&quot;&gt;&amp;#8630;&lt;/tw-icon&gt;'),A=e('&lt;tw-icon
tabindex=0 alt=&quot;Redo&quot;
title=&quot;Redo&quot;&gt;&amp;#8631;&lt;/tw-icon&gt;'),n.pastLength&lt;=0&amp;&amp;j.css(&quot;visibility&quot;,&quot;hidden&quot;),n.futureLength&lt;=0&amp;&amp;A.css(&quot;visibility&quot;,&quot;hidden&quot;),O.append(j,A),k);&quot;function&quot;==typeof
T&amp;&amp;(T=T.call(C)),&quot;function&quot;==typeof
S&amp;&amp;(S=S.call(_)),d.detach(),_.appendTo(d).attr({tags:E}),!y&amp;&amp;v&amp;&amp;(u(C,v,x,0,0,0,T),C.css(&quot;position&quot;,&quot;absolute&quot;)),d.attr({tags:E});var
N=r.create(_),P=f.get(&quot;source&quot;);P=i.getTagged(&quot;header&quot;).map(p.bind(0,&quot;header&quot;)).join(&quot;&quot;)+(l.debug?i.getTagged(&quot;debug-header&quot;).map(p.bind(0,&quot;debug-header&quot;)).join(&quot;&quot;):&quot;&quot;)+P+i.getTagged(&quot;footer&quot;).map(p.bind(0,&quot;footer&quot;)).join(&quot;&quot;)+(l.debug?i.getTagged(&quot;debug-footer&quot;).map(p.bind(0,&quot;debug-footer&quot;)).join(&quot;&quot;):&quot;&quot;),n.pastLength&lt;=0&amp;&amp;(l.debug&amp;&amp;(P=i.getTagged(&quot;debug-startup&quot;).map(p.bind(0,&quot;debug-startup&quot;)).join(&quot;&quot;)+P),P=i.getTagged(&quot;startup&quot;).map(p.bind(0,&quot;startup&quot;)).join(&quot;&quot;)+P),N.renderInto(P,_,{transition:w,transitionTime:x,transitionOrigin:S}),h.append(d.parents().length?d.parents().last():d),scroll(0,y?_.offset().top-.05*e(window).height():d.offset().top)}return
a={goBack:function(e){n.rewind()&amp;&amp;f(n.passage,e)},goForward:function(e){n.fastForward()&amp;&amp;f(n.passage,e)},goToPassage:function(e,t){n.play(e),f(e,t)},toggleFullscreen:function(){var
e=document.documentElement;document.fullscreenElement?document.exitFullscreen():document.msFullscreenElement?document.msExitFullscreen():(e.msRequestFullscreen||e.requestFullscreen).call(e)},showPassage:f,options:l},Object.freeze(a)}),define(&quot;debugmode/panel&quot;,[&quot;jquery&quot;],function(e){return
Object.freeze({create:function(t){var
n=t.className,r=t.rowAdd,i=t.rowCheck,a=t.columnHead,o=t.tabName,s=t.tabUpdate,c=e(&quot;&lt;div
class='panel panel-&quot;+n+&quot;' hidden&gt;&lt;table
class='panel-rows'&gt;&lt;/table&gt;&lt;/div&gt;&quot;),u=e(&quot;&lt;button
class='tab tab-&quot;+n+&quot;'&gt;0
&quot;+o+&quot;s&lt;/button&gt;&quot;);return
u.click(function(){u.toggleClass(&quot;enabled&quot;),u.parent().siblings(&quot;.panel&quot;).attr(&quot;hidden&quot;,&quot;&quot;),u.is(&quot;.enabled&quot;)&amp;&amp;(u.siblings(&quot;.tab:not(.tab-&quot;+n+&quot;)&quot;).removeClass(&quot;enabled&quot;),c.removeAttr(&quot;hidden&quot;))}),s||(s=function(e){return
u.text(e+&quot;
&quot;+o+(1!==e?&quot;s&quot;:&quot;&quot;))}),Object.assign(Object.create(this),{tabName:o,tab:u,panel:c,panelRows:c.find(&quot;.panel-rows&quot;),rowAdd:r,rowCheck:i,columnHead:a,tabUpdate:s})},update:function(t,n){var
r=this.rowCheck,i=this.rowAdd,a=this.panelRows,o=this.columnHead,s=[],c=a.children();t.forEach(function(t){var
n=c.filter(function(n,i){return
r(t,e(i))}),o=i(t);n.length?n.replaceWith(o):a.append(o),s.push(o[0])}),c.filter(function(e,t){return!s.includes(t)}).remove(),this.tabUpdate(n),n&gt;0&amp;&amp;!a.find(&quot;.panel-head&quot;).length?a.prepend(o()):0===n&amp;&amp;a.find(&quot;.panel-head&quot;).remove()}})}),define(&quot;debugmode/mode&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;state&quot;,&quot;internaltypes/varref&quot;,&quot;internaltypes/twineerror&quot;,&quot;utils/operationutils&quot;,&quot;engine&quot;,&quot;passages&quot;,&quot;section&quot;,&quot;debugmode/panel&quot;],function(e,t,n,r,i,a,o,s,c,u){var
l=t.escape,p=t.nth,f=t.storyElement,d=t.debounce,h=a.objectName,y=a.isObject,m=a.toSource;return
function(t,a){var g=e(document.documentElement),v=e(&quot;&lt;tw-debugger&gt;\n\t\t&lt;div
class='panel panel-errors'
hidden&gt;&lt;table&gt;&lt;/table&gt;&lt;/div&gt;\n\t\t&lt;div
class='tabs'&gt;&lt;/div&gt;\n\t\t&lt;label style='user-select:none'&gt;Turns:
&lt;/label&gt;&lt;select class='turns' disabled&gt;&lt;/select&gt;&lt;button
class='show-invisibles'&gt;Debug View&lt;/button&gt;&lt;button class='show-dom'&gt;DOM
View&lt;/button&gt;\n\t\t&lt;div
class='resizer'&gt;\n\t\t&lt;/tw-debugger&gt;&quot;),b=v.find(&quot;.tabs&quot;),w=v.find(&quot;.show-dom&quot;),T=v.find(&quot;.show-invisibles&quot;),S=v.find(&quot;.turns&quot;);v.find(&quot;.resizer&quot;).mousedown(function(e){if(1!==e.which)return!0;e.stopPropagation();var
t=e.pageX,n=v.width();g.on(&quot;mousemove.debugger-resizer&quot;,function(e){var
r=e.pageX;v.width((n+t-r|0)+&quot;px&quot;)}).on(&quot;mouseup.debugger-resizer&quot;,function(){g.off(&quot;.debugger-resizer&quot;)})}),T.click(function(){g.toggleClass(&quot;debug-mode&quot;).removeClass(&quot;dom-debug-mode&quot;),T.toggleClass(&quot;enabled&quot;),w.removeClass(&quot;enabled&quot;)}),w.click(function(){g.toggleClass(&quot;dom-debug-mode&quot;).removeClass(&quot;debug-mode&quot;),w.toggleClass(&quot;enabled&quot;),T.removeClass(&quot;enabled&quot;)}),n.timelinePassageNames().forEach(function(e,t){S.append(&quot;&lt;option
value=&quot;+t+&quot;&gt;&quot;+(t+1)+&quot;:
&quot;+e+&quot;&lt;/option&gt;&quot;)}),S.val(n.pastLength),n.pastLength&gt;0&amp;&amp;S.removeAttr(&quot;disabled&quot;),S.change(function(e){var
t=e.target.value-n.pastLength;0!==t&amp;&amp;(n[t&lt;0?&quot;rewind&quot;:&quot;fastForward&quot;](Math.abs(t)),o.showPassage(n.passage))}),n.on(&quot;forward&quot;,function(t){var
r=arguments.length&gt;1&amp;&amp;void
0!==arguments[1]&amp;&amp;arguments[1],i=n.pastLength;i&gt;=1&amp;&amp;S.removeAttr(&quot;disabled&quot;),r?(S.find(&quot;[selected]&quot;).removeAttr(&quot;selected&quot;),S.val(i)):(S.children().each(function(t,n){t&gt;=i&amp;&amp;e(n).remove()}),S.append(&quot;&lt;option
value=&quot;+i+&quot;&gt;&quot;+(i+1)+&quot;:
&quot;+t+&quot;&lt;/option&gt;&quot;).val(i))}).on(&quot;back&quot;,function(){n.pastLength&lt;=1&amp;&amp;S.attr(&quot;disabled&quot;),S.find(&quot;[selected]&quot;).removeAttr(&quot;selected&quot;),S.val(n.pastLength)}).on(&quot;load&quot;,function(e){S.empty(),S[e.length&lt;=1?&quot;attr&quot;:&quot;removeAttr&quot;](&quot;disabled&quot;),e.forEach(function(e,t){return
S.append(&quot;&lt;option value=&quot;+t+&quot;&gt;&quot;+(t+1)+&quot;:
&quot;+e.passage+&quot;&lt;/option&gt;&quot;)})});var x=new
Set,k=u.create({className:&quot;variables&quot;,tabName:&quot;Variable&quot;,rowAdd:function(t){var
n=t.name,r=t.path,i=t.value,a=t.tempScope,o=t.type,s=y(i)&amp;&amp;i.TwineScript_DebugName?i.TwineScript_DebugName():l(h(i)),c=&quot;&quot;;r.length&amp;&amp;(c=r.reduce(function(e,t){return
e+t+&quot;'s &quot;},&quot;&quot;));var
u=o?m(o):&quot;&quot;,p=s.length&gt;48&amp;&amp;!i.TwineScript_DebugName,f=&quot;object&quot;===(void
0===i?&quot;undefined&quot;:_typeof(i))||p,d=p?s.slice(0,48)+&quot;\u2026&quot;:s;return
e('&lt;div class=&quot;variable-row&quot;&gt;').attr(&quot;data-name&quot;,n).attr(&quot;data-path&quot;,r+&quot;&quot;).attr(&quot;data-scope&quot;,a||&quot;&quot;).css(&quot;padding-left&quot;,Math.min(5,r.length)+&quot;em&quot;).append(&quot;&lt;td
class='variable-type'&gt;&quot;+(u?u+&quot;-type
&quot;:&quot;&quot;)+&quot;&lt;/td&gt;&quot;,&quot;&lt;td
class='variable-name'&gt;&quot;+(c?&quot;&lt;span
class='variable-path'&gt;&quot;+(a?&quot;_&quot;:&quot;$&quot;)+l(c)+&quot;&lt;/span&gt;
&quot;:&quot;&quot;)+(c?&quot;&quot;:a?&quot;_&quot;:&quot;$&quot;)+l(n+&quot;&quot;)+&quot;&lt;/td&gt;&quot;,&quot;&lt;td
class='temporary-variable-scope'&gt;&quot;+(a||&quot;&quot;)+&quot;&lt;/td&gt;&quot;,&quot;&lt;td
class='variable-value'&gt;&quot;+d+&quot;&lt;/td&gt;&lt;td
class='panel-row-buttons'&gt;&quot;+(f?&quot;&lt;tw-folddown
tabindex=0&gt;(source:)
&lt;/tw-folddown&gt;&quot;:&quot;&quot;)+&quot;&lt;/td&gt;&quot;).add(f?&quot;&lt;tr
class='variable-row panel-row-source' style='display:none'&gt;&lt;td
colspan='5'&gt;&quot;+l(m(i))+&quot;&lt;/td&gt;&lt;/tr&gt;&quot;:&quot;&quot;)},rowCheck:function(e,t){var
n=e.name,r=e.path,i=e.tempScope;return t.attr(&quot;data-name&quot;)===n&amp;&amp;t.attr(&quot;data-path&quot;)===r+&quot;&quot;&amp;&amp;t.attr(&quot;data-scope&quot;)===i},columnHead:function(){return'&lt;tr
class=&quot;panel-head&quot;&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Scope&lt;/th&gt;&lt;th&gt;Value&lt;/th&gt;&lt;/tr&gt;'}}),O=d(function(){var
e=[],t=n.variables,r=e.length;function i(t){if(!(e.length&gt;500)){e.push(t);var
n=t.path.concat(t.name),r=t.value,a=t.tempScope;Array.isArray(r)?r.forEach(function(e,t){return
i({name:p(t+1),path:n,value:e,tempScope:a})}):r instanceof
Map?[].concat(_toConsumableArray(r)).forEach(function(e){var
t=_slicedToArray(e,2),r=t[0],o=t[1];return
i({name:r,path:n,value:o,tempScope:a})}):r instanceof
Set&amp;&amp;[].concat(_toConsumableArray(r)).forEach(function(e){return
i({name:&quot;???&quot;,path:n,value:e,tempScope:a})})}}for(var a in
t)a.startsWith(&quot;TwineScript&quot;)||(r+=1,i({name:a,path:[],value:t[a],tempScope:&quot;&quot;,type:t.TwineScript_TypeDefs&amp;&amp;t.TwineScript_TypeDefs[a]}));e.push.apply(e,_toConsumableArray(x)),r+=x.size,k.update(e,r),k.panel[(r?&quot;remove&quot;:&quot;add&quot;)+&quot;Class&quot;](&quot;panel-variables-empty&quot;)}),j=void
0;r.on(&quot;set&quot;,function(e,t,r){if(e!==n.variables&amp;&amp;e.TwineScript_VariableStoreName){var
i=e.TwineScript_VariableStoreName,a=e.TwineScript_TypeDefs&amp;&amp;e.TwineScript_TypeDefs[t],o=[].concat(_toConsumableArray(x)).find(function(e){return
e.name===t&amp;&amp;e.tempScope===i});o?o.value=r:x.add({name:t,path:[],value:r,tempScope:i,type:a})}O(),j()}).on(&quot;delete&quot;,function(){O(),j()}),k.panel.append(&quot;&lt;div
class='panel-variables-bottom'&gt;\n\t\t\t&lt;button
class='panel-variables-copy'&gt;Copy $ variables as (set:)
call&lt;/button&gt;\n\t\t\t&lt;input class='clipboard' type=\&quot;text\&quot;
style='opacity:0;pointer-events:none;position:absolute;'&gt;&lt;/input&gt;\n\t\t&lt;/div&gt;&quot;).removeAttr(&quot;hidden&quot;),k.tab.addClass(&quot;enabled&quot;);var
A=k.panel.find(&quot;.clipboard&quot;);g.on(&quot;click&quot;,&quot;.panel-variables-copy&quot;,function(){var
e=[];for(var t in n.variables)t.startsWith(&quot;TwineScript&quot;)||e.push(&quot;$&quot;+t+&quot;
to &quot;+m(n.variables[t]));A.val(&quot;(set:&quot;+e+&quot;)&quot;)[0].select(),document.execCommand(&quot;copy&quot;)});var
C=u.create({className:&quot;enchantments&quot;,tabName:&quot;Enchantment&quot;,rowAdd:function(t){var
n=t.scope,r=t.changer,i=t.name,a=t.localHook,o=void 0;return o=r?l(h(r)):&quot;&lt;em&gt;enchanted
via (&quot;+i+&quot;:)&lt;/em&gt;&quot;,e('&lt;div class=&quot;enchantment-row&quot;&gt;').data(&quot;enchantment&quot;,t).append(&quot;&lt;td&gt;&lt;span
class='enchantment-name'&gt;&quot;+m(n)+(a?&quot;&lt;/span&gt;&lt;span
class=enchantment-local&gt;&quot;+(a.attr(&quot;name&quot;)?&quot;?&quot;+a.attr(&quot;name&quot;):&quot;an
unnamed hook&quot;):&quot;&quot;)+&quot;&lt;/span&gt;&lt;/td&gt;&lt;td
class='enchantment-value'&gt;&quot;+o+&quot;&lt;/td&gt;&quot;+(r?&quot;&lt;td
class='panel-row-buttons'&gt;&lt;tw-folddown
tabindex=0&gt;(source:)&lt;/tw-folddown&gt;&lt;/td&gt;&quot;:&quot;&quot;)).add(r?&quot;&lt;tr
class='panel-row-source' style='display:none'&gt;&lt;td
colspan='3'&gt;&quot;+l(m(r))+&quot;&lt;/td&gt;&lt;/tr&gt;&quot;:&quot;&quot;)},rowCheck:function(e,t){return
t.data(&quot;enchantment&quot;)===e},columnHead:function(){return'&lt;tr
class=&quot;panel-head&quot;&gt;&lt;th&gt;Scope&lt;/th&gt;&lt;th&gt;Value&lt;/th&gt;&lt;/div&gt;'}}),E=d(function(e){C.update(e.enchantments,e.enchantments.length)});c.on(&quot;add&quot;,E).on(&quot;remove&quot;,E);var
_=c.create(f),N=u.create({className:&quot;storylets&quot;,tabName:&quot;Storylet&quot;,rowAdd:function(t){var
n=t.name,r=t.active,i=t.storyletSource,a=t.exclusive,o=t.urgent;return
e('&lt;tr class=&quot;storylet-row
'+(r?&quot;&quot;:&quot;storylet-closed&quot;)+'&quot;&gt;').attr(&quot;data-name&quot;,n).append(&quot;&lt;td
class='storylet-name'&gt;&quot;+n+&quot;&lt;/td&gt;&lt;td
class='storylet-lambda'&gt;&quot;+i+&quot;&lt;/td&gt;&lt;td class='storylet-exclusive'&gt;&quot;+a+&quot;&lt;/td&gt;&lt;td
class='storylet-urgent'&gt;&quot;+o+&quot;&lt;/td&gt;&quot;)},rowCheck:function(e,t){var
n=e.name;return
t.attr(&quot;data-name&quot;)===l(n+&quot;&quot;)},columnHead:function(){return&quot;&lt;tr
class=\&quot;panel-head\&quot;&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Condition&lt;/th&gt;&lt;th
class='storylet-exclusive'&gt;Exclusivity&lt;/th&gt;&lt;th
class='storylet-urgent'&gt;Urgency&lt;/th&gt;&lt;/tr&gt;&quot;}});N.tab.hide(),j=d(function(){var
e=s.getStorylets(_),t=i.containsError(e),n=s.allStorylets();N.update(n.map(function(n){return{name:n.get(&quot;name&quot;),storyletSource:n.get(&quot;storylet&quot;).TwineScript_ToSource(),active:!t&amp;&amp;e.some(function(e){return
e.get(&quot;name&quot;)===n.get(&quot;name&quot;)}),exclusive:&quot;number&quot;==typeof
n.get(&quot;exclusivity&quot;)?n.get(&quot;exclusivity&quot;):0,urgent:&quot;number&quot;==typeof
n.get(&quot;urgency&quot;)?n.get(&quot;urgency&quot;):0}}),t?0:e.length),N.panel[(t?&quot;add&quot;:&quot;remove&quot;)+&quot;Class&quot;](&quot;storylet-error&quot;);var
r=n.some(function(e){return
e.get(&quot;exclusivity&quot;)&amp;&amp;&quot;number&quot;==typeof
e.get(&quot;exclusivity&quot;)}),a=n.some(function(e){return
e.get(&quot;urgency&quot;)&amp;&amp;&quot;number&quot;==typeof
e.get(&quot;urgency&quot;)});N.panel[(r?&quot;add&quot;:&quot;remove&quot;)+&quot;Class&quot;](&quot;panel-exclusive&quot;),N.panel[(a?&quot;add&quot;:&quot;remove&quot;)+&quot;Class&quot;](&quot;panel-urgent&quot;),n.length&amp;&amp;N.tab.show()});var
P=u.create({className:&quot;source&quot;,tabName:&quot;Source&quot;,rowAdd:e.noop,rowCheck:e.noop,tabUpdate:e.noop,columnHead:e.noop});P.tab.text(&quot;Source&quot;);var
I=u.create({className:&quot;errors&quot;,tabName:&quot;Error&quot;,rowAdd:e.noop,rowCheck:e.noop,columnHead:e.noop}),M=function(t,r){if(&quot;propagated&quot;!==t.type){I.panelRows.children().length&gt;500&amp;&amp;I.panelRows.children(&quot;:first-child&quot;).remove();var
i=e('&lt;tr class=&quot;error-row&quot;&gt;&lt;td
class=&quot;error-passage&quot;&gt;'+n.passage+'&lt;/td&gt;&lt;td
class=&quot;error-message&quot;&gt;'+t.message+&quot;&lt;/td&gt;&lt;/tr&gt;&quot;);i.find(&quot;.error-message&quot;).attr(&quot;title&quot;,r),I.panelRows.append(i),I.tabUpdate(I.panelRows.children().length)}};function
D(){x=new Set,O(),j(),C.panelRows.empty(),C.tabUpdate(0),n.passage&amp;&amp;P.panelRows.text(s.get(n.passage).get(&quot;source&quot;))}i.on(&quot;error&quot;,M),v.prepend(k.panel,C.panel,I.panel,N.panel,P.panel),b.prepend(k.tab,C.tab,I.tab,N.tab,P.tab),n.on(&quot;forward&quot;,D).on(&quot;back&quot;,D).on(&quot;load&quot;,D),t&amp;&amp;(M(t,a),D()),e(document.body).append(v)}}),define(&quot;macrolib/values&quot;,[&quot;macros&quot;,&quot;utils&quot;,&quot;utils/operationutils&quot;,&quot;datatypes/colour&quot;,&quot;datatypes/gradient&quot;,&quot;datatypes/datatype&quot;,&quot;datatypes/hookset&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,a,o,s){var
c=t.realWhitespace,u=t.nth,l=t.anyRealLetter,p=n.subset,f=n.objectName,d=n.clone,h=n.toSource,y=e.TypeSignature,m=y.rest,g=y.zeroOrMore,v=y.either,b=y.optional,w=y.insensitiveSet,T=y.numberRange,S=y.percent,x=y.nonNegativeInteger,k=y.positiveInteger,O=y.Any,j=Math.max,A=Math.min,C=Math.round,E=Math.floor,_=Math.ceil;function
N(e){return function(){var t=e.apply(void
0,arguments);return&quot;number&quot;!=typeof
t||isNaN(t)?s.create(&quot;macrocall&quot;,&quot;This mathematical expression
doesn't
compute!&quot;):t}}e.add([&quot;str&quot;,&quot;string&quot;,&quot;text&quot;],function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
n.join(&quot;&quot;)},[g(e.TypeSignature.either(String,Number,Boolean,Array))])(&quot;source&quot;,function(e,t){return
t&amp;&amp;&quot;command&quot;===t.TwineScript_TypeID&amp;&amp;!t.TwineScript_ToSource?s.create(&quot;datatype&quot;,&quot;I
can't construct the source code of a command created by a custom
macro.&quot;):h(t)},[O])(&quot;substring&quot;,function(e,t,n,r){return
p(t,n,r)},[String,parseInt,parseInt])(&quot;lowercase&quot;,function(e,t){return
t.toLowerCase()},[String])(&quot;uppercase&quot;,function(e,t){return t.toUpperCase()},[String])(&quot;lowerfirst&quot;,function(e,t){return
t.replace(RegExp(l+&quot;+&quot;),function(e){return(e=Array.from(e))[0].toLowerCase()+e.slice(1).join(&quot;&quot;).toLowerCase()})},[String])(&quot;upperfirst&quot;,function(e,t){return
t.replace(RegExp(l+&quot;+&quot;),function(e){return(e=Array.from(e))[0].toUpperCase()+e.slice(1).join(&quot;&quot;).toLowerCase()})},[String])(&quot;words&quot;,function(e,t){return
t.split(RegExp(c+&quot;+&quot;)).filter(Boolean)},[String])([&quot;str-repeated&quot;,&quot;string-repeated&quot;],function(e,t,n){return
0===n.length?s.create(&quot;macrocall&quot;,&quot;I can't repeat an empty
string.&quot;):n.repeat(t)},[x,String])([&quot;str-reversed&quot;,&quot;string-reversed&quot;],function(e,t){return[].concat(_toConsumableArray(t)).reverse().join(&quot;&quot;)},[String])(&quot;joined&quot;,function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];return
r.join(t)},[m(String)])(&quot;plural&quot;,function(e,t,n,r){return
n&amp;&amp;&quot;&quot;!==r?t+&quot;
&quot;+(1!==Math.abs(t)?r||n+&quot;s&quot;:n):s.create(&quot;macrocall&quot;,&quot;The
(plural:) macro can't be given empty strings.&quot;)},[parseInt,String,b(String)])([&quot;str-nth&quot;,&quot;string-nth&quot;],function(e,t){return
u(t)},[parseInt])([&quot;num&quot;,&quot;number&quot;],function(e,t){return
Number.isNaN(+t)?s.create(&quot;macrocall&quot;,&quot;I couldn't convert
&quot;+f(t)+&quot; to a
number.&quot;):+t},[String])(&quot;datatype&quot;,function(e,t){return
a.from(t)},[O])(&quot;datapattern&quot;,function(e,t){return function e(t){var
n,r=void 0;return Array.isArray(t)?r=t.map(e):t instanceof Map?(r=new
Map,[].concat(_toConsumableArray(t)).forEach(function(t){var
n=_slicedToArray(t,2),i=n[0],a=n[1];return
r.set(i,e(a))})):r=a.from(t),(n=s.containsError(r))?n:r}(t)},[O])([&quot;rgb&quot;,&quot;rgba&quot;],function(e){return
r.create({r:arguments.length&lt;=1?void
0:arguments[1],g:arguments.length&lt;=2?void
0:arguments[2],b:arguments.length&lt;=3?void
0:arguments[3],a:arguments.length&lt;=4?void
0:arguments[4]})},[T(0,255),T(0,255),T(0,255),b(S)])([&quot;hsl&quot;,&quot;hsla&quot;],function(e,t,n,i,a){return(t=C(t)%360)&lt;0&amp;&amp;(t+=360),r.create({h:t,s:n,l:i,a:a})},[Number,S,S,b(S)])([&quot;lch&quot;,&quot;lcha&quot;],function(e,t,n,i,a){return(i=C(i)%360)&lt;0&amp;&amp;(i+=360),r.create({l:t,c:n,h:i,a:a})},[S,T(0,132),Number,b(S)])(&quot;complement&quot;,function(e,t){return
t.LCHRotate(180)},[r])(&quot;palette&quot;,function(e,t,n){var
i=n.toLCHA(),a=i.l,o={l:a&lt;=.75?.75+a/3:.75-3*(1-a),c:80,h:i.h,a:1},s=void
0,c=void 0,u=void 0;return
s=r.create(o),o.l+=a&lt;=.75?-.1:.1,o.l&lt;.5&amp;&amp;(o.l*=.5/o.l),c=r.create(o),o.l+=a&lt;=.85?.15:-.15,u=r.create(o),&quot;adjacent&quot;===t?(c=(s=s.LCHRotate(-30)).LCHRotate(30),u=s.LCHRotate(60)):&quot;triad&quot;===t&amp;&amp;(u=s.LCHRotate(180),c=s.LCHRotate(140),s=s.LCHRotate(-140)),[n,s,c,u]},[w(&quot;mono&quot;,&quot;adjacent&quot;,&quot;triad&quot;),r])(&quot;gradient&quot;,function(e,t){for(var
n=arguments.length,a=Array(n&gt;2?n-2:0),o=2;o&lt;n;o++)a[o-2]=arguments[o];if((t=C(t)%360)&lt;0&amp;&amp;(t+=360),a.length&lt;4)return
s.create(&quot;datatype&quot;,&quot;(gradient:) must be given at least 2
colour-stop pairs of numbers and colours.&quot;);var c=void
0,u=[],l=a.reduce(function(e,t){if(s.containsError(e))return e;if(void 0===c)c=t;else{if(&quot;number&quot;!=typeof
c||!r.isPrototypeOf(t))return s.create(&quot;datatype&quot;,&quot;(gradient:)
colour-stops should be pairs of numbers and colours, not colours and
numbers.&quot;);u.push({stop:c,colour:d(t)}),c=void 0}return e},!0);return
s.containsError(l)?l:void 0!==c?s.create(&quot;macrocall&quot;,&quot;This
gradient has a colour-stop percent without a
colour.&quot;):i.create(t,u)},[Number,m(v(S,r))])(&quot;stripes&quot;,function(e,t,n){for(var
r=arguments.length,a=Array(r&gt;3?r-3:0),o=3;o&lt;r;o++)a[o-3]=arguments[o];(t=C(t)%360)&lt;0&amp;&amp;(t+=360);var
s=0,c=[];return
a.forEach(function(e){c.push({stop:s,colour:d(e)}),s+=n,c.push({stop:s,colour:d(e)})}),i.create(t,c,!0)},[Number,k,r,m(r)])(&quot;hooks-named&quot;,function(e,t){return
t?o.create({type:&quot;name&quot;,data:t}):s.create(&quot;datatype&quot;,&quot;(hooks-named:)
can't be given an empty
string.&quot;)},[String])(&quot;cond&quot;,function(e){for(var
t=0;t&lt;(arguments.length&lt;=1?0:arguments.length-1);t+=2){var
n=arguments.length&lt;=t+1?void
0:arguments[t+1];if(t===(arguments.length&lt;=1?0:arguments.length-1)-1||s.containsError(n))return
n;if(&quot;boolean&quot;!=typeof n)return
s.create(&quot;datatype&quot;,&quot;(cond:)'s &quot;+u(t+1)+&quot; value is
&quot;+f(n)+&quot;, but should be a boolean.&quot;);if(n)return
arguments.length&lt;=t+1+1?void 0:arguments[t+1+1]}return
s.create(&quot;macrocall&quot;,&quot;An odd number of values must be given to
(cond:), not &quot;+(arguments.length&lt;=1?0:arguments.length-1),&quot;(cond:)
must be given one or more pairs of booleans and values, as well as one final
value.&quot;)},[Boolean,O,m(O)]),{weekday:[function(){return[&quot;Sun&quot;,&quot;Mon&quot;,&quot;Tues&quot;,&quot;Wednes&quot;,&quot;Thurs&quot;,&quot;Fri&quot;,&quot;Satur&quot;][(new
Date).getDay()]+&quot;day&quot;},null],monthday:[function(){return(new
Date).getDate()},null],currenttime:[function(){var e=new
Date,t=e.getHours()&lt;12;return(e.getHours()%12||12)+&quot;:&quot;+((e.getMinutes()&lt;10?&quot;0&quot;:&quot;&quot;)+e.getMinutes())+&quot;
&quot;+(t?&quot;A&quot;:&quot;P&quot;)+&quot;M&quot;},null],currentdate:[function(){return(new
Date).toDateString()},null],min:[A,m(Number)],max:[j,m(Number)],abs:[Math.abs,Number],sign:[Math.sign,Number],sin:[Math.sin,Number],cos:[Math.cos,Number],tan:[Math.tan,Number],floor:[E,Number],round:[C,Number],trunc:[function(e){return
e&gt;0?E(e):_(e)},Number],ceil:[_,Number],pow:[N(Math.pow),[Number,Number]],exp:[Math.exp,Number],sqrt:[N(Math.sqrt),Number],log:[N(Math.log),Number],log10:[N(Math.log10),Number],log2:[N(Math.log2),Number],random:[function(e,t){var
n=void 0,r=void 0;return t?(n=A(e,t),r=j(e,t)):(n=0,r=e),r+=1,~~(Math.random()*(r-n))+n},[parseInt,e.TypeSignature.optional(parseInt)]],either:[function(){var
e;return e=~~(Math.random()*arguments.length),arguments.length&lt;=e?void
0:arguments[e]},m(O)],nth:[function(e){var t;return e&lt;=0?s.create(&quot;datatype&quot;,&quot;(nth:)'s
first value should be a positive whole number, not
&quot;+e):(t=(e-1)%(arguments.length&lt;=1?0:arguments.length-1)+1,arguments.length&lt;=t?void
0:arguments[t])},[parseInt,m(O)]],&quot;&quot;:function(){var
t=this;Object.keys(this).forEach(function(n){if(n){var
r=t[n][0],i=t[n][1];e.add(n,function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),i=1;i&lt;t;i++)n[i-1]=arguments[i];return
r.apply(void
0,n)},i)}})}}[&quot;&quot;]()}),define(&quot;macrolib/commands&quot;,[&quot;jquery&quot;,&quot;macros&quot;,&quot;utils&quot;,&quot;state&quot;,&quot;passages&quot;,&quot;renderer&quot;,&quot;engine&quot;,&quot;internaltypes/twineerror&quot;,&quot;internaltypes/twinenotifier&quot;,&quot;datatypes/assignmentrequest&quot;,&quot;datatypes/hookset&quot;,&quot;datatypes/codehook&quot;,&quot;datatypes/lambda&quot;,&quot;datatypes/colour&quot;,&quot;datatypes/gradient&quot;,&quot;internaltypes/varref&quot;,&quot;datatypes/typedvar&quot;,&quot;datatypes/varbind&quot;,&quot;utils/operationutils&quot;,&quot;utils/renderutils&quot;],function(e,t,n,r,i,a,o,s,c,u,l,p,f,d,h,y,m,g,v,b){var
w=v.printBuiltinValue,T=v.objectName,S=v.clone,x=v.toSource,k=b.dialog,O=b.geomParse,j=b.geomStringRegExp,A=t.TypeSignature,C=A.Any,E=A.Everything,_=A.rest,N=A.either,P=A.optional,I=A.zeroOrMore,M=A.positiveInteger,D=A.positiveNumber,R=Object.assign,L=Math.floor,q=Math.ceil,F=Math.abs,V=Math.max,H=Math.min,z=e.noop;function
$(e){return&quot;(&quot;+e+&quot; &quot;+o.options.ifid+&quot;)
&quot;}[&quot;set&quot;,&quot;put&quot;,&quot;unpack&quot;].forEach(function(e){return
t.add(e,function(t){for(var
n=0;n&lt;(arguments.length&lt;=1?0:arguments.length-1);n+=1){var
r=arguments.length&lt;=n+1?void
0:arguments[n+1];if(&quot;into&quot;===r.operator&amp;&amp;&quot;set&quot;===e)return
s.create(&quot;macrocall&quot;,&quot;Please say 'to' when using the (set:)
macro.&quot;);if(&quot;to&quot;===r.operator&amp;&amp;&quot;set&quot;!==e)return
s.create(&quot;macrocall&quot;,&quot;Please say 'into' when using the (put:) or
(unpack:)
macro.&quot;);if((y.isPrototypeOf(r.dest)||m.isPrototypeOf(r.dest))===(&quot;unpack&quot;===e))return
s.create(&quot;macrocall&quot;,&quot;unpack&quot;===e?&quot;Please use the
(unpack:) macro with arrays, datamaps or (p:) patterns containing variables to
the right of 'into'.&quot;:&quot;Please use the (&quot;+e+&quot;:) macro with
just single variables and typed variables to the
&quot;+(&quot;set&quot;===e?&quot;left of 'to'.&quot;:&quot;right of
'into'.&quot;));var i=r.set();if(s.containsError(i))return
i}return{TwineScript_TypeID:&quot;instant&quot;,TwineScript_TypeName:&quot;a
(&quot;+e+&quot;:) operation&quot;,TwineScript_ObjectName:&quot;a
(&quot;+e+&quot;:)
operation&quot;,TwineScript_Unstorable:!0,TwineScript_Print:function(){return
o.options.debug,&quot;&quot;}}},[_(u)])}),t.add(&quot;move&quot;,function(e){for(var
t=0;t&lt;(arguments.length&lt;=1?0:arguments.length-1);t+=1){var
n=arguments.length&lt;=t+1?void
0:arguments[t+1];if(&quot;into&quot;!==n.operator)return
s.create(&quot;macrocall&quot;,&quot;Please say 'into' when using the (move:)
macro.&quot;);var r=n.set(!0);if(s.containsError(r))return r}return{TwineScript_TypeID:&quot;instant&quot;,TwineScript_TypeName:&quot;a
(move:) operation&quot;,TwineScript_ObjectName:&quot;a (move:)
operation&quot;,TwineScript_Unstorable:!0,TwineScript_Print:function(){return
o.options.debug,&quot;&quot;}}},[_(u)]),t.addCommand(&quot;display&quot;,function(e){if(!i.hasValid(e))return
s.create(&quot;macrocall&quot;,&quot;I can't (display:) the passage
'&quot;+e+&quot;' because it doesn't exist.&quot;)},function(e,t,r){return
R(e,{source:n.unescape(i.get(r).get(&quot;source&quot;))})},[String])(&quot;print&quot;,z,function(e,t,n){return
R(e,{source:w(n)})},[C])([&quot;verbatim-print&quot;,&quot;v6m-print&quot;],z,function(e,t,n){return
R(e,{verbatim:!0,source:w(n)})},[C])([&quot;verbatim-source&quot;,&quot;v6m-source&quot;],function(e){if(e&amp;&amp;&quot;command&quot;===e.TwineScript_TypeID&amp;&amp;!e.TwineScript_ToSource)return
s.create(&quot;datatype&quot;,&quot;I can't construct the source code of a
command created by a custom macro.&quot;)},function(e,t,n){return
R(e,{verbatim:!0,source:w(x(n))})},[C])(&quot;go-to&quot;,function(e){if(!i.hasValid(e))return
s.create(&quot;macrocall&quot;,&quot;I can't (go-to:) the passage
'&quot;+e+&quot;' because it doesn't exist.&quot;)},function(e,t,n){return
requestAnimationFrame(function(){return
o.goToPassage(n,{transition:e.data.passageT8n})}),&quot;blocked&quot;},[String])(&quot;undo&quot;,z,function(e){return
r.pastLength&lt;1?s.create(&quot;macrocall&quot;,&quot;I can't (undo:) on the
first turn.&quot;):(requestAnimationFrame(function(){return
o.goBack({transition:e.data.passageT8n})}),&quot;blocked&quot;)},[]),n.onStartup(function(){return
e(n.storyElement).on(&quot;click.icon&quot;,&quot;tw-icon&quot;,function(t){var
n=e(this),i=n.data(&quot;clickEvent&quot;),a=n.attr(&quot;alt&quot;);i&amp;&amp;i(n),&quot;Undo&quot;===a&amp;&amp;(t.stopPropagation(),o.goBack()),&quot;Redo&quot;===a&amp;&amp;(t.stopPropagation(),o.goForward()),&quot;Fullscreen&quot;===a&amp;&amp;(t.stopPropagation(),o.toggleFullscreen()),&quot;Reload&quot;===a&amp;&amp;(r.hasSessionStorage&amp;&amp;sessionStorage.removeItem(&quot;Saved
Session&quot;),window.location.reload())})}),[[&quot;Undo&quot;,&quot;&amp;#8630;&quot;,function(){return
r.pastLength&gt;0}],[&quot;Redo&quot;,&quot;&amp;#8631;&quot;,function(){return
r.futureLength&gt;0}],[&quot;Fullscreen&quot;,&quot;&amp;#9974;&quot;,function(){return
document.fullscreenEnabled||document.msFullscreenEnabled}],[&quot;Restart&quot;,&quot;&amp;#10226;&quot;,Object]].forEach(function(e){var
n=_slicedToArray(e,3),r=n[0],i=n[1],a=n[2];t.addCommand(&quot;icon-&quot;+r.toLowerCase(),function(e,t){if(&quot;string&quot;==typeof
e&amp;&amp;&quot;string&quot;==typeof t){var
n=[].concat(_toConsumableArray(e)).length,i=[].concat(_toConsumableArray(t)).length;if(n&gt;1&amp;&amp;i&gt;1)return
s.create(&quot;datatype&quot;,&quot;One of the two strings given to
(icon-&quot;+r.toLowerCase()+&quot;:) should be 1 character long, for its
icon.&quot;);if(1===n&amp;&amp;1===i)return
s.create(&quot;datatype&quot;,&quot;One of the two strings given to
(icon-&quot;+r.toLowerCase()+&quot;:) should be 2 or more characters long, for
its label.&quot;)}},function(e,t,n,o){if(&quot;string&quot;==typeof
o&amp;&amp;1===[].concat(_toConsumableArray(o)).length||&quot;string&quot;==typeof
n&amp;&amp;[].concat(_toConsumableArray(n)).length&gt;1){var
s=[o,n];n=s[0],o=s[1]}return R(e,{source:'&lt;tw-icon tabindex=0 alt=&quot;'+r+'&quot;
'+(o?'data-label=&quot;'+o.replace('&quot;',&quot;&amp;quot;&quot;)+'&quot;':&quot;&quot;)+'
title=&quot;'+r+'&quot;
'+(a()?&quot;&quot;:'style=&quot;visibility:hidden&quot;')+&quot;&gt;&quot;+(n||i)+&quot;&lt;/tw-icon&gt;&quot;})},[P(String),P(String)])}),t.addCommand(&quot;icon-counter&quot;,function(e,t,n){var
r=&quot; label string given to (icon-counter:) can't be empty or only
whitespace.&quot;;return t&amp;&amp;t.trim()?&quot;string&quot;!=typeof
n||n.trim()?void 0:s.create(&quot;datatype&quot;,&quot;The 2nd
&quot;+r):s.create(&quot;datatype&quot;,&quot;The 1st
&quot;+r)},function(e,t,r,i,a){e.attr.push({&quot;data-2bind&quot;:!0}),e.data.twoWayBindEvent=function(t,n,o){if(r.varRef.matches(n,o)){var
s=r.varRef.get();if(&quot;number&quot;==typeof
s)e.target.children(&quot;tw-icon&quot;).text(s&gt;0?L(s):q(s)).attr(&quot;data-label&quot;,1!==F(s)&amp;&amp;void
0!==a?a:i)}};var o=r.varRef.get();return&quot;number&quot;!=typeof
o?s.create(&quot;datatype&quot;,&quot;(icon-counter:) can only be bound to a
variable holding a number, not &quot;+T(o)+&quot;.&quot;):R(e,{source:'&lt;tw-icon
data-label=&quot;'+n.escape(1!==F(o)&amp;&amp;void
0!==a?a:i)+'&quot;&gt;'+(o&gt;0?L(o):q(o))+&quot;&lt;/tw-icon&gt;&quot;})},[g,String,P(String)]),t.addCommand(&quot;meter&quot;,function(e,t,n,r){return&quot;string&quot;!=typeof
r||r.trim()?-1===n.search(j)||!n.includes(&quot;=&quot;)&amp;&amp;n.length&gt;1?s.create(&quot;datatype&quot;,'The
(meter:) macro requires a sizing line(&quot;==X==&quot;, &quot;==X&quot;,
&quot;=XXXX=&quot; etc.) be provided, not
'+JSON.stringify(n)+&quot;.&quot;):void
0:s.create(&quot;datatype&quot;,&quot;The label string given to (meter:) can't
be empty or only whitespace.&quot;)},function(e,t,n,r,i,a,o){a&amp;&amp;&quot;string&quot;!=typeof
a&amp;&amp;(o=a,a=void
0),o||(o=d.create({h:0,s:0,l:.5,a:.5})),d.isPrototypeOf(o)&amp;&amp;(o=h.create(90,[{colour:o,stop:0},{colour:o,stop:1}]));var
c=O(i),u=c.marginLeft,l=c.size,p=u&gt;0&amp;&amp;Math.ceil(u+l)&lt;100,f=function(e){var
t=V(0,H(1,e/r)),n=o.repeating?o:o.multiply(r/e);return&quot;height:100%;background-repeat:no-repeat;background-image:&quot;+(p?R(n,n.repeating?{}:{angle:270}).toLinearGradientString()+&quot;,
&quot;:&quot;&quot;)+R(n,n.repeating?{}:{angle:p||0===u?90:270}).toLinearGradientString()+&quot;;background-size:&quot;+(p?Array(2).fill(50*t+&quot;%&quot;):100*t+&quot;%&quot;)+&quot;;background-position-x:&quot;+(p?-100/(2-t)+100+&quot;%,&quot;+100/(2-t)+&quot;%&quot;:0===u?&quot;left&quot;:&quot;right&quot;)+&quot;;text-align:&quot;+(p?&quot;center&quot;:0===u?&quot;left&quot;:&quot;right&quot;)};e.styles.push({&quot;margin-left&quot;:u+&quot;%&quot;,width:l+&quot;%&quot;,height:&quot;1.5em&quot;,display:&quot;block&quot;}),e.attr.push({&quot;data-2bind&quot;:!0});var
y=a&amp;&amp;t.stackTop.tempVariables;e.data.twoWayBindEvent=function(t,r,i){if(n.varRef.matches(r,i)){var
o=n.varRef.get();if(&quot;number&quot;==typeof o){var
s=e.target.children(&quot;tw-meter&quot;);if(s.attr(&quot;style&quot;,f(o)),a){var
c=R({},e,{source:a,target:s,append:&quot;replace&quot;,transitionDeferred:!1});e.section.renderInto(&quot;&quot;,null,c,y)}}}};var
m=n.varRef.get();return&quot;number&quot;!=typeof
m?s.create(&quot;datatype&quot;,&quot;(meter:) can only be bound to a variable
holding a number, not &quot;+T(m)+&quot;.&quot;):R(e,{source:'&lt;tw-meter
style=&quot;'+f(m)+'&quot;&gt;'+(a||&quot;&quot;)+&quot;&lt;/tw-meter&gt;&quot;})},[g,D,String,P(N(String,d,h)),P(N(d,h))]),[[&quot;cycling-link&quot;],[&quot;seq-link&quot;,&quot;sequence-link&quot;]].forEach(function(e,n){return
t.addCommand(e,function(){return&quot;&quot;===(arguments.length&lt;=0?void
0:arguments[0])?s.create(&quot;datatype&quot;,&quot;The first string in a
(&quot;+e[0]+&quot;:) can't be
empty.&quot;):arguments.length&lt;=(g.isPrototypeOf(arguments.length&lt;=0?void
0:arguments[0])?2:1)?s.create(&quot;datatype&quot;,&quot;I need two or more
strings to &quot;+(n?&quot;sequence&quot;:&quot;cycle&quot;)+&quot; through,
not just '&quot;+(t=arguments.length-1,arguments.length&lt;=t?void
0:arguments[t])+&quot;'.&quot;):void 0;var t},function(e,t){for(var
r=arguments.length,i=Array(r&gt;2?r-2:0),a=2;a&lt;r;a++)i[a-2]=arguments[a];var
o=void 0;g.isPrototypeOf(i[0])&amp;&amp;(o=i.shift());var c=0;if(o&amp;&amp;&quot;two
way&quot;===o.bind){e.attr.push({&quot;data-2bind&quot;:!0});var
u=i.indexOf(o.varRef.get());u&gt;-1&amp;&amp;(c=u)}var
l=t.stackTop.tempVariables;function p(t,r){var
a=c&gt;=i.length-1&amp;&amp;n,u=&quot;&quot;===i[c]?&quot;&quot;:a?i[c]:&quot;&lt;tw-link&gt;&quot;+i[c]+&quot;&lt;/tw-link&gt;&quot;;if(a&amp;&amp;(e.data.clickEvent=void
0),o&amp;&amp;!r){var p=o.set(i[c]);if(s.containsError(p))return void
t.replaceWith(p.render(i[c]))}var
f=R({},e,{source:u,transitionDeferred:!1});e.section.renderInto(&quot;&quot;,null,f,l)}i[c]&amp;&amp;(e.data.clickEvent=function(e){c=(c+1)%i.length,p(e,!1)})&amp;&amp;(e.data.twoWayBindEvent=function(e,t,n){if(o.varRef.matches(t,n)){var
r=o.varRef.get(),a=i.indexOf(r);a&gt;-1&amp;&amp;a!==c&amp;&amp;(c=a,p(e,!0))}});var
f=&quot;&lt;tw-link&gt;&quot;+i[c]+&quot;&lt;/tw-link&gt;&quot;;if(o){var
d=o.set(i[c]);if(s.containsError(d))return d}return
R(e,{source:f,append:&quot;replace&quot;,transitionDeferred:!0})},[N(g,String),_(String)])}),n.onStartup(function(){return
e(n.storyElement).on(&quot;change.dropdown-macro&quot;,&quot;select&quot;,function(){var
t=e(this),n=t.closest(&quot;tw-expression,
tw-hook&quot;).data(&quot;dropdownEvent&quot;);n&amp;&amp;n(t)})}),t.addCommand(&quot;dropdown&quot;,function(e){var
t;return&quot;&quot;===(arguments.length&lt;=1?void 0:arguments[1])||&quot;&quot;===(t=(arguments.length&lt;=1?0:arguments.length-1)-1+1,arguments.length&lt;=t?void
0:arguments[t])?s.create(&quot;datatype&quot;,&quot;The first or last strings
in a (dropdown:) can't be empty.&quot;,&quot;Because empty strings create
separators within (dropdown:)s, having them at the start or end doesn't make
sense.&quot;):(arguments.length&lt;=1?0:arguments.length-1)&lt;=1?s.create(&quot;datatype&quot;,&quot;I
need two or more strings to create a (dropdown:) menu, not just
&quot;+(arguments.length&lt;=1?0:arguments.length-1)+&quot;.&quot;):void
0},function(t,r,i){for(var
a=arguments.length,o=Array(a&gt;3?a-3:0),c=3;c&lt;a;c++)o[c-3]=arguments[c];var
u=0;if(&quot;two
way&quot;===i.bind){t.attr.push({&quot;data-2bind&quot;:!0});var
l=o.indexOf(i.varRef.get());l&gt;-1&amp;&amp;(u=l)}var
p=Math.max.apply(Math,_toConsumableArray(o.map(function(e){return[].concat(_toConsumableArray(e)).length}))),f=&quot;&lt;select&gt;&quot;+o.map(function(e,t){return&quot;&lt;option&quot;+(t===u?&quot;
selected&quot;:&quot;&quot;)+(&quot;&quot;===e?&quot;
disabled&quot;:&quot;&quot;)+&quot;&gt;&quot;+n.escape(e||&quot;\u2500&quot;.repeat(p))+&quot;&lt;/option&gt;&quot;}).join(&quot;\n&quot;)+&quot;&lt;/select&gt;&quot;;t.data.dropdownEvent=function(e){var
t=e.val(),n=i.set(t);s.containsError(n)&amp;&amp;e.replaceWith(n.render(t))},t.data.twoWayBindEvent=function(e,t,n){if(i.varRef.matches(t,n)){var
r=i.varRef.get(),a=o.indexOf(r);a&gt;-1&amp;&amp;a!==u&amp;&amp;(e.find(&quot;select&quot;).val(r),u=a)}},t.styles.push({&quot;background-color&quot;:function(){return
n.parentColours(e(this)).backgroundColour}});var d=i.set(o[u]);return
s.containsError(d)?d:R(t,{source:f,append:&quot;replace&quot;})},[g,String,_(String)]),n.onStartup(function(){return
e(n.storyElement).on(&quot;input.checkbox-macro&quot;,&quot;input[type=checkbox]&quot;,function(){var
t=e(this),n=t.closest(&quot;tw-expression&quot;).data(&quot;checkboxEvent&quot;);n&amp;&amp;n(t)})});var
B=1;t.addCommand(&quot;checkbox&quot;,function(){},function(e,t,n,r){var
i=!1,a=&quot;checkbox-&quot;+ ++B;if(&quot;two way&quot;===n.bind){e.attr.push({&quot;data-2bind&quot;:!0});var
o=n.varRef.get();&quot;boolean&quot;==typeof
o&amp;&amp;(i=o),e.data.twoWayBindEvent=function(e,t,r){if(n.varRef.matches(t,r)){var
i=n.varRef.get();&quot;boolean&quot;==typeof
i&amp;&amp;e.children(&quot;input[type=checkbox]&quot;).prop(&quot;checked&quot;,i)}}}return
e.data.checkboxEvent=function(e){var
t=e.is(&quot;:checked&quot;),r=n.set(t);s.containsError(r)&amp;&amp;e.replaceWith(r.render(&quot;&quot;))},R(e,{source:'&lt;input
id=&quot;'+a+'&quot; type=&quot;checkbox&quot;
'+(i?&quot;checked&quot;:&quot;&quot;)+'&gt;&lt;label
for=&quot;'+a+'&quot;&gt;'+r+&quot;&lt;/label&gt;&quot;,append:&quot;replace&quot;})},[g,String]),n.onStartup(function(){return
e(document).on(&quot;fullscreenchange&quot;,function(){e(&quot;input[type=checkbox][id^=fullscreen]&quot;,n.storyElement).each(function(t,n){(e(n).closest(&quot;tw-expression&quot;).data(&quot;fullscreenEvent&quot;)||Object)(n)})})}),t.addCommand(&quot;checkbox-fullscreen&quot;,function(){},function(t,n,r){var
i=&quot;fullscreenCheckbox-&quot;+ ++B;return t.data.fullscreenEvent=function(t){return
e(t).prop(&quot;checked&quot;,!(!document.fullscreenElement&amp;&amp;!document.msFullscreenElement))},t.data.checkboxEvent=function(){return
o.toggleFullscreen()},R(t,{source:'&lt;input id=&quot;'+i+'&quot;
type=&quot;checkbox&quot; '+(document.fullscreenEnabled||document.msFullscreenEnabled?&quot;
&quot;:&quot;disabled
&quot;)+(document.fullscreenElement||document.msFullscreenElement?&quot;checked&quot;:&quot;&quot;)+'&gt;&lt;label
for=&quot;'+i+'&quot;&gt;'+r+&quot;&lt;/label&gt;&quot;,append:&quot;replace&quot;})},[String]),n.onStartup(function(){return
e(n.storyElement).on(&quot;input.input-box-macro&quot;,&quot;textarea&quot;,function(){var
t=e(this),n=t.closest(&quot;tw-expression&quot;).data(&quot;inputBoxEvent&quot;);n&amp;&amp;n(t)})}),[&quot;input-box&quot;,&quot;force-input-box&quot;].forEach(function(e){return
t.addCommand(e,function(){for(var
t=arguments.length,n=Array(t),r=0;r&lt;t;r++)n[r]=arguments[r];var
i=g.isPrototypeOf(n[0]),a=&quot;number&quot;==typeof
n[1+i],o=&quot;string&quot;==typeof
n[1+i+a],c=n[+i];if(&quot;string&quot;!=typeof
c||-1===c.search(j)||!c.includes(&quot;=&quot;)&amp;&amp;c.length&gt;1)return
s.create(&quot;datatype&quot;,&quot;The (&quot;+e+':) macro requires a sizing
line(&quot;==X==&quot;, &quot;==X&quot;, &quot;=XXXX=&quot; etc.) be provided,
not
'+JSON.stringify(c)+&quot;.&quot;);if(&quot;force-input-box&quot;===e&amp;&amp;!o)return
s.create(&quot;datatype&quot;,&quot;The (&quot;+e+&quot;:) macro requires a
string of text to forcibly input.&quot;);var u=1+i+a+o;return n.length&gt;u?s.create(&quot;datatype&quot;,&quot;An
incorrect combination of values was given to this (&quot;+e+&quot;:)
macro.&quot;):void 0},function(t,r){for(var
i=arguments.length,a=Array(i&gt;2?i-2:0),o=2;o&lt;i;o++)a[o-2]=arguments[o];var
c=&quot;force-input-box&quot;===e,u=g.isPrototypeOf(a[0]),l=&quot;number&quot;==typeof
a[1+u],p=u&amp;&amp;a[0],f=l?a[1+u]:3,d=O(a[+u]),h=d.marginLeft,y=d.size,m=&quot;string&quot;==typeof
a[1+u+l]?a[1+u+l]:&quot;&quot;,v=c?&quot;&quot;:m;if(&quot;two
way&quot;===p.bind){t.attr.push({&quot;data-2bind&quot;:!0});var
b=p.varRef.get();if(&quot;string&quot;==typeof b){v=c?m.slice(0,b.length):b;var
w=p.set(v);if(s.containsError(w))return w}t.data.twoWayBindEvent=function(e,t,n){if(p.varRef.matches(t,n)){var
r=p.varRef.get();&quot;string&quot;==typeof
r&amp;&amp;e.find(&quot;textarea&quot;).val(c?m.slice(0,r.length):r)}}}else
if(p){var T=p.set(c?&quot;&quot;:m);if(s.containsError(T))return
T}c||(t.data.inputBoxEvent=function(e){var t=e.val(),n=p.set(t);s.containsError(n)&amp;&amp;e.replaceWith(n.render(&quot;&quot;))});var
S='&lt;textarea style=&quot;width:100%&quot;
rows='+f+&quot;&gt;&quot;+n.escape(v)+&quot;&lt;/textarea&gt;&quot;;if(c){var
x=Array.from(m);t.data.inputBoxEvent=function(e){var t=e.val().length,n=x.slice(0,t).join(&quot;&quot;);if(e.val(n),p){var
r=p.set(n);s.containsError(r)&amp;&amp;e.replaceWith(r.render(&quot;&quot;))}return!0}}return
t.styles.push({display:&quot;block&quot;,&quot;margin-left&quot;:h+&quot;%&quot;,width:y+&quot;%&quot;,&quot;border-style&quot;:function(){return
this.style.borderStyle||&quot;solid&quot;}}),R(t,{source:S,append:&quot;replace&quot;})},[N(g,String),P(N(M,String)),P(N(M,String)),P(String)])}),[&quot;show&quot;,&quot;rerun&quot;].forEach(function(n){return
t.addCommand(n,z,function(t,r){for(var
i=arguments.length,a=Array(i&gt;2?i-2:0),o=2;o&lt;i;o++)a[o-2]=arguments[o];return
a.forEach(function(i){return i.forEach(r,function(i){var a=i.data(&quot;hidden&quot;);if(void
0!==a!=(&quot;rerun&quot;===n))if(i.removeData(&quot;hidden&quot;),a instanceof
e)i.empty().append(a);else{var
o=i.data(&quot;tempVariables&quot;);r.renderInto(&quot;&quot;,null,R({},t,{append:&quot;replace&quot;,source:i.data(&quot;originalSource&quot;)||&quot;&quot;,target:i}),o&amp;&amp;Object.create(o))}})}),t},[_(l)])});var
W=function(e){return[&quot;I can't use a dialog macro in
&quot;+e+&quot;.&quot;,&quot;Please rewrite this without putting such macros
here.&quot;]};t.addCommand(&quot;hide&quot;,z,function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];n.forEach(function(t){return
t.forEach(e,function(e){Boolean(e.data(&quot;hidden&quot;))||e.data(&quot;hidden&quot;,e.contents().detach())})})},[_(l)],!1)(&quot;stop&quot;,z,z,[],!1)(&quot;load-game&quot;,z,function(e,t){var
n=localStorage.getItem($(&quot;Saved Game&quot;)+t);if(!n)return
s.create(&quot;saving&quot;,&quot;I can't find a save slot named
'&quot;+t+&quot;'!&quot;);var i=r.deserialise(e,n);if(i instanceof Error){var
a=k({message:&quot;Sorry to interrupt... The story tried to load saved data,
but there was a problem.\n&quot;+i.message+&quot;\n\nThat data might have been
saved from a different version of this story. Should I delete it?\n(Type
'delete' and choose Yes to delete it.)\n\nEither way, the story will now
continue without loading the
data.&quot;,defaultValue:&quot;&quot;,buttons:[{name:&quot;Yes&quot;,confirm:!0,callback:function(){&quot;delete&quot;===a.find(&quot;input&quot;).last().val()&amp;&amp;localStorage.removeItem($(&quot;Saved
Game&quot;)+t),e.unblock(&quot;&quot;)}},{name:&quot;No&quot;,cancel:!0,callback:function(){return
e.unblock()}}]});return&quot;blocked&quot;}requestAnimationFrame(o.showPassage.bind(o,r.passage,!1))},[String],!1)(&quot;mock-visits&quot;,function(){for(var
e=arguments.length,t=Array(e),n=0;n&lt;e;n++)t[n]=arguments[n];if(!o.options.debug)return
s.create(&quot;operation&quot;,&quot;(mock-visits:) cannot be used outside of
debug mode.&quot;,&quot;This macro is not meant to be used outside of debugging
your story.&quot;);var r=t.find(function(e){return!i.hasValid(e)});return
r?s.create(&quot;datatype&quot;,&quot;I can't mock-visit '&quot;+r+&quot;'
because no passage with that name exists.&quot;):void 0},function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),i=1;i&lt;t;i++)n[i-1]=arguments[i];r.mockVisits=S(n)},[_(String)],!1)([&quot;dialog&quot;,&quot;alert&quot;],function(e,t){for(var
r=arguments.length,i=Array(r&gt;2?r-2:0),a=2;a&lt;r;a++)i[a-2]=arguments[a];if(g.isPrototypeOf(e)){if(&quot;two
way&quot;===e.bind)return s.create(&quot;datatype&quot;,&quot;(dialog:) shouldn't
be given two-way bound variables.&quot;);if(void 0===t)return
s.create(&quot;datatype&quot;,&quot;(dialog:) needs a message string to
display.&quot;)}else void 0!==t&amp;&amp;i.unshift(t);var
o=i.findIndex(function(e){return&quot;&quot;===e});if(o&gt;-1)return
s.create(&quot;datatype&quot;,&quot;(dialog:)'s &quot;+n.nth(o+1)+&quot; link
text shouldn't be an empty string.&quot;)},function(e,t,n,r){for(var
i=arguments.length,a=Array(i&gt;4?i-4:0),o=4;o&lt;i;o++)a[o-4]=arguments[o];return
g.isPrototypeOf(n)||(void 0!==r&amp;&amp;a.unshift(r),r=n,n=void
0),a.length||(a=[&quot;OK&quot;]),k({section:t,message:r,cd:e,buttons:a.map(function(e){return{name:e,callback:function(){t.unblock(n&amp;&amp;n.set(e)||&quot;&quot;)}}})}),&quot;blocked&quot;},[N(g,String),I(String)])(&quot;open-url&quot;,z,function(e,t){window.open(t,&quot;&quot;)},[String],!1)([&quot;restart&quot;,&quot;reload&quot;],z,function(){if(r.pastLength&lt;1)return
s.create(&quot;infinite&quot;,&quot;I mustn't (restart:) the story in the
starting
passage.&quot;);r.hasSessionStorage&amp;&amp;sessionStorage.removeItem(&quot;Saved
Session&quot;),window.location.reload()},[],!1)(&quot;goto-url&quot;,z,function(e,t){window.location.assign(t)},[String],!1)(&quot;ignore&quot;,z,z,[I(E)])(&quot;assert-exists&quot;,function(e){if(&quot;&quot;===e)return
s.create(&quot;datatype&quot;,&quot;(assert-exists:) mustn't be given an empty
string.&quot;)},function(e,t,n){var r=0;return(&quot;string&quot;==typeof
n?l.create({type:&quot;string&quot;,data:n}):n).forEach(t,function(){++r}),r?e:s.create(&quot;assertion&quot;,&quot;I
didn't see any &quot;+(&quot;string&quot;==typeof n?&quot;text occurrences
of&quot;:&quot;hooks matching&quot;)+&quot; &quot;+x(n)+&quot; in this
passage.&quot;)},[N(l,String)]),t.add(&quot;assert&quot;,function(e,t){return
t?{TwineScript_TypeID:&quot;instant&quot;,TwineScript_TypeName:&quot;an
(assert:) operation&quot;,TwineScript_ObjectName:&quot;an (assert:)
operation&quot;,TwineScript_Unstorable:!0,TwineScript_Print:function(){return&quot;&quot;}}:R(s.create(&quot;assertion&quot;,&quot;An
assertion failed:
&quot;),{appendTitleText:!0})},[Boolean])(&quot;save-game&quot;,function(e,t,n){if(n=n||&quot;&quot;,!r.hasStorage)return!1;var
i=r.serialise();if(s.containsError(i))return i;if(!1===i)return!1;try{return
localStorage.setItem($(&quot;Saved
Game&quot;)+t,i),localStorage.setItem($(&quot;Saved Game
Filename&quot;)+t,n),!0}catch(e){return!1}},[String,P(String)])(&quot;prompt&quot;,function(e,t,n,r,i){if(e.stackTop&amp;&amp;e.stackTop.evaluateOnly)return
s.create.apply(s,[&quot;macrocall&quot;].concat(_toConsumableArray(W(e.stackTop.evaluateOnly))));if(&quot;&quot;===i)return
s.create(&quot;datatype&quot;,&quot;The text for (prompt:)'s confirm link can't
be blank.&quot;);var a=k({section:e,message:t,defaultValue:n,buttons:[{name:i||&quot;OK&quot;,confirm:!0,callback:function(){return
e.unblock(a.find(&quot;input&quot;).last().val())}},{name:r||&quot;Cancel&quot;,cancel:!0,callback:function(){return
e.unblock(n)}}]});setTimeout(function(){return
a.find(&quot;input&quot;).last().focus()},100)},[String,String,P(String),P(String)])(&quot;confirm&quot;,function(e,t,n,r){return
e.stackTop&amp;&amp;e.stackTop.evaluateOnly?s.create.apply(s,[&quot;macrocall&quot;].concat(_toConsumableArray(W(e.stackTop.evaluateOnly)))):&quot;&quot;===r?s.create(&quot;datatype&quot;,&quot;The
text for (confirm:)'s confirm link can't be blank.&quot;):void
k({section:e,message:t,defaultValue:!1,buttons:[{name:r||&quot;OK&quot;,confirm:!0,callback:function(){return
e.unblock(!0)}},{name:n||&quot;Cancel&quot;,cancel:!0,callback:function(){return
e.unblock(!1)}}]})},[String,P(String),P(String)])(&quot;page-url&quot;,function(){return
window.location.href},[]),a.options.blockerMacros.push(&quot;prompt&quot;,&quot;confirm&quot;)}),define(&quot;macrolib/datastructures&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;utils/naturalsort&quot;,&quot;macros&quot;,&quot;utils/operationutils&quot;,&quot;state&quot;,&quot;engine&quot;,&quot;passages&quot;,&quot;datatypes/lambda&quot;,&quot;datatypes/datatype&quot;,&quot;datatypes/typedvar&quot;,&quot;internaltypes/varref&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,a,o,s,c,u,l,p,f){var
d=t.shuffled,h=t.permutations,y=i.objectName,m=i.subset,g=i.collectionType,v=i.isValidDatamapName,b=i.is,w=i.unique,T=i.clone,S=i.range,x=r.TypeSignature,k=x.optional,O=x.rest,j=x.either,A=x.zeroOrMore,C=x.Any,E=x.nonNegativeInteger;r.add([&quot;a&quot;,&quot;array&quot;],function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
n},A(j(l,C)))(&quot;range&quot;,function(e,t,n){return S(t,n)},[parseInt,parseInt])(&quot;subarray&quot;,function(e,t,n,r){return
m(t,n,r)},[Array,parseInt,parseInt])(&quot;reversed&quot;,function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
n.reverse().map(T)},A(C))(&quot;shuffled&quot;,function(e){for(var t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
d.apply(void 0,n).map(T)},[C,O(C)])(&quot;sorted&quot;,function(e){for(var
t=arguments.length,r=Array(t&gt;1?t-1:0),i=1;i&lt;t;i++)r[i-1]=arguments[i];return
r.sort(n(&quot;en&quot;))},[j(Number,String),O(j(Number,String))])(&quot;rotated&quot;,function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];return
0===(t*=-1)?f.create(&quot;macrocall&quot;,&quot;I can't rotate these values by
0 positions.&quot;):Math.abs(t)&gt;=r.length?f.create(&quot;macrocall&quot;,&quot;I
can't rotate these &quot;+r.length+&quot; values by &quot;+t+&quot;
positions.&quot;):r.slice(t).concat(r.slice(0,t)).map(T)},[parseInt,C,O(C)])(&quot;rotated-to&quot;,function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];var
a=t.filter(e,r);if(f.containsError(a))return a;if(!a.length)return f.create(&quot;macrocall&quot;,&quot;None
of these &quot;+r.length+&quot; values matched the lambda, so I can't rotate
them.&quot;);var o=r.indexOf(a[0]);return
r.slice(o).concat(r.slice(0,o)).map(T)},[c.TypeSignature(&quot;where&quot;),C,O(C)])(&quot;repeated&quot;,function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];for(var
a=[];t-- &gt;0;)a.push.apply(a,r);return
a.map(T)},[E,O(C)])(&quot;interlaced&quot;,function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];for(var
i=Math.min.apply(Math,_toConsumableArray(n.map(function(e){return
e.length}))),a=[],o=0;o&lt;i;o+=1)for(var
s=0;s&lt;n.length;s+=1)a.push(T(n[s][o]));return
a},[Array,O(Array)])(&quot;permutations&quot;,function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
n.length?h.apply(void
0,n):[]},[A(C)]),r.add(&quot;altered&quot;,function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];return
r.map(function(n,r){return
t.apply(e,{loop:n,pos:r+1})})},[c.TypeSignature(&quot;via&quot;),A(C)])(&quot;find&quot;,function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];return
t.filter(e,r)},[c.TypeSignature(&quot;where&quot;),A(C)])([&quot;all-pass&quot;,&quot;pass&quot;],function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];var
a=t.filter(e,r);return
f.containsError(a)||a.length===r.length},[c.TypeSignature(&quot;where&quot;),A(C)])(&quot;some-pass&quot;,function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];var
a=t.filter(e,r);return f.containsError(a)||a.length&gt;0},[c.TypeSignature(&quot;where&quot;),A(C)])(&quot;none-pass&quot;,function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];var
a=t.filter(e,r);return f.containsError(a)||0===a.length},[c.TypeSignature(&quot;where&quot;),A(C)])(&quot;folded&quot;,function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];return&quot;where&quot;in
t&amp;&amp;(r=t.filter(e,r)),f.containsError(r)||r.reduce(function(n,r,i){return
t.apply(e,{making:n,loop:r,pos:i+1})})},[j(c.TypeSignature(&quot;where&quot;,&quot;via&quot;,&quot;making&quot;),c.TypeSignature(&quot;via&quot;,&quot;making&quot;)),O(C)]),r.add(&quot;datanames&quot;,function(e,t){return
Array.from(t.keys()).sort(n(&quot;en&quot;))},[Map])(&quot;datavalues&quot;,function(e,t){return
Array.from(t.entries()).sort(n(&quot;en&quot;,function(e){return
String(e[0])})).map(function(e){return T(e[1])})},[Map])(&quot;dataentries&quot;,function(e,t){return
Array.from(t.entries()).sort(function(e,t){return[e[0],t[0]].sort(n(&quot;en&quot;))[0]===e[0]?-1:1}).map(function(e){return
new Map([[&quot;name&quot;,e[0]],[&quot;value&quot;,T(e[1])]])})},[Map])(&quot;history&quot;,function(e,t){var
n=a.mockVisits.concat(a.pastPassageNames());if(!t)return n;var
r=t.filter(e,n.map(function(e){return s.get(e)}));return
f.containsError(r)?r:r.map(function(e){return
e.get(&quot;name&quot;)})},[k(c.TypeSignature(&quot;where&quot;))])(&quot;passage&quot;,function(e,t){return
T(s.get(t||a.passage))||f.create(&quot;macrocall&quot;,&quot;There's no passage
named '&quot;+t+&quot;' in this
story.&quot;)},[k(String)])(&quot;passages&quot;,function(e,t){var
r=n(&quot;en&quot;),i=[].concat(_toConsumableArray(s.values())).map(function(e){return
T(e)}),a=t?t.filter(e,i):i,o=f.containsError(a);return o||a.sort(function(e,t){return
r(e.get(&quot;name&quot;),t.get(&quot;name&quot;))})},[k(c.TypeSignature(&quot;where&quot;))])(&quot;open-storylets&quot;,function(e,t){if(e.stackTop.evaluateOnly)return
f.create(&quot;macrocall&quot;,&quot;(open-storylets:) can't be used in
&quot;+e.stackTop.evaluateOnly+&quot;.&quot;);var n=s.getStorylets(e,t),r=f.containsError(n);return
r||n.map(T)},[k(c.TypeSignature(&quot;where&quot;))])(&quot;savedgames&quot;,function(){function
e(e){return&quot;(&quot;+e+&quot; &quot;+o.options.ifid+&quot;) &quot;}var
t=0,n=void 0,r=new Map;do{if(!a.hasStorage)break;n=localStorage.key(t),t+=1;var
i=e(&quot;Saved Game&quot;);n&amp;&amp;n.startsWith(i)&amp;&amp;(n=n.slice(i.length),r.set(n,localStorage.getItem(e(&quot;Saved
Game Filename&quot;)+n)))}while(n);return
r},[])([&quot;datamap&quot;,&quot;dm&quot;],function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];var
i=void 0,a=new Map,o=n.reduce(function(e,t){var n=void
0;if(f.containsError(e))return e;if(void
0===i)i=t;else{if(n=f.containsError(v(a,i)))return n;if(a.has(i))return
f.create(&quot;macrocall&quot;,&quot;You used the same data name
(&quot;+y(i)+&quot;) twice in the same (datamap:) call.&quot;);a.set(i,T(t)),i=void
0}return e},!0);return f.containsError(o)?o:void
0!==i?f.create(&quot;macrocall&quot;,&quot;This datamap has a data name without
a
value.&quot;):a},A(j(l,C)))([&quot;dataset&quot;,&quot;ds&quot;],function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
new Set(n.filter(w).map(T))},A(C))(&quot;count&quot;,function e(t,n){for(var
r=arguments.length,i=Array(r&gt;2?r-2:0),a=2;a&lt;r;a++)i[a-2]=arguments[a];if(i.length&gt;1){var
o,s=i.map(function(r){return e(t,n,r)});return(o=f.containsError(s))?o:s.reduce(function(e,t){return
e+t},0)}var
c=i[0];switch(g(n)){case&quot;dataset&quot;:case&quot;datamap&quot;:return
f.create(&quot;macrocall&quot;,&quot;(count:) shouldn't be given a datamap or
dataset.&quot;,&quot;You should use the 'contains' operator instead. For
instance, write: $variable contains 'value'.&quot;);case&quot;string&quot;:return&quot;string&quot;!=typeof
c?f.create(&quot;macrocall&quot;,y(n)+&quot; can't contain  &quot;+y(c)+&quot;
because it isn't also a
string.&quot;):c?n.split(c).length-1:0;case&quot;array&quot;:return
n.reduce(function(e,t){return e+b(t,c)},0);default:return
f.create(&quot;macrocall&quot;,y(n)+&quot; can't contain values, let alone
&quot;+y(c)+&quot;.&quot;)}},[C,O(C)])}),define(&quot;macrolib/stylechangers&quot;,[&quot;jquery&quot;,&quot;macros&quot;,&quot;utils&quot;,&quot;utils/renderutils&quot;,&quot;datatypes/colour&quot;,&quot;datatypes/hookset&quot;,&quot;datatypes/gradient&quot;,&quot;datatypes/changercommand&quot;,&quot;datatypes/lambda&quot;,&quot;internaltypes/changedescriptor&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,a,o,s,c,u,l){var
p=r.geomParse,f=r.geomStringRegExp,d=Object.assign,h=t.TypeSignature,y=h.either,m=h.wrapped,g=h.optional,v=h.Any,b=h.Everything,w=h.zeroOrMore,T=h.rest,S=h.insensitiveSet,x=h.positiveNumber,k=h.positiveInteger,O=h.nonNegativeNumber,j=h.percent,A=[m(Boolean,'If
you gave a number, you may instead want to check that the number is not 0. If
you gave a string, you may instead want to check that the string is not
&quot;&quot;.')];n.onStartup(function(){return
e(n.storyElement).on(&quot;mouseenter.hover-macro&quot;,&quot;[hover=false]&quot;,function(){var
t=e(this),n=t.data(&quot;hoverChanger&quot;);t.data({mouseoutStyle:t.attr(&quot;style&quot;)||&quot;&quot;}),u.create({target:t},n).update(),t.attr(&quot;hover&quot;,!0)}).on(&quot;mouseleave.hover-macro&quot;,&quot;[hover=true]&quot;,function(){var
t=e(this),n=t.data(&quot;mouseoutStyle&quot;);t.attr(&quot;style&quot;,n).removeData(&quot;mouseoutStyle&quot;).attr(&quot;hover&quot;,!1)})});var
C,E,_=S(&quot;instant&quot;,&quot;dissolve&quot;,&quot;fade&quot;,&quot;rumble&quot;,&quot;shudder&quot;,&quot;pulse&quot;,&quot;zoom&quot;,&quot;flicker&quot;,&quot;slideleft&quot;,&quot;slideright&quot;,&quot;slideup&quot;,&quot;slidedown&quot;,&quot;fadeleft&quot;,&quot;faderight&quot;,&quot;fadeup&quot;,&quot;fadedown&quot;,&quot;blur&quot;),N=S(&quot;dotted&quot;,&quot;dashed&quot;,&quot;solid&quot;,&quot;double&quot;,&quot;groove&quot;,&quot;ridge&quot;,&quot;inset&quot;,&quot;outset&quot;,&quot;none&quot;);t.addChanger(&quot;if&quot;,function(e,t){return
s.create(&quot;if&quot;,[t])},function(e,t){return
e.enabled=e.enabled&amp;&amp;t},A)(&quot;unless&quot;,function(e,t){return
s.create(&quot;unless&quot;,[t])},function(e,t){return
e.enabled=e.enabled&amp;&amp;!t},A)(&quot;elseif&quot;,function(e,t){return&quot;lastHookShown&quot;in
e.stack[0]?s.create(&quot;elseif&quot;,[!1===e.stack[0].lastHookShown&amp;&amp;!!t]):l.create(&quot;macrocall&quot;,&quot;There's
no (if:) or something else before this to do (else-if:)
with.&quot;)},function(e,t){return
e.enabled=e.enabled&amp;&amp;t},A)(&quot;else&quot;,function(e){return&quot;lastHookShown&quot;in
e.stack[0]?s.create(&quot;else&quot;,[!1===e.stack[0].lastHookShown]):l.create(&quot;macrocall&quot;,&quot;There's
nothing before this to do (else:) with.&quot;)},function(e,t){return
e.enabled=e.enabled&amp;&amp;t},null)(&quot;hidden&quot;,function(){return
s.create(&quot;hidden&quot;)},function(e){return
e.enabled=!1},null)([&quot;verbatim&quot;,&quot;v6m&quot;],function(){return
s.create(&quot;verbatim&quot;)},function(e){return
e.verbatim=!0},null)(&quot;live&quot;,function(e,t){return
s.create(&quot;live&quot;,[t])},function(e,t){e.enabled=!1,e.data.live={delay:t}},g(Number))(&quot;event&quot;,function(e,t){return
s.create(&quot;event&quot;,[t])},function(e,t){e.enabled=!1,e.data.live={event:t}},c.TypeSignature(&quot;when&quot;))(&quot;more&quot;,function(){return
s.create(&quot;more&quot;)},function(e){e.enabled=!1,e.data.live={event:{when:!0,filter:function(e){return
0!==e.eval(&quot;Operations&quot;).Identifiers.exits?[]:[!0]}}}},null)(&quot;after&quot;,function(e,t,n){return
s.create(&quot;after&quot;,[t].concat(void 0!==n?[n]:[]))},function(e,t,r){e.enabled=!1,e.data.live={event:{when:!0,filter:function(e){return
n.anyInputDown()&amp;&amp;(t-=r),e.eval(&quot;Operations&quot;).Identifiers.time&gt;t?[!0]:[]}}}},[x,g(O)])(&quot;hook&quot;,function(e,t){return
t?s.create(&quot;hook&quot;,[t]):l.create(&quot;datatype&quot;,&quot;(hook:)
names can't be empty strings.&quot;)},function(e,t){return
e.attr.push({name:t})},[String])([&quot;for&quot;,&quot;loop&quot;],function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];return
t.loop?s.create(&quot;for&quot;,[t].concat(r)):l.create(&quot;datatype&quot;,&quot;The
lambda provided to (for:) must refer to a temp variable, not just
'it'.&quot;)},function(e,t){for(var
n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;i&lt;n;i++)r[i-2]=arguments[i];var
a,o=t.filter(e.section,r);if(a=l.containsError(o))return
a;e.loopVars[t.loop.getName()]=o||[]},[c.TypeSignature(&quot;where&quot;),w(v)])([&quot;transition&quot;,&quot;t8n&quot;],function(e,t){return
s.create(&quot;transition&quot;,[n.insensitiveName(t)])},function(t,r){return
t.transition=r,&quot;zoom&quot;===r&amp;&amp;(t.transitionOrigin=function(){var
t=e(this).offset(),r=t.left,i=t.top;return n.mouseCoords.x-r+&quot;px &quot;+(n.mouseCoords.y-i)+&quot;px&quot;}),t},[_])([&quot;transition-time&quot;,&quot;t8n-time&quot;],function(e,t){return
s.create(&quot;transition-time&quot;,[t])},function(e,t){return
e.transitionTime=t,e.data.passageT8n=d(e.data.passageT8n||{},{time:t}),e},[x])([&quot;transition-delay&quot;,&quot;t8n-delay&quot;],function(e,t){return
s.create(&quot;transition-delay&quot;,[t])},function(e,t){return
e.transitionDelay=t,e},[O])([&quot;transition-skip&quot;,&quot;t8n-skip&quot;],function(e,t){return
s.create(&quot;transition-skip&quot;,[t])},function(e,t){return e.transitionSkip=t,e},[x])([&quot;transition-depart&quot;,&quot;t8n-depart&quot;],function(e,t){return
s.create(&quot;transition-depart&quot;,[n.insensitiveName(t)])},function(t,r){return
t.data.passageT8n=d(t.data.passageT8n||{},{depart:r}),&quot;zoom&quot;===r&amp;&amp;(t.data.passageT8n.departOrigin=function(){var
t=e(this).offset(),r=t.left,i=t.top;return n.mouseCoords.x-r+&quot;px
&quot;+(n.mouseCoords.y-i)+&quot;px&quot;}),t},[_])([&quot;transition-arrive&quot;,&quot;t8n-arrive&quot;],function(e,t){return
s.create(&quot;transition-arrive&quot;,[n.insensitiveName(t)])},function(t,r){return
t.data.passageT8n=d(t.data.passageT8n||{},{arrive:r}),&quot;zoom&quot;===r&amp;&amp;(t.data.passageT8n.arriveOrigin=function(){var
t=e(this),r=t.offset(),i=r.left,a=r.top,o=t.height();return{&quot;transform-origin&quot;:100*(n.mouseCoords.x-i)/t.width()+&quot;%
&quot;+100*(n.mouseCoords.y-a)/o+&quot;%&quot;,height:o+&quot;px&quot;}}),t},[_])(&quot;button&quot;,function(){return
s.create(&quot;button&quot;,[])},function(e){return
e.attr.push({class:function(){return
this.className+(this.classList.contains(&quot;enchantment-button&quot;)?&quot;&quot;:&quot;
&quot;.repeat(this.className.length&gt;0)+&quot;enchantment-button&quot;)}}),e},[])([&quot;border&quot;,&quot;b4r&quot;],function(e){for(var
t=arguments.length,r=Array(t&gt;1?t-1:0),i=1;i&lt;t;i++)r[i-1]=arguments[i];return
s.create(&quot;border&quot;,r.map(n.insensitiveName))},function(t){for(var
n=arguments.length,r=Array(n&gt;1?n-1:0),i=1;i&lt;n;i++)r[i-1]=arguments[i];return
t.styles.push({display:function(){var t=e(this).css(&quot;display&quot;);return
r.every(function(e){return&quot;none&quot;===e})||!t.includes(&quot;inline&quot;)?t:&quot;inline-block&quot;},&quot;border-style&quot;:r.join(&quot;
&quot;),&quot;border-width&quot;:function(){return this.style.borderWidth||&quot;2px&quot;}}),t},[N].concat(_toConsumableArray(Array(3).fill(g(N)))))([&quot;border-size&quot;,&quot;b4r-size&quot;],function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
s.create(&quot;border-size&quot;,n)},function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
e.styles.push({&quot;border-width&quot;:n.map(function(e){return
e+&quot;px&quot;}).join(&quot;
&quot;)}),e},[O].concat(_toConsumableArray(Array(3).fill(g(O)))))(&quot;corner-radius&quot;,function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
s.create(&quot;corner-radius&quot;,n)},function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
e.styles.push({&quot;border-radius&quot;:n.map(function(e){return
e+&quot;px&quot;}).join(&quot; &quot;),padding:function(){return this.style.padding||n.map(function(e){return
e+&quot;px&quot;}).join(&quot;
&quot;)}}),e},[O].concat(_toConsumableArray(Array(3).fill(g(O)))))([&quot;border-colour&quot;,&quot;b4r-colour&quot;,&quot;border-color&quot;,&quot;b4r-color&quot;],function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
s.create(&quot;border-colour&quot;,n.map(function(e){return
i.isPrototypeOf(e)?e.toRGBAString(e):e}))},function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
e.styles.push({&quot;border-color&quot;:n.join(&quot;
&quot;)}),e},[y(String,i)].concat(_toConsumableArray(Array(3).fill(g(y(String,i))))))(&quot;opacity&quot;,function(e,t){return
s.create(&quot;opacity&quot;,[t])},function(e,t){return
e.styles.push({opacity:t})},[j])(&quot;font&quot;,function(e,t){return
s.create(&quot;font&quot;,[t])},function(e,t){return e.styles.push({&quot;font-family&quot;:t}),e},[String])(&quot;align&quot;,function(e,t){var
n=void
0,r=t.indexOf(&quot;&gt;&lt;&quot;);if(!/^(==+&gt;|&lt;=+|=+&gt;&lt;=+|&lt;==+&gt;)$/.test(t))return
l.create(&quot;datatype&quot;,'The (align:) macro requires an alignment arrow
(&quot;==&gt;&quot;, &quot;&lt;==&quot;, &quot;==&gt;&lt;=&quot; etc.) be
provided, not &quot;'+t+'&quot;');if(~r){var i=Math.round(r/(t.length-2)*50);n=d({&quot;text-align&quot;:&quot;center&quot;,&quot;max-width&quot;:&quot;50%&quot;},25===i?{&quot;margin-left&quot;:&quot;auto&quot;,&quot;margin-right&quot;:&quot;auto&quot;}:{&quot;margin-left&quot;:i+&quot;%&quot;})}else
n=&quot;&lt;&quot;===t[0]&amp;&amp;&quot;&gt;&quot;===t.slice(-1)?{&quot;text-align&quot;:&quot;justify&quot;,&quot;max-width&quot;:&quot;50%&quot;}:t.includes(&quot;&gt;&quot;)?{&quot;text-align&quot;:&quot;right&quot;}:{&quot;text-align&quot;:&quot;left&quot;};return
n.display=&quot;inline-block&quot;,s.create(&quot;align&quot;,[n])},function(e,t){e.styles.push(t)},[String])([&quot;text-colour&quot;,&quot;text-color&quot;,&quot;color&quot;,&quot;colour&quot;],function(e,t){return
s.create(&quot;text-colour&quot;,[t])},function(e,t){return
i.isPrototypeOf(t)&amp;&amp;(t=t.toRGBAString(t)),e.styles.push({color:t}),e},[y(String,i)])([&quot;text-size&quot;,&quot;size&quot;],function(e,t){return
s.create(&quot;text-size&quot;,[t])},function(e,t){return
e.styles.push({&quot;font-size&quot;:24*t+&quot;px&quot;,&quot;line-height&quot;:36*t+&quot;px&quot;}),e},[O])(&quot;text-indent&quot;,function(e,t){return
s.create(&quot;text-indent&quot;,[t])},function(e,t){return
e.styles.push({&quot;text-indent&quot;:t+&quot;px&quot;,display:&quot;inline-block&quot;}),e},[O])([&quot;text-rotate-z&quot;,&quot;text-rotate&quot;],function(e,t){return
s.create(&quot;text-rotate-z&quot;,[t])},function(t,n){return
t.styles.push({display:&quot;inline-block&quot;,transform:function(){var
t=e(this).css(&quot;transform&quot;)||&quot;&quot;;return&quot;none&quot;===t&amp;&amp;(t=&quot;&quot;),t+&quot;
rotate(&quot;+n+&quot;deg)&quot;}}),t},[Number])(&quot;text-rotate-y&quot;,function(e,t){return
s.create(&quot;text-rotate-y&quot;,[t])},function(t,n){return
t.styles.push({display:&quot;inline-block&quot;,transform:function(){var
t=e(this).css(&quot;transform&quot;)||&quot;&quot;;return&quot;none&quot;===t&amp;&amp;(t=&quot;&quot;),t+&quot;
perspective(50vw)
rotateY(&quot;+n+&quot;deg)&quot;}}),t},[Number])(&quot;text-rotate-x&quot;,function(e,t){return
s.create(&quot;text-rotate-x&quot;,[t])},function(t,n){return
t.styles.push({display:&quot;inline-block&quot;,transform:function(){var
t=e(this).css(&quot;transform&quot;)||&quot;&quot;;return&quot;none&quot;===t&amp;&amp;(t=&quot;&quot;),t+&quot;
perspective(50vw)
rotateX(&quot;+n+&quot;deg)&quot;}}),t},[Number])([&quot;background&quot;,&quot;bg&quot;],function(e,t){return
s.create(&quot;background&quot;,[t])},function(t,r){var a=void 0;return
i.isPrototypeOf(r)?r=r.toRGBAString(r):o.isPrototypeOf(r)&amp;&amp;(r=r.toLinearGradientString(r)),a=i.isHexString(r)||i.isCSS3Function(r)?{&quot;background-color&quot;:r}:r.startsWith(&quot;linear-gradient(&quot;)||r.startsWith(&quot;repeating-linear-gradient(&quot;)?{&quot;background-image&quot;:r}:{&quot;background-size&quot;:&quot;cover&quot;,&quot;background-image&quot;:&quot;url(&quot;+r+&quot;)&quot;},t.styles.push(a,{display:function(){var
t=e(this);return!t.children().length||n.childrenProbablyInline(t)?e(this).css(&quot;display&quot;):&quot;block&quot;}}),t},[y(String,i,o)]).apply(void
0,_toConsumableArray((C={color:function(){return&quot;transparent&quot;}},E=d(Object.create(null),{none:{},bold:{&quot;font-weight&quot;:&quot;bold&quot;},italic:{&quot;font-style&quot;:&quot;italic&quot;},underline:{&quot;text-decoration&quot;:&quot;underline&quot;},doubleunderline:{&quot;text-decoration&quot;:&quot;underline&quot;,&quot;text-decoration-style&quot;:&quot;double&quot;},wavyunderline:{&quot;text-decoration&quot;:&quot;underline&quot;,&quot;text-decoration-style&quot;:&quot;wavy&quot;},strike:{&quot;text-decoration&quot;:&quot;line-through&quot;},doublestrike:{&quot;text-decoration&quot;:&quot;line-through&quot;,&quot;text-decoration-style&quot;:&quot;double&quot;},wavystrike:{&quot;text-decoration&quot;:&quot;line-through&quot;,&quot;text-decoration-style&quot;:&quot;wavy&quot;},superscript:{&quot;vertical-align&quot;:&quot;super&quot;,&quot;font-size&quot;:&quot;.83em&quot;},subscript:{&quot;vertical-align&quot;:&quot;sub&quot;,&quot;font-size&quot;:&quot;.83em&quot;},blink:{animation:&quot;fade-in-out
1s steps(1,end) infinite alternate&quot;},shudder:{animation:&quot;shudder
linear 0.1s 0s infinite&quot;},mark:{&quot;background-color&quot;:&quot;hsla(60,
100%, 50%,
0.6)&quot;},condense:{&quot;letter-spacing&quot;:&quot;-0.08em&quot;},expand:{&quot;letter-spacing&quot;:&quot;0.1em&quot;},outline:[{&quot;text-shadow&quot;:function(){var
t=e(this).css(&quot;color&quot;);return&quot;-1px -1px 0 &quot;+t+&quot;, 1px
-1px 0 &quot;+t+&quot;,-1px  1px 0 &quot;+t+&quot;, 1px  1px 0 &quot;+t}},{color:function(){return
n.parentColours(e(this)).backgroundColour}}],shadow:{&quot;text-shadow&quot;:function(){return&quot;0.08em
0.08em 0.08em
&quot;+e(this).css(&quot;color&quot;)}},emboss:{&quot;text-shadow&quot;:function(){return&quot;0.04em
0.04em 0em &quot;+e(this).css(&quot;color&quot;)}},smear:[{&quot;text-shadow&quot;:function(){var
t=e(this).css(&quot;color&quot;);return&quot;0em   0em 0.02em
&quot;+t+&quot;,-0.2em 0em  0.5em &quot;+t+&quot;, 0.2em 0em  0.5em
&quot;+t}},C],blur:[{&quot;text-shadow&quot;:function(){return&quot;0em 0em
0.08em &quot;+e(this).css(&quot;color&quot;)}},C],blurrier:[{&quot;text-shadow&quot;:function(){return&quot;0em
0em 0.2em
&quot;+e(this).css(&quot;color&quot;)},&quot;user-select&quot;:&quot;none&quot;},C],mirror:{display:&quot;inline-block&quot;,transform:&quot;scaleX(-1)&quot;},upsidedown:{display:&quot;inline-block&quot;,transform:&quot;scaleY(-1)&quot;},fadeinout:{animation:&quot;fade-in-out
2s ease-in-out infinite alternate&quot;},rumble:{animation:&quot;rumble linear
0.1s 0s infinite&quot;},sway:{animation:&quot;sway linear 2.5s 0s
infinite&quot;},buoy:{animation:&quot;buoy linear 2.5s 0s
infinite&quot;},fidget:{animation:function(){return&quot;fidget step-end 60s
&quot;+60*-Math.random()+&quot;s infinite&quot;+(Math.random()&lt;.5?&quot;
reverse&quot;:&quot;&quot;)}}}),[&quot;text-style&quot;,function(e){for(var
t=arguments.length,r=Array(t&gt;1?t-1:0),i=1;i&lt;t;i++)r[i-1]=arguments[i];return
s.create(&quot;text-style&quot;,r.map(n.insensitiveName))},function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];for(var
i=0;i&lt;n.length;i+=1)&quot;none&quot;===n[i]?e.styles=[]:e.styles=e.styles.concat(E[n[i]]);return
e},[T(S.apply(void
0,_toConsumableArray(Object.keys(E))))]])))(&quot;collapse&quot;,function(){return
s.create(&quot;collapse&quot;)},function(e){return e.attr.push({collapsing:!0}),e},[])(&quot;hover-style&quot;,function(e,t){var
n=u.create(),r=(t.run(n),n.summary());return
r+&quot;&quot;==&quot;styles&quot;||r.every(function(e){return&quot;styles&quot;===e||&quot;attr&quot;===e})&amp;&amp;n.attr.every(function(e){return
Object.keys(e)+&quot;&quot;==&quot;style&quot;})?s.create(&quot;hover-style&quot;,[t]):l.create(&quot;datatype&quot;,&quot;The
changer given to (hover-style:) must only change the hook's
style.&quot;)},function(e,t){return
e.data.hoverChanger=t,e.attr.push({hover:function(e,t){return void
0!==t&amp;&amp;t}}),e},[s])(&quot;css&quot;,function(e,t){return
t.trim().endsWith(&quot;;&quot;)||(t+=&quot;;&quot;),s.create(&quot;css&quot;,[t])},function(t,n){return
t.attr.push({style:function(){return(e(this).attr(&quot;style&quot;)||&quot;&quot;)+n}}),t},[String])(&quot;test-true&quot;,function(){return
s.create(&quot;test-true&quot;,[])},function(e){return
e.enabled=!0},w(b))(&quot;test-false&quot;,function(){return
s.create(&quot;test-false&quot;,[])},function(e){return
e.enabled=!1},w(b)),t.addCommand(&quot;animate&quot;,e.noop,function(e,t,r,i,a){r.forEach(t,function(t){var
r=void 0;if(&quot;zoom&quot;===name){var
o=t.offset(),s=o.left,c=o.top;r=n.mouseCoords.x-s+&quot;px &quot;+(n.mouseCoords.y-c)+&quot;px&quot;}n.transitionIn(t,i,e.transitionTime||a,e.transitionDelay,e.transitionSkip,0,r)})},[T(a),S.apply(void
0,_toConsumableArray(_.innerType.filter(function(e){return&quot;instant&quot;!==e}))),g(x)]),[&quot;box&quot;,&quot;float-box&quot;].forEach(function(r){return
t.addChanger(r,function(e,t,n){var i=-1===t.search(f)||t.length&gt;1&amp;&amp;!t.includes(&quot;=&quot;),a=&quot;float-box&quot;===r&amp;&amp;(-1===n.search(f)||n.length&gt;1&amp;&amp;!n.includes(&quot;=&quot;));return
i||a?l.create(&quot;datatype&quot;,&quot;The (&quot;+r+':) macro requires a
sizing line(&quot;==X==&quot;, &quot;==X&quot;, &quot;=XXXX=&quot; etc.) be
provided, not &quot;'+(i?t:n)+'&quot;.'):s.create(r,[t,n].filter(function(e){return
void 0!==e}))},function(t,i,a){var o,s=p(i),c=s.marginLeft,u=s.size,l=void
0;if(&quot;float-box&quot;===r){var f=p(a);l=f.marginLeft,a=f.size}var
h=&quot;box&quot;===r?&quot;%&quot;:&quot;vw&quot;,y=(_defineProperty(o={display:&quot;block&quot;,width:u+h,&quot;max-width&quot;:u+h},&quot;box&quot;===r?&quot;margin-left&quot;:&quot;left&quot;,c+h),_defineProperty(o,&quot;box-sizing&quot;,&quot;content-box&quot;),_defineProperty(o,&quot;overflow-y&quot;,&quot;auto&quot;),_defineProperty(o,&quot;padding&quot;,function(){return
e(this).css(&quot;padding&quot;)||&quot;1em&quot;}),o);return void
0!==a&amp;&amp;(y.height=a+(&quot;box&quot;===r?&quot;em&quot;:&quot;vh&quot;)),&quot;float-box&quot;===r&amp;&amp;d(y,{position:&quot;fixed&quot;,top:l+&quot;vh&quot;,&quot;background-color&quot;:function(){return
n.parentColours(e(this)).backgroundColour}}),t.styles.push(y),t},[String,&quot;box&quot;===r?g(k):String])})}),define(&quot;internaltypes/enchantment&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;internaltypes/changedescriptor&quot;,&quot;datatypes/changercommand&quot;,&quot;utils/operationutils&quot;,&quot;internaltypes/twineerror&quot;,&quot;utils/renderutils&quot;],function(e,t,n,r,i,a,o){var
s=i.objectName,c=o.collapse,u={create:function(n){return t.assertOnlyHas(n,[&quot;scope&quot;,&quot;localHook&quot;,&quot;section&quot;,&quot;attr&quot;,&quot;data&quot;,&quot;changer&quot;,&quot;functions&quot;,&quot;lambda&quot;,&quot;name&quot;]),Object.assign(Object.create(this),{enchantments:e()},n)},enchantScope:function(){var
i=this,o=this.attr,u=this.data,l=this.functions,p=this.section,f=this.scope,d=this.localHook,h=this.lambda,y=[];f.forEach(p,function(m,g){if(!d||d.has(m[0]).length){var
v=void
0;if(h)if(v=h.apply(p,{loop:f.TwineScript_GetProperty(g),pos:g+1}),a.containsError(v))m.replaceWith(v.render(&quot;&quot;)),h=v=null;else
if(r.isPrototypeOf(v)){var b=v.summary();(b.includes(&quot;newTargets&quot;)||b.includes(&quot;target&quot;))&amp;&amp;(m.replaceWith(a.create(&quot;macrocall&quot;,&quot;The
changer produced by the 'via' lambda given to (enchant:) can't include a
revision or enchantment changer like (replace:) or
(click:).&quot;).render(&quot;&quot;)),h=v=null)}else
m.replaceWith(a.create(&quot;macrocall&quot;,&quot;The 'via' lambda given to
(enchant:) must return a changer, not
&quot;+s(v)+&quot;.&quot;).render(&quot;&quot;)),h=v=null;else v=i.changer;var
w=!o&amp;&amp;!u&amp;&amp;(!v||v.summary().every(function(e){return
e.startsWith(&quot;transition&quot;)})),T=w?m:m.wrap(&quot;&lt;tw-enchantment&gt;&quot;).parent();if(o&amp;&amp;T.attr(o),u&amp;&amp;T.data(u),l&amp;&amp;l.forEach(function(e){return
e(T)}),v){var
S=n.create({section:p,target:T});if(v.run(S),S.update(),m.is(t.storyElement)){var
x=Object.keys(Object.assign.apply(Object,[{}].concat(_toConsumableArray(S.styles))));m.css(x.reduce(function(e,t){return
e[t]=&quot;inherit&quot;,e},{})),T.data({enchantedProperties:x})}else
if(m.is(&quot;tw-passage&quot;)&amp;&amp;S.styles.some(function(e){return&quot;margin-left&quot;in
e||&quot;margin&quot;in e||&quot;margin-right&quot;in e})){var k=&quot;padding-left&quot;,O=&quot;padding-right&quot;;t.storyElement.css(k,&quot;0px&quot;).css(O,&quot;0px&quot;),T.data({enchantedProperties:[k,O]})}}m.is(t.storyElement)&amp;&amp;T.css({width:&quot;100%&quot;,height:&quot;100%&quot;}),&quot;true&quot;===T.attr(&quot;collapsing&quot;)&amp;&amp;(T.find(&quot;[collapsing=false]&quot;).each(function(){e(this).removeAttr(&quot;collapsing&quot;)}),c(T)),w||y.push(T)}}),this.enchantments=e(y)},disenchant:function(){this.enchantments.each(function(){e(this).contents().unwrap();var
n=e(this).data(&quot;enchantedProperties&quot;);n&amp;&amp;t.storyElement.css(n.reduce(function(e,t){return
e[t]=&quot;&quot;,e},{}))})}};return Object.freeze(u)}),define(&quot;macrolib/enchantments&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;utils/operationutils&quot;,&quot;engine&quot;,&quot;state&quot;,&quot;passages&quot;,&quot;macros&quot;,&quot;datatypes/hookset&quot;,&quot;datatypes/changercommand&quot;,&quot;datatypes/lambda&quot;,&quot;internaltypes/enchantment&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,a,o,s,c,u,l,p){var
f=n.is,d=o.TypeSignature,h=d.either,y=d.rest,m=d.optional;function
g(e,t){if(c.isPrototypeOf(t)){var
n=t.summary();if([&quot;newTargets&quot;,&quot;target&quot;,&quot;appendSource&quot;,&quot;functions&quot;].some(function(e){return
n.includes(e)}))return p.create(&quot;datatype&quot;,&quot;The changer given to
(&quot;+e+&quot;:) can't include a revision or enchantment changer like
(replace:) or
(click:).&quot;)}}[&quot;enchant&quot;,&quot;change&quot;].forEach(function(e){o.addCommand(e,function(t,n){var
r=g(e,n);if(r)return r},function(t,n,r){var
i,a=l.create((_defineProperty(i={scope:s.from(n)},c.isPrototypeOf(r)?&quot;changer&quot;:&quot;lambda&quot;,r),_defineProperty(i,&quot;section&quot;,t),i));return&quot;enchant&quot;===e?(t.addEnchantment(a),t.updateEnchantments()):a.enchantScope(),&quot;&quot;},[h(s,String),h(c,u.TypeSignature(&quot;via&quot;))],!1)}),o.addChanger(&quot;enchant-in&quot;,function(e,t,n){var
r=g(&quot;enchant-in&quot;,n);return
r||c.create(&quot;enchant-in&quot;,[t,n])},function(e,t,n){return
e.functions=(e.functions||[]).concat(function(r){var
i;e.section.addEnchantment(l.create((_defineProperty(i={scope:s.from(t),localHook:r},c.isPrototypeOf(n)?&quot;changer&quot;:&quot;lambda&quot;,n),_defineProperty(i,&quot;section&quot;,e.section),i)))}),e},[h(s,String),h(c,u.TypeSignature(&quot;via&quot;))]),[[&quot;link-style&quot;,s.create({type:&quot;name&quot;,data:&quot;link&quot;})],[&quot;line-style&quot;,s.create({type:&quot;base&quot;,data:s.create({type:&quot;name&quot;,data:&quot;page&quot;})},&quot;lines&quot;,void
0)],[&quot;char-style&quot;,s.create({type:&quot;base&quot;,data:s.create({type:&quot;name&quot;,data:&quot;page&quot;})},&quot;chars&quot;,void
0)]].forEach(function(e){var
t=_slicedToArray(e,2),n=t[0],r=t[1];o.addChanger(n,function(e,t){var
r=g(n,t);return r||c.create(n,[t])},function(e,t){return
e.functions=(e.functions||[]).concat(function(n){var
i;e.section.addEnchantment(l.create((_defineProperty(i={scope:r,localHook:n},c.isPrototypeOf(t)?&quot;changer&quot;:&quot;lambda&quot;,t),_defineProperty(i,&quot;section&quot;,e.section),i)))}),e},[h(c,u.TypeSignature(&quot;via&quot;))])});var
v=[&quot;replace&quot;,&quot;append&quot;,&quot;prepend&quot;];function
b(n,i){return t.onStartup(function(){var r=n.classList.replace(/
/g,&quot;.&quot;),i=n.blockClassList?n.blockClassList.replace(/
/g,&quot;.&quot;):&quot;&quot;,a=&quot;.&quot;+r+(i?&quot;,.&quot;+i:&quot;&quot;);t.storyElement.on(n.event.map(function(e){return
e+&quot;.enchantment&quot;}).join(&quot; &quot;),a,function(){var t=e(Array.from(e(this).parents(a).add(this)).sort(function(e,t){return
8&amp;e.compareDocumentPosition(t)?1:-1})[0]),n=t.data(&quot;enchantmentEvent&quot;);n&amp;&amp;n(t)})}),[function(e,t,n){if(!t)return
p.create(&quot;datatype&quot;,&quot;A string given to this (&quot;+i+&quot;:)
macro was empty.&quot;);if(n){var r=g(i,n);if(r)return r}return
c.create(i,[s.from(t)].concat(n?[n]:[]))},function(e,t,a){e.enabled=!1,e.transitionDeferred=!0,n.rerender&amp;&amp;(e.newTargets=(e.newTargets||[]).concat({target:t,append:n.rerender}));var
o=e.section&amp;&amp;e.section.stackTop?e.section.stackTop.tempVariables:Object.create(null),s=l.create(_defineProperty({functions:[function(e){e.attr(&quot;class&quot;,e.children().is(&quot;tw-story,
tw-sidebar,
tw-passage&quot;)||&quot;block&quot;===e.children().css(&quot;display&quot;)?n.blockClassList:n.classList)}],attr:(n.classList+&quot;&quot;).match(/\b(?:link|enchantment-clickblock)\b/)?{tabIndex:&quot;0&quot;}:{},data:{enchantmentEvent:function(){e.section.stackTop&amp;&amp;e.section.stackTop.blocked||(n.once&amp;&amp;e.section.removeEnchantment(s),n.goto?r.goToPassage(n.goto,{transition:n.transition}):n.undo?r.goBack({transition:n.transition}):e.section.renderInto(e.source,null,Object.assign({},e,{enabled:!0,transitionDeferred:!1}),o))}},scope:t,section:e.section,name:i},c.isPrototypeOf(a)?&quot;changer&quot;:&quot;lambda&quot;,a));return
e.section&amp;&amp;(e.section.addEnchantment(s),s.enchantScope()),e},[h(s,String),m(h(c,u.TypeSignature(&quot;via&quot;)))]]}v.forEach(function(t){o.addChanger(t,function(e){for(var
n=arguments.length,r=Array(n&gt;1?n-1:0),i=1;i&lt;n;i++)r[i-1]=arguments[i];return
r.every(Boolean)?c.create(t,r.map(s.from)):p.create(&quot;datatype&quot;,&quot;A
string given to this (&quot;+t+&quot;:) macro was
empty.&quot;)},function(n){for(var
r,i=arguments.length,a=Array(i&gt;1?i-1:0),o=1;o&lt;i;o++)a[o-1]=arguments[o];return
e(n.target).parents().filter(&quot;tw-collapsed,[collapsing=true]&quot;).length&gt;0||n.attr.some(function(e){return
e.collapsing})||(n.attr=[].concat(_toConsumableArray(n.attr),[{collapsing:!1}])),n.newTargets=n.newTargets||[],(r=n.newTargets).push.apply(r,_toConsumableArray(a.filter(function(e){return!n.newTargets.some(function(n){var
r=n.target,i=n.append;return f(e,r)&amp;&amp;t===i})}).map(function(e){return{target:e,append:t,before:!0}}))),n},y(h(s,String)))(t+&quot;-with&quot;,function(e,n){return
c.create(t+&quot;-with&quot;,[n])},function(e,n){return
e.appendSource=(e.appendSource||[]).concat({source:n,append:t}),e},String)});var
w=&quot;ontouchstart&quot;in
window||navigator.maxTouchPoints&gt;0||navigator.msMaxTouchPoints&gt;0,T=[{name:&quot;click&quot;,enchantDesc:{event:[&quot;click&quot;],once:!0,rerender:&quot;&quot;,classList:&quot;link
enchantment-link&quot;,blockClassList:&quot;enchantment-clickblock&quot;}},{name:&quot;mouseover&quot;,enchantDesc:{event:[&quot;mouseenter&quot;,w?&quot;click&quot;:&quot;&quot;].filter(Boolean),once:!0,rerender:&quot;&quot;,classList:&quot;enchantment-mouseover&quot;,blockClassList:&quot;enchantment-mouseoverblock&quot;}},{name:&quot;mouseout&quot;,enchantDesc:{event:[&quot;mouseleave&quot;,w?&quot;click&quot;:&quot;&quot;].filter(Boolean),once:!0,rerender:&quot;&quot;,classList:&quot;enchantment-mouseout&quot;,blockClassList:&quot;enchantment-mouseoutblock&quot;}}];T.forEach(function(e){return
o.addChanger.apply(o,[e.name].concat(_toConsumableArray(b(e.enchantDesc,e.name))))}),t.onStartup(function(){T.forEach(function(n){var
r=n.enchantDesc;r.blockClassList&amp;&amp;t.storyElement.on(r.event.map(function(e){return
e+&quot;.enchantment&quot;}).join(&quot; &quot;),function(){var
t=e(Array.from(e(this).parents(&quot;.&quot;+r.blockClassList.replace(/
/g,&quot;.&quot;))).sort(function(e,t){return 8&amp;e.compareDocumentPosition(t)?1:-1})[0]),n=t.data(&quot;enchantmentEvent&quot;);n&amp;&amp;n(t)})})}),v.forEach(function(e){T.forEach(function(t){var
n=Object.assign({},t.enchantDesc,{rerender:e}),r=t.name+&quot;-&quot;+e;o.addChanger.apply(o,[r].concat(_toConsumableArray(b(n,r))))})}),T.forEach(function(e){[&quot;goto&quot;,&quot;undo&quot;].forEach(function(t){var
n=e.name+&quot;-&quot;+t;o.addCommand(n,function(e,r){return!e||!r&amp;&amp;&quot;goto&quot;===t?p.create(&quot;datatype&quot;,&quot;A
string given to this (&quot;+n+&quot;:) macro was
empty.&quot;):&quot;goto&quot;!==t||a.hasValid(r)?void 0:p.create(&quot;macrocall&quot;,&quot;I
can't (&quot;+n+&quot;:) the passage '&quot;+r+&quot;' because it doesn't
exist.&quot;)},function(r,a,o,c){if(&quot;undo&quot;===t&amp;&amp;i.pastLength&lt;1)return
p.create(&quot;macrocall&quot;,&quot;I can't (undo:) on the first
turn.&quot;);var
u=b(Object.assign({},e.enchantDesc,{transition:r.data.passageT8n},&quot;undo&quot;===t?{undo:!0}:{goto:c}),n);return(0,_slicedToArray(u,2)[1])({section:a},s.from(o)),Object.assign(r,{source:&quot;&quot;})},[h(s,String)].concat(&quot;undo&quot;===t?[]:String))})})}),define(&quot;macrolib/metadata&quot;,[&quot;macros&quot;,&quot;renderer&quot;,&quot;utils/operationutils&quot;,&quot;datatypes/lambda&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i){var
a=n.clone,o=n.objectName,s=n.isValidDatamapName,c=e.TypeSignature,u=c.zeroOrMore,l=c.Any,p=t.options.metadataMacros,f=function(e){return{TwineScript_TypeName:&quot;a
(&quot;+e+&quot;:) macro&quot;,TwineScript_ObjectName:&quot;a
(&quot;+e+&quot;:) macro&quot;,TwineScript_Unstorable:!0,TwineScript_Print:function(){return&quot;&quot;}}};[[&quot;storylet&quot;,r.TypeSignature(&quot;when&quot;)],[&quot;urgency&quot;,Number],[&quot;exclusivity&quot;,Number]].forEach(function(t){var
n=_slicedToArray(t,2),r=n[0],i=n[1];e.add(r,function(e,t){return e.stackTop.speculativePassage?t:f(r)},i),p.push(r)}),e.add(&quot;metadata&quot;,function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];var
c=void 0,u=new Map,l=n.reduce(function(e,t){var n=void
0;if(i.containsError(e))return e;if(void
0===c)c=t;else{if(n=i.containsError(s(u,c)))return n;if(u.has(c))return
i.create(&quot;macrocall&quot;,&quot;You used the same data name
(&quot;+o(c)+&quot;) twice in the same (metadata:)
call.&quot;);u.set(c,a(t)),c=void 0}return e},!0);return
i.containsError(l)?l:void 0!==c?i.create(&quot;macrocall&quot;,&quot;This
(metadata:) macro has a data name without a
value.&quot;):e.stackTop.speculativePassage?u:f(&quot;storylet&quot;)},u(l)),p.push(&quot;metadata&quot;)}),define(&quot;macrolib/patterns&quot;,[&quot;jquery&quot;,&quot;macros&quot;,&quot;utils&quot;,&quot;utils/operationutils&quot;,&quot;datatypes/datatype&quot;,&quot;datatypes/typedvar&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,a,o){var
s=n.anyRealLetter,c=n.anyUppercase,u=n.anyLowercase,l=n.anyCasedLetter,p=n.realWhitespace,f=n.impossible,d=r.objectName,h=r.toSource,y=t.TypeSignature,m=y.rest,g=y.either,v=y.optional,b=y.nonNegativeInteger,w=Object.assign,T=Object.create,S=m(g(String,i,a)),x=function
e(t){var n,r=t.name,y=t.fullArgs,m=t.args,g=t.makeRegExpString,v=void
0===g?function(e){return e.join(&quot;&quot;)}:g,b=t.insensitive,S=void
0!==b&amp;&amp;b,x=t.canContainTypedVars,k=void
0===x||x,O=t.canBeUsedAlone,j=void 0===O||O,A=m||y,C=A.map(function
e(t){if(a.isPrototypeOf(t)){if(!k)return
o.create(&quot;operation&quot;,&quot;Optional string patterns, like
(&quot;+r+&quot;:)&quot;+(&quot;p-many&quot;===r?&quot; with min
0&quot;:&quot;&quot;)+&quot;, can't have typed variables inside them.&quot;);var
n=e(t.datatype);return
o.containsError(n)?n:&quot;(&quot;+n+&quot;)&quot;}if(i.isPrototypeOf(t)){if(!k&amp;&amp;&quot;typedVars&quot;in
t&amp;&amp;t.typedVars().length)return
o.create(&quot;operation&quot;,&quot;(&quot;+r+&quot;:) can't have typed
variables inside its
pattern.&quot;);if(t.regExp)return(t.rest?&quot;(?:&quot;:&quot;&quot;)+(S?t.insensitive().regExp:t.regExp)+(t.rest?&quot;)*&quot;:&quot;&quot;);var
h=t.name,y=t.rest?&quot;*&quot;:&quot;&quot;;return&quot;alnum&quot;===h?s+y:&quot;whitespace&quot;===h?p+y:&quot;uppercase&quot;===h?(S?l:c)+y:&quot;lowercase&quot;===h?(S?l:u)+y:&quot;anycase&quot;===h?l+y:&quot;digit&quot;===h?&quot;\\d&quot;+y:&quot;linebreak&quot;===h?&quot;(?:\\r|\\n|\\r\\n)&quot;+y:&quot;str&quot;===h?&quot;.*?&quot;:[&quot;even&quot;,&quot;odd&quot;,&quot;int&quot;,&quot;num&quot;].includes(h)?o.create(&quot;datatype&quot;,&quot;Please
use string datatypes like 'digit' in (&quot;+r+&quot;:) instead of number
datatypes.&quot;):o.create(&quot;datatype&quot;,&quot;The (&quot;+r+&quot;:)
macro must only be given string-related datatypes, not
&quot;+d(t)+&quot;.&quot;)}return&quot;string&quot;==typeof
t?(t=t.replace(/[.*+\-?^${}()|[\]\\]/g,&quot;\\$&amp;&quot;),S&amp;&amp;(t=t.replace(RegExp(&quot;(&quot;+c+&quot;|&quot;+u+&quot;)&quot;,&quot;g&quot;),function(e){return&quot;[&quot;+e.toUpperCase()+e.toLowerCase()+&quot;]&quot;})),t):(f(&quot;createPattern&quot;,&quot;mapper()
was given a non-string non-datatype &quot;+t),&quot;&quot;)});if(n=o.containsError(C))return
n;var E=v(C),_=w(T(i),{name:r,regExp:E,insensitive:function(){return
S?_:e({name:r,fullArgs:y,args:A.map(function(e){return
i.isPrototypeOf(e)&amp;&amp;&quot;function&quot;==typeof
e.insensitive?e.insensitive():e}),makeRegExpString:v,insensitive:!0,canContainTypedVars:k,canBeUsedAlone:j})},typedVars:function(){return
A.reduce(function(t,n){return
a.isPrototypeOf(n)&amp;&amp;(t=t.concat(S?a.create(e({name:&quot;p-ins&quot;,fullArgs:[n.datatype],insensitive:!0}),n.varRef):n),n=n.datatype),i.isPrototypeOf(n)&amp;&amp;&quot;function&quot;==typeof
n.typedVars&amp;&amp;(t=t.concat(n.typedVars())),t},[])},destructure:function(t){if(&quot;string&quot;!=typeof
t)return[o.create(&quot;operation&quot;,&quot;I can't unpack &quot;+d(t)+&quot;
into &quot;+this.TwineScript_ToSource()+&quot; because it isn't a
string.&quot;)];var n=this.typedVars();if(!n.length)return[];var r=(RegExp(&quot;^&quot;+(this.rest?&quot;(?:&quot;:&quot;&quot;)+E+(this.rest?&quot;)*&quot;:&quot;&quot;)+&quot;$&quot;).exec(t)||[]).slice(1);return
r.length?r.map(function(t,r){var i=n[r];if(i)return
i.datatype.rest&amp;&amp;!i.datatype.regExp&amp;&amp;((i=i.TwineScript_Clone()).datatype=e({name:&quot;p&quot;,fullArgs:[i.datatype]})),{dest:i,value:t||&quot;&quot;,src:void
0}}).filter(Boolean):[o.create(&quot;operation&quot;,&quot;I can't unpack
&quot;+d(t)+&quot; because it doesn't match the pattern
&quot;+this.TwineScript_ToSource()+&quot;.&quot;)]},TwineScript_IsTypeOf:function(e){return
j?&quot;string&quot;==typeof e&amp;&amp;!!e.match(&quot;^&quot;+(this.rest?&quot;(?:&quot;:&quot;&quot;)+E+(this.rest?&quot;)*&quot;:&quot;&quot;)+&quot;$&quot;):o.create(&quot;operation&quot;,&quot;A
(&quot;+r+&quot;:) datatype must only be used with a (p:)
macro.&quot;)},TwineScript_toTypeSignatureObject:function(){var
e=this;return{pattern:&quot;range&quot;,name:r,range:function(t){return
e.TwineScript_IsTypeOf(t)}}},TwineScript_ToSource:function(){return(this.rest?&quot;...&quot;:&quot;&quot;)+&quot;(&quot;+r+&quot;:&quot;+y.map(h)+&quot;)&quot;}});return
Object.defineProperty(_,&quot;TwineScript_ObjectName&quot;,{get:function(){return&quot;a
(&quot;+r+&quot;:)
datatype&quot;}}),_};t.add([&quot;p&quot;,&quot;pattern&quot;],function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
x({name:&quot;p&quot;,fullArgs:n})},S)([&quot;p-either&quot;,&quot;pattern-either&quot;],function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
x({name:&quot;p-either&quot;,fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return&quot;(?:&quot;+e.join(&quot;|&quot;)+&quot;)&quot;}})},S)([&quot;p-opt&quot;,&quot;pattern-opt&quot;,&quot;p-optional&quot;,&quot;pattern-optional&quot;],function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
x({name:&quot;p-opt&quot;,fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return&quot;(?:&quot;+e.join(&quot;&quot;)+&quot;)?&quot;}})},S)([&quot;p-not&quot;,&quot;pattern-not&quot;],function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
n.find(function(e){return&quot;string&quot;==typeof
e?1!==[].concat(_toConsumableArray(e)).length:e.rest||e.regExp||[&quot;str&quot;,&quot;empty&quot;].includes(e.name)})?o.create(&quot;datatype&quot;,&quot;(p-not:)
should only be given single
character&quot;):x({name:&quot;p-not&quot;,fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return&quot;[^&quot;+e.join(&quot;&quot;)+&quot;]&quot;}})},S)([&quot;p-many&quot;,&quot;pattern-many&quot;],function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];var
s=n.slice(),c=void 0,u=void 0;if(&quot;number&quot;==typeof
n[0]&amp;&amp;(c=n.shift(),u=&quot;number&quot;==typeof
n[0]?n.shift():1/0),void 0!==u&amp;&amp;u&lt;c)return
o.create(&quot;datatype&quot;,&quot;The (p-many:) macro needs to be given
string patterns, not just min and max numbers.&quot;);if(!n.length)return
o.create(&quot;datatype&quot;,&quot;The (p-many:) macro needs to be given
string patterns, not just min and max numbers.&quot;);var
l=n.find(function(e){return&quot;string&quot;!=typeof e&amp;&amp;!i.isPrototypeOf(e)&amp;&amp;!a.isPrototypeOf(e)});return
l?o.create(&quot;datatype&quot;,&quot;This (p-many:) macro can only be given a
min and max number followed by datatypes or strings, but was also given
&quot;+d(l)+&quot;.&quot;):x({name:&quot;p-many&quot;,args:n,fullArgs:s,canContainTypedVars:c&gt;0,makeRegExpString:function(e){return&quot;(?:&quot;+e.join(&quot;&quot;)+&quot;)&quot;+(void
0!==c?&quot;{&quot;+c+(u===1/0?&quot;,&quot;:u!==c?&quot;,&quot;+u:&quot;&quot;)+&quot;}&quot;:&quot;+&quot;)}})},[m(g(b,String,i,a))])([&quot;p-ins&quot;,&quot;pattern-ins&quot;,&quot;p-insensitive&quot;,&quot;pattern-insensitive&quot;],function(e){for(var
t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];return
x({name:&quot;p-ins&quot;,fullArgs:n,insensitive:!0})},S)([&quot;split&quot;,&quot;splitted&quot;],function(e,t,n){if(t=x({name:&quot;split&quot;,fullArgs:[t],canContainTypedVars:!1}),o.containsError(t))return
t;if(!n)return[&quot;&quot;];if(!t.regExp)return[].concat(_toConsumableArray(n));for(var
r=RegExp(t.regExp),i=[],a=void
0;n&amp;&amp;(a=r.exec(n));){if(a.index+a[0].length===0)return
i;i.push(n.slice(0,a.index)),n=n.slice(a.index+a[0].length)}return
i.concat(n||[])},[g(String,i),String])(&quot;trimmed&quot;,function(e,t,n){return
void 0===n||i.isPrototypeOf(t)&amp;&amp;&quot;whitespace&quot;===t.name?t.trim():(t=x({name:&quot;trimmed&quot;,fullArgs:[t],canContainTypedVars:!1}),o.containsError(t)?t:t.regExp?n.replace(RegExp(&quot;^(&quot;+t.regExp+&quot;)*|(&quot;+t.regExp+&quot;)*$&quot;,&quot;g&quot;),&quot;&quot;):n)},[g(String,i),v(String)])}),define(&quot;macrolib/links&quot;,[&quot;jquery&quot;,&quot;macros&quot;,&quot;utils&quot;,&quot;state&quot;,&quot;passages&quot;,&quot;engine&quot;,&quot;datatypes/changercommand&quot;,&quot;internaltypes/changedescriptor&quot;,&quot;datatypes/hookset&quot;,&quot;datatypes/lambda&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,a,o,s,c,u,l){var
p=t.TypeSignature,f=p.optional,d=p.rest,h=p.either,y=[&quot;Links can't have
empty strings for their displayed text.&quot;,&quot;In the link syntax, a
link's displayed text is inside the [[ and ]], and on the non-pointy side of
the -&gt; or &lt;- arrow if it's there.&quot;],m=Object.assign;function
g(e,t,r){r=r||t;var
a=i.hasValid(t)&amp;&amp;t===r,o=e.evaluateTwineMarkup(n.unescape(r),&quot;a
link's passage name&quot;),s=void 0;if(a){var
c=o.children().length&gt;0?&quot;`&quot;.repeat((r.match(/`+/)||[]).reduce(function(e,t){return
Math.max(e,t.length+1)},1)):&quot;&quot;;t=c+&quot;\0&quot;.repeat(!!c)+t+&quot;\0&quot;.repeat(!!c)+c}else
o.findAndFilter(&quot;tw-error&quot;).length&amp;&amp;(s=o.findAndFilter(&quot;tw-error&quot;).data(&quot;TwineError&quot;)),r=o.text();return{text:t,passage:r,error:s}}n.onStartup(function(){e(n.storyElement).on(&quot;click.passage-link&quot;,&quot;tw-link&quot;,function(){var
t=e(this),n=t.closest(&quot;tw-expression&quot;),r=t.closest(&quot;tw-expression,
tw-hook&quot;),i=r.data(&quot;clickEvent&quot;),o=r.data(&quot;section&quot;);if(!(o&amp;&amp;o.stackTop&amp;&amp;o.stackTop.blocked))if(i){if(t.find(&quot;tw-error&quot;).length&gt;0)return;i(t)}else{var
s=n.data(&quot;linkPassageName&quot;),c=Object.assign({},n.data(&quot;passageT8n&quot;)||{});n.find(&quot;tw-enchantment&quot;).each(function(t,n){Object.assign(c,e(n).data(&quot;passageT8n&quot;)||{})}),s?a.goToPassage(s,{transition:c}):t.is(&quot;[undo]&quot;)?a.goBack({transition:c}):t.is(&quot;[fullscreen]&quot;)&amp;&amp;a.toggleFullscreen()}}),e(document).on(&quot;fullscreenchange&quot;,function(){e(&quot;tw-link[fullscreen]&quot;,n.storyElement).each(function(t,n){(e(n).closest(&quot;tw-expression,
tw-hook&quot;).data(&quot;fullscreenEvent&quot;)||Object)(n)})})}),[[&quot;link&quot;,&quot;link-replace&quot;],[&quot;link-reveal&quot;],[&quot;link-repeat&quot;],[&quot;link-rerun&quot;]].forEach(function(e){return
t.addChanger(e,function(t,n,r){if(!n)return
l.create(&quot;datatype&quot;,y[0]);if(r){var
i=r.summary();if([&quot;newTargets&quot;,&quot;target&quot;,&quot;appendSource&quot;,&quot;functions&quot;].some(function(e){return
i.includes(e)}))return l.create(&quot;datatype&quot;,&quot;The changer given to
(&quot;+e[0]+&quot;:) can't include a revision or enchantment changer like
(replace:) or (click:).&quot;)}return
o.create(e[0],[n].concat(r||[]))},function(t,n,r){var
i=e[0],a=t.section&amp;&amp;t.section.stackTop?t.section.stackTop.tempVariables:Object.create(null),o=s.create({source:&quot;&lt;tw-link
tabindex=0&gt;&quot;+n+&quot;&lt;/tw-link&gt;&quot;,target:function(){return
t.target},append:&quot;replace&quot;,data:{section:t.section,clickEvent:function(e){t.enablers=t.enablers.filter(function(e){return
e.descriptor!==o}),&quot;link-reveal&quot;===i&amp;&amp;e.contents().unwrap();var
n=e.parent();&quot;link-rerun&quot;===i&amp;&amp;e.detach(),&quot;link&quot;!==i&amp;&amp;&quot;link-rerun&quot;!==i&amp;&amp;&quot;click-block&quot;!==i||n.empty(),t.section.renderInto(&quot;&quot;,null,t,a),&quot;link-rerun&quot;===i&amp;&amp;n.prepend(e)}}});return
t.enablers=(t.enablers||[]).concat({descriptor:o,changer:r}),t},[String,f(o)])}),t.addCommand(&quot;link-goto&quot;,function(e){if(!e)return
l.create.apply(l,[&quot;datatype&quot;].concat(y))},function(e,t,a,o){var
s,c=g(t,a,o);if(a=c.text,o=c.passage,s=c.error)return s;if(e.transition){var
u=&quot;transition&quot;;return l.create(&quot;datatype&quot;,&quot;Please
attach (&quot;+u+&quot;-depart:) or (&quot;+u+&quot;-arrive:) to a passage
link, not (&quot;+u+&quot;:).&quot;)}var p=void 0;return
i.hasValid(o)||(p='&lt;tw-broken-link
passage-name=&quot;'+n.escape(o)+'&quot;&gt;'+a+&quot;&lt;/tw-broken-link&gt;&quot;),p=p||&quot;&lt;tw-link
tabindex=0 &quot;+(r.passageNameVisited(o)&gt;0?'class=&quot;visited&quot;
':&quot;&quot;)+&quot;&gt;&quot;+a+&quot;&lt;/tw-link&gt;&quot;,e.data.linkPassageName=o,e.data.section=t,m(e,{source:p,transitionDeferred:!0})},[String,f(String)])(&quot;link-storylet&quot;,function(){var
e,t=(e=1===arguments.length||&quot;string&quot;!=typeof(arguments.length&lt;=0?void
0:arguments[0])?0:1,arguments.length&lt;=e?void 0:arguments[e]);if(!t||&quot;string&quot;==typeof
t)return l.create(&quot;datatype&quot;,&quot;(link-storylet:) should be given
one index number or one 'where' lambda, after the optional link text
string.&quot;)},function(e,t){var n,a,o,s=(n=2+(1==(arguments.length&lt;=2?0:arguments.length-2)?0:3==(arguments.length&lt;=2?0:arguments.length-2)||&quot;string&quot;==typeof(arguments.length&lt;=2?void
0:arguments[2])?1:2),arguments.length&lt;=n?void
0:arguments[n]),c=&quot;string&quot;==typeof(arguments.length&lt;=2?void
0:arguments[2])&amp;&amp;(arguments.length&lt;=2?void 0:arguments[2]),p=(a=(arguments.length&lt;=2?0:arguments.length-2)-1+2,(arguments.length&lt;=a?void
0:arguments[a])!==s&amp;&amp;(o=(arguments.length&lt;=2?0:arguments.length-2)-1+2,arguments.length&lt;=o?void
0:arguments[o]));if(e.transition){var f=&quot;transition&quot;;return
l.create(&quot;datatype&quot;,&quot;Please attach (&quot;+f+&quot;-depart:) or
(&quot;+f+&quot;-arrive:) to (link-storylet:), not
(&quot;+f+&quot;:).&quot;)}var
d=u.isPrototypeOf(s),h=i.getStorylets(t,d&amp;&amp;s),y=l.containsError(h);if(y)return
y;var g=h[d?0:s&lt;0?h.length+s:s-1],v=void 0;if(g)g=g.get(&quot;name&quot;),c=c||g,v=v||&quot;&lt;tw-link
tabindex=0 &quot;+(r.passageNameVisited(g)&gt;0?'class=&quot;visited&quot;
':&quot;&quot;)+&quot;&gt;&quot;+c+&quot;&lt;/tw-link&gt;&quot;,e.data.linkPassageName=g,e.data.section=t;else{if(!p)return
e;v=p}return m(e,{source:v,transitionDeferred:!0})},[h(parseInt,String,u.TypeSignature(&quot;where&quot;)),f(h(parseInt,String,u.TypeSignature(&quot;where&quot;))),f(String)])(&quot;link-undo&quot;,function(e){if(!e)return
l.create(&quot;datatype&quot;,y[0])},function(e,t,n){return
r.pastLength&lt;1?l.create(&quot;macrocall&quot;,&quot;I can't use (link-undo:)
on the first turn.&quot;):(e.data.section=t,m(e,{source:&quot;&lt;tw-link
tabindex=0 undo&gt;&quot;+n+&quot;&lt;/tw-link&gt;&quot;,transitionDeferred:!0}))},[String])(&quot;link-show&quot;,function(e){if(!e)return
l.create(&quot;datatype&quot;,y[0])},function(t,n,r){for(var
i=arguments.length,a=Array(i&gt;3?i-3:0),o=3;o&lt;i;o++)a[o-3]=arguments[o];return
t.data.section=n,t.data.clickEvent=function(r){r.contents().unwrap(),a.forEach(function(r){return
r.forEach(n,function(r){var
i=r.data(&quot;originalSource&quot;)||&quot;&quot;,a=r.data(&quot;hidden&quot;);if(a)if(r.removeData(&quot;hidden&quot;),a
instanceof e)r.empty().append(a);else{var
o=r.data(&quot;tempVariables&quot;);n.renderInto(&quot;&quot;,null,m({},t,{source:i,target:r,transitionDeferred:!1}),o&amp;&amp;Object.create(o))}})})},m(t,{source:&quot;&lt;tw-link
tabindex=0&gt;&quot;+r+&quot;&lt;/tw-link&gt;&quot;,transitionDeferred:!0})},[String,d(c)])(&quot;link-fullscreen&quot;,function(e,t){if(!e||!t)return
l.create(&quot;datatype&quot;,y[0])},function(e,t,n,r){var i=function(){return
document.fullscreenEnabled||document.msFullscreenEnabled?&quot;&lt;tw-link
tabindex=0
fullscreen&gt;&quot;+(document.fullscreenElement||document.msFullscreenElement?r:n)+&quot;&lt;/tw-link&gt;&quot;:r?&quot;&lt;tw-broken-link&gt;&quot;+r+&quot;&lt;/tw-broken-link&gt;&quot;:&quot;&quot;},a=t.stackTop.tempVariables;return
e.data.section=t,e.data.fullscreenEvent=function(){(document.fullscreenEnabled||document.msFullscreenEnabled)&amp;&amp;e.data.section.whenUnblocked(function(){var
t=m({},e,{append:&quot;replace&quot;,source:i(),transitionDeferred:!1});e.section.renderInto(&quot;&quot;,null,t,a)})},m(e,{source:i(),transitionDeferred:!0})},[String,String,f(String)]),t.addChanger([&quot;link-reveal-goto&quot;],function(e,t,n,r){if(!t)return
l.create.apply(l,[&quot;datatype&quot;].concat(y));if(o.isPrototypeOf(n)){if(o.isPrototypeOf(r))return
l.create(&quot;datatype&quot;,&quot;You mustn't give two changers to
(link-reveal-goto:)&quot;);r=n,n=void 0}if(r){var
i=r.summary();if([&quot;newTargets&quot;,&quot;target&quot;,&quot;appendSource&quot;,&quot;functions&quot;].some(function(e){return
i.includes(e)}))return l.create(&quot;datatype&quot;,&quot;The changer given to
(link-reveal-goto:) can't include a revision or enchantment changer like
(replace:) or (click:).&quot;)}var a=g(e,t,n);return
t=a.text,n=a.passage,a.error||o.create(&quot;link-reveal-goto&quot;,[t,n,r].filter(function(e){return
void 0!==e}))},function(e,t,o,c){if(i.hasValid(o)){var
u=r.passageNameVisited(o),l=e.section&amp;&amp;e.section.stackTop?e.section.stackTop.tempVariables:Object.create(null),p=s.create({source:&quot;&lt;tw-link
tabindex=0 &quot;+(u&gt;0?'class=&quot;visited&quot;
':&quot;&quot;)+&quot;&gt;&quot;+t+&quot;&lt;/tw-link&gt;&quot;,target:e.target,append:&quot;replace&quot;,data:{section:e.section,append:&quot;replace&quot;,clickEvent:function(t){e.enablers=e.enablers.filter(function(e){return
e.descriptor!==p}),t.contents().unwrap(),e.section.renderInto(&quot;&quot;,null,e,l),e.section.whenUnblocked(function(){return
a.goToPassage(o,{transition:e.data.passageT8n})})}}});return
e.enablers=(e.enablers||[]).concat({descriptor:p,changer:c}),e}e.source='&lt;tw-broken-link
passage-name=&quot;'+n.escape(o)+'&quot;&gt;'+t+&quot;&lt;/tw-broken-link&gt;&quot;},[String,f(h(o,String)),f(o)])}),define(&quot;macrolib/custommacros&quot;,[&quot;utils&quot;,&quot;macros&quot;,&quot;state&quot;,&quot;utils/operationutils&quot;,&quot;datatypes/changercommand&quot;,&quot;datatypes/custommacro&quot;,&quot;datatypes/codehook&quot;,&quot;datatypes/typedvar&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,a,o,s,c){var
u=t.add,l=t.addChanger,p=t.addCommand,f=t.TypeSignature,d=f.rest,h=f.either,y=f.Any,m=r.objectName;u(&quot;macro&quot;,function(t){for(var
r=arguments.length,i=Array(r&gt;1?r-1:0),o=1;o&lt;r;o++)i[o-1]=arguments[o];var
u=void 0,l=[];for(u=0;u&lt;i.length;u+=1){var
p=u===i.length-1;if(s.isPrototypeOf(i[u])===p)return c.create(&quot;datatype&quot;,&quot;The
&quot;+(p?&quot;&quot;:e.nth(i.length-u+1)+&quot;-&quot;)+&quot;last value
given to (macro:) should be a &quot;+(p?&quot;code hook&quot;:&quot;datatyped
variable&quot;)+&quot;, not &quot;+m(i[u]));if(!p){var f=&quot;A custom
macro&quot;;if(i[u].varRef.object===n.variables)return c.create(&quot;datatype&quot;,f+&quot;'s
typed variables must be temp variables (with a '_'), not global variables (with
a '$').&quot;,&quot;Write them with a _ symbol at the start instead of a $
symbol.&quot;);if(i[u].varRef.propertyChain.length&gt;1)return
c.create(&quot;datatype&quot;,f+&quot;'s typed variables can't be properties
inside a data structure.&quot;);if(i[u].datatype.rest&amp;&amp;u!==i.length-2)return
c.create(&quot;datatype&quot;,f+&quot; can only have one spread variable, and
it must be its last variable.&quot;);var
d=i[u].varRef.propertyChain[0];if(l.includes(d))return
c.create(&quot;datatype&quot;,f+&quot;'s typed variables can't both be named '&quot;+d+&quot;'.&quot;);l.push(d)}}return
a.create(i.slice(0,-1),i[i.length-1])},[d(h(s,o))]);var
g=function(e,t,n){if(!t.some(function(e){if(&quot;function&quot;==typeof
e.output)return e.output(n),!0}))return c.create(&quot;macrocall&quot;,&quot;(&quot;+e+&quot;:)
should only be used inside a code hook passed to
(macro:).&quot;)};p([&quot;output-data&quot;,&quot;out-data&quot;],function(){},function(e,t){var
n=e.stack;return
g(&quot;output-data&quot;,n,t)||&quot;blocked&quot;},[y],!1),l([&quot;output&quot;,&quot;out&quot;],function(e){return
Object.assign(i.create(&quot;output&quot;,[e]))},function(e,t){var
n=t.stack,r=t.stackTop;return
e.loopVars=Object.keys(r.tempVariables).reduce(function(e,t){return
e[t]=[r.tempVariables[t]],e},{}),g(&quot;output&quot;,n,e),r.blocked=!0,e},[]),p(&quot;error&quot;,function(e){if(!e)return
c.create(&quot;datatype&quot;,&quot;This (error:) macro was given an empty
string.&quot;)},function(e,t){var n=e.stack;return
g(&quot;error&quot;,n,c.create(&quot;user&quot;,t))||&quot;blocked&quot;},[String],!1)}),define(&quot;repl&quot;,[&quot;utils&quot;,&quot;engine&quot;,&quot;markup&quot;,&quot;twinescript/compiler&quot;,&quot;twinescript/environ&quot;],function(e,t,n,r,i){e.onStartup(function(){return
setTimeout(function(){t.options.debug&amp;&amp;(window.REPL=function(e){var
t=r(n.lex(&quot;(print:&quot;+e+&quot;)&quot;));console.log(t);var
a=i({}).eval(t);return
a.TwineScript_Run?a.TwineScript_Run().source:a},window.LEX=function(e){var
t=n.lex(e);return 1===t.length?t[0]:t})})})}),require.config({paths:{jquery:&quot;../node_modules/jquery/dist/jquery&quot;,almond:&quot;../node_modules/almond/almond&quot;,&quot;es6-shim&quot;:&quot;../node_modules/es6-shim/es6-shim&quot;,jqueryplugins:&quot;utils/jqueryplugins&quot;,markup:&quot;./markup/markup&quot;,lexer:&quot;./markup/lexer&quot;,patterns:&quot;./markup/patterns&quot;},deps:[&quot;es6-shim&quot;,&quot;jqueryplugins&quot;]}),require([&quot;jquery&quot;,&quot;debugmode/mode&quot;,&quot;renderer&quot;,&quot;state&quot;,&quot;section&quot;,&quot;engine&quot;,&quot;passages&quot;,&quot;utils&quot;,&quot;utils/renderutils&quot;,&quot;internaltypes/twineerror&quot;,&quot;macros&quot;,&quot;macrolib/values&quot;,&quot;macrolib/commands&quot;,&quot;macrolib/datastructures&quot;,&quot;macrolib/stylechangers&quot;,&quot;macrolib/enchantments&quot;,&quot;macrolib/metadata&quot;,&quot;macrolib/patterns&quot;,&quot;macrolib/links&quot;,&quot;macrolib/custommacros&quot;,&quot;repl&quot;],function($,DebugMode,Renderer,State,Section,Engine,Passages,Utils,_ref118,TwineError){var
dialog=_ref118.dialog;function __HarloweEval(text){return
eval(text+&quot;&quot;)}var
_installHandlers=function(){$(document.documentElement).on(&quot;keydown&quot;,function(e){13===e.which&amp;&amp;&quot;0&quot;===e.target.getAttribute(&quot;tabindex&quot;)&amp;&amp;$(e.target).trigger(&quot;click&quot;)}),Engine.options.debug?DebugMode():TwineError.on(&quot;error&quot;,function(e,t){return!$(&quot;tw-debugger&quot;).length&amp;&amp;DebugMode(e,t)}),_installHandlers=null},oldOnError;function
printJSError(e){var t=e.name+&quot;: &quot;+e.message;if(e.stack){var
n=e.stack.split(&quot;\n&quot;),r=n.findIndex(function(e){return e.includes(&quot;__HarloweEval&quot;)});t+=&quot;\n&quot;+n.slice(0,r).join(&quot;\n&quot;).replace(/\([^\)]+\)/g,&quot;&quot;)}return&quot;&lt;div
style='font-family:monospace;overflow-y:scroll;max-height:30vh'&gt;```&quot;+t+&quot;```&lt;/div&gt;&quot;}oldOnError=window.onerror,window.onerror=function(e,t,n,r,i){window.onerror=oldOnError,Utils.storyElement.parent().append(dialog({message:&quot;Sorry
to interrupt, but this page's code has got itself in a
mess.\n\n&quot;+printJSError(i)+&quot;\n(This is probably due to a bug in the
Harlowe game engine.)&quot;})),&quot;function&quot;==typeof
oldOnError&amp;&amp;oldOnError.apply(void 0,arguments)},Utils.onStartup(function(){var
e=$(&quot;tw-storydata&quot;);if(0!==e.length){var
t=e.attr(&quot;options&quot;);t&amp;&amp;t.split(/\s/).forEach(function(e){Renderer.options[e]=Engine.options[e]=!0});var
n=e.attr(&quot;startnode&quot;);Renderer.options.ifid=Engine.options.ifid=e.attr(&quot;ifid&quot;),n||(n=[].reduce.call($(&quot;tw-passagedata&quot;),function(e,t){var
n=t.getAttribute(&quot;pid&quot;);return
n&lt;e?n:e},1/0)),n=$(&quot;tw-passagedata[pid=&quot;+n+&quot;]&quot;).attr(&quot;name&quot;),_installHandlers();var
r=!1;$(&quot;[role=script]&quot;).each(function(e){try{__HarloweEval($(this).html())}catch(t){r||(r=!0,dialog({parent:Utils.storyElement.parent(),message:&quot;There
is a problem with this story's &quot;+Utils.nth(e+1)+&quot;
script:\n\n&quot;+printJSError(t)}))}}),$(&quot;[role=stylesheet]&quot;).each(function(e){$(document.head).append('&lt;style
data-title=&quot;Story stylesheet '+(e+1)+'&quot;&gt;'+$(this).html())});var
i=Section.create(),a=Passages.loadMetadata(i);if(a.length){var
o=dialog({parent:Utils.storyElement.parent(),message:&quot;These errors
occurred when running the `(metadata:)` macro calls in this story's
passages:&lt;p&gt;&lt;/p&gt;&quot;});a.forEach(function(e){return
o.find(&quot;p&quot;).append(e.render(&quot;&quot;))})}var
s=!Engine.options.debug&amp;&amp;State.hasSessionStorage&amp;&amp;sessionStorage.getItem(&quot;Saved
Session&quot;);s&amp;&amp;!0===State.deserialise(i,s)?Engine.showPassage(State.passage,!1):Engine.goToPassage(n)}})}),define(&quot;harlowe&quot;,function(){}),require([&quot;harlowe&quot;])}();</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;/script&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;/body&gt;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
style='font-size:12.0pt;font-family:"ＭＳ ゴシック";color:black'>&lt;/html&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

</body>

</html>
